# ConTech-DX ê³µì •ê´€ë¦¬ ì‹œìŠ¤í…œ ìƒì„¸ ì„¤ê³„ì„œ

> **ë²„ì „**: 1.0.0  
> **ì‘ì„±ì¼**: 2025ë…„ 1ì›”  
> **ëŒ€ìƒ**: ê°œë°œì, ì‹œìŠ¤í…œ ê´€ë¦¬ì, í˜„ì¥ ê´€ë¦¬ì

---

## ëª©ì°¨

- [1ë¶€: ì‹œìŠ¤í…œ ê°œìš”](#1ë¶€-ì‹œìŠ¤í…œ-ê°œìš”)
  - [1.1 ê³µì •ê´€ë¦¬ ì‹œìŠ¤í…œ ì†Œê°œ](#11-ê³µì •ê´€ë¦¬-ì‹œìŠ¤í…œ-ì†Œê°œ)
  - [1.2 ê±´ì¶• ê³µì •ê´€ë¦¬ ê¸°ë³¸ ê°œë…](#12-ê±´ì¶•-ê³µì •ê´€ë¦¬-ê¸°ë³¸-ê°œë…)
- [2ë¶€: ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜](#2ë¶€-ì‹œìŠ¤í…œ-ì•„í‚¤í…ì²˜)
  - [2.1 ì „ì²´ ì‹œìŠ¤í…œ êµ¬ì¡°](#21-ì „ì²´-ì‹œìŠ¤í…œ-êµ¬ì¡°)
  - [2.2 ê¸°ìˆ  ìŠ¤íƒ](#22-ê¸°ìˆ -ìŠ¤íƒ)
  - [2.3 ë””ë ‰í† ë¦¬ êµ¬ì¡°](#23-ë””ë ‰í† ë¦¬-êµ¬ì¡°)
- [3ë¶€: ë°ì´í„° ëª¨ë¸](#3ë¶€-ë°ì´í„°-ëª¨ë¸)
  - [3.1 í•µì‹¬ íƒ€ì… ì •ì˜](#31-í•µì‹¬-íƒ€ì…-ì •ì˜)
  - [3.2 ë°ì´í„° ê´€ê³„ë„](#32-ë°ì´í„°-ê´€ê³„ë„)
  - [3.3 ì €ì¥ì†Œ ì „ëµ](#33-ì €ì¥ì†Œ-ì „ëµ)
- [4ë¶€: ê³µì • ê³„ì‚° ë¡œì§](#4ë¶€-ê³µì •-ê³„ì‚°-ë¡œì§)
  - [4.1 ê³„ì‚° ì•Œê³ ë¦¬ì¦˜](#41-ê³„ì‚°-ì•Œê³ ë¦¬ì¦˜)
  - [4.2 ê³µì • ëª¨ë“ˆ ë°ì´í„°](#42-ê³µì •-ëª¨ë“ˆ-ë°ì´í„°)
  - [4.3 ë¬¼ëŸ‰ ì°¸ì¡° ì‹œìŠ¤í…œ](#43-ë¬¼ëŸ‰-ì°¸ì¡°-ì‹œìŠ¤í…œ)
- [5ë¶€: UI ì»´í¬ë„ŒíŠ¸](#5ë¶€-ui-ì»´í¬ë„ŒíŠ¸)
  - [5.1 ë™ë³„ê³µì •ê³„íší‘œ](#51-ë™ë³„ê³µì •ê³„íší‘œ)
  - [5.2 ì§€í•˜ì¸µê³µì •ê³„íší‘œ](#52-ì§€í•˜ì¸µê³µì •ê³„íší‘œ)
  - [5.3 ëŒ€ì‹œë³´ë“œ ì»´í¬ë„ŒíŠ¸](#53-ëŒ€ì‹œë³´ë“œ-ì»´í¬ë„ŒíŠ¸)
- [6ë¶€: ê°„íŠ¸ì°¨íŠ¸ í†µí•©](#6ë¶€-ê°„íŠ¸ì°¨íŠ¸-í†µí•©)
  - [6.1 í†µí•© ê³„íš](#61-í†µí•©-ê³„íš)
  - [6.2 ë°ì´í„° ë³€í™˜ ë ˆì´ì–´](#62-ë°ì´í„°-ë³€í™˜-ë ˆì´ì–´)
  - [6.3 êµ¬í˜„ ì²´í¬ë¦¬ìŠ¤íŠ¸](#63-êµ¬í˜„-ì²´í¬ë¦¬ìŠ¤íŠ¸)
- [7ë¶€: ì‚¬ìš©ì ê°€ì´ë“œ](#7ë¶€-ì‚¬ìš©ì-ê°€ì´ë“œ)
  - [7.1 ê³µì •ê³„íš ìˆ˜ë¦½ í”„ë¡œì„¸ìŠ¤](#71-ê³µì •ê³„íš-ìˆ˜ë¦½-í”„ë¡œì„¸ìŠ¤)
  - [7.2 ì£¼ìš” ê¸°ëŠ¥ ì„¤ëª…](#72-ì£¼ìš”-ê¸°ëŠ¥-ì„¤ëª…)
  - [7.3 ë¬¸ì œ í•´ê²° ê°€ì´ë“œ](#73-ë¬¸ì œ-í•´ê²°-ê°€ì´ë“œ)

---

# 1ë¶€: ì‹œìŠ¤í…œ ê°œìš”

## 1.1 ê³µì •ê´€ë¦¬ ì‹œìŠ¤í…œ ì†Œê°œ

### 1.1.1 ëª©ì  ë° ë°°ê²½

ConTech-DXì˜ ê³µì •ê´€ë¦¬ ì‹œìŠ¤í…œì€ **ê±´ì¶• ê³¨ì¡° ì§ì˜ê³µì‚¬**ì˜ ê³µì • ê³„íš ìˆ˜ë¦½ê³¼ ì§„ë„ ê´€ë¦¬ë¥¼ ë””ì§€í„¸í™”í•˜ì—¬, í˜„ì¥ ê´€ë¦¬ì˜ íš¨ìœ¨ì„±ì„ ê·¹ëŒ€í™”í•˜ëŠ” ê²ƒì„ ëª©í‘œë¡œ í•©ë‹ˆë‹¤.

#### ê¸°ì¡´ ë¬¸ì œì 

ì „í†µì ì¸ ê±´ì„¤ í˜„ì¥ì—ì„œëŠ” ë‹¤ìŒê³¼ ê°™ì€ ë¬¸ì œì ì´ ìˆì—ˆìŠµë‹ˆë‹¤:

1. **Excel ê¸°ë°˜ ìˆ˜ì‘ì—… ê´€ë¦¬**
   - ë³µì¡í•œ ìˆ˜ì‹ê³¼ ì°¸ì¡°ë¡œ ì¸í•œ ì˜¤ë¥˜ ê°€ëŠ¥ì„±
   - ì—¬ëŸ¬ íŒŒì¼ ê°„ ë°ì´í„° ë™ê¸°í™” ì–´ë ¤ì›€
   - ë³€ê²½ ì´ë ¥ ì¶”ì  ë¶ˆê°€
   - í˜‘ì—… ë° ê³µìœ ì˜ í•œê³„

2. **ì‹¤ì‹œê°„ ì§„ë„ íŒŒì•… ì–´ë ¤ì›€**
   - ìˆ˜ë™ìœ¼ë¡œ ì‘ì„±ëœ ì¼ì¼ ë³´ê³ ì„œ ì˜ì¡´
   - ì§€ì—° ë°œìƒ ì‹œ ì¦‰ê°ì ì¸ ëŒ€ì‘ ë¶ˆê°€
   - ì „ì²´ í”„ë¡œì íŠ¸ í˜„í™© íŒŒì•…ì— ì‹œê°„ ì†Œìš”

3. **í‘œì¤€í™” ë¶€ì¬**
   - í˜„ì¥ë§ˆë‹¤ ë‹¤ë¥¸ ê´€ë¦¬ ë°©ì‹
   - ë…¸í•˜ìš°ì˜ ì²´ê³„ì  ì¶•ì  ë¶ˆê°€
   - ì‹ ì… ì§ì›ì˜ í•™ìŠµ ê³¡ì„  ê°€íŒŒë¦„

#### ì‹œìŠ¤í…œì˜ í•´ê²°ì±…

ConTech-DXëŠ” ë‹¤ìŒê³¼ ê°™ì€ ë°©ì‹ìœ¼ë¡œ ë¬¸ì œë¥¼ í•´ê²°í•©ë‹ˆë‹¤:

```mermaid
graph LR
    A[Excel ê¸°ë°˜<br/>ìˆ˜ì‘ì—… ê´€ë¦¬] -->|ë””ì§€í„¸í™”| B[Web ê¸°ë°˜<br/>ì‹¤ì‹œê°„ ì‹œìŠ¤í…œ]
    B --> C[ìë™ ê³„ì‚°<br/>ì—”ì§„]
    B --> D[ê°„íŠ¸ì°¨íŠ¸<br/>ì‹œê°í™”]
    B --> E[ì‹¤ì‹œê°„<br/>ì§„ë„ ì¶”ì ]
    
    C --> F[ì •í™•ì„± í–¥ìƒ]
    D --> F
    E --> F
    
    F --> G[í˜„ì¥ ê´€ë¦¬<br/>íš¨ìœ¨ì„± ê·¹ëŒ€í™”]
```

### 1.1.2 í•µì‹¬ ê¸°ëŠ¥ ìš”ì•½
//**ì§€í•˜ì¸µì€ ë™ë³„ íƒ­ì´ì•„ë‹Œ íƒ€ì„¤êµ¬ê°„ íƒ­ì„ ë§Œë“¤ê³  íƒ€ì„¤êµ¬ê°„ì— ì£¼ë™ì§€í•˜,ì§€í•˜ì£¼ì°¨ì¥,6.5mì´ìƒ ì¸µê³ ë¶€ë¶„ ë“± ì„¸ë¶„í™”ëœ ê³µì •ì¼ì • ìˆ˜ë¦½ ê°€ëŠ¥í•˜ë„ë¡**
//**CPíƒ€ì„¤êµ¬ê°„ ê³„ì‚°ê¸°ëŠ¥- ê°€ì„¤,í™ë§‰ì´,í† ê³µì‚¬ì¼ìˆ˜+ë²„ë¦¼,ê¸°ì´ˆ,ì£¼ë™ì§€í•˜B2,ì£¼ë™ì§€í•˜B1 ê¹Œì§€ì˜ ê³µì‚¬ì¼ìˆ˜ê°€ ê°€ì¥ê¸´ êµ¬ê°„ì„ CPë¡œì„¤ì •**
| ê¸°ëŠ¥ ì˜ì—­ | ì£¼ìš” ê¸°ëŠ¥ | ì„¤ëª… |
|----------|----------|------|
| **ê³µì • ê³„íš ìˆ˜ë¦½** | ë™ë³„ ê³µì •ê³„íší‘œ | 6ê°€ì§€ ê³µì • êµ¬ë¶„ë³„ ì„¸ë¶€ ì¼ì • ìë™ ê³„ì‚° |
| | ì§€í•˜ì¸µ ê³µì •ê³„íší‘œ | ê°€ì„¤/í™ë§‰ì´/í† ê³µ í¬í•¨ ì§€í•˜ ê³µì • ê´€ë¦¬ | 
| | ê³µì • íƒ€ì… ì„ íƒ | í‘œì¤€ê³µì •, 5~8ì¼ ì‚¬ì´í´ ì¤‘ ì„ íƒ |
| **ìë™ ê³„ì‚°** | ë¬¼ëŸ‰ ê¸°ë°˜ ì¼ìˆ˜ ì‚°ì • | ë™Â·ì¸µë³„ ë¬¼ëŸ‰í‘œì™€ ì—°ë™í•˜ì—¬ ìë™ ê³„ì‚° |
| | ì¸ì›/ì¥ë¹„ ì‚°ì¶œ | ìƒì‚°ì„± ê¸°ì¤€ í•„ìš” ì¸ì› ë° ì¥ë¹„ ê³„ì‚° |
| | ê°„ì ‘ì¼ ìë™ ë°˜ì˜ | ì–‘ìƒ, ê²€ì¸¡ ë“± ê°„ì ‘ ì‘ì—…ì¼ í¬í•¨ |
| **ì‹œê°í™”** | ê°„íŠ¸ì°¨íŠ¸ | ë™ë³„ ê³µì •ì„ íƒ€ì„ë¼ì¸ìœ¼ë¡œ í‘œì‹œ |
| | ì§„ë„ íˆíŠ¸ë§µ | ì¸µë³„ ê³µì‚¬ ì§„í–‰ ìƒí™© ìƒ‰ìƒ í‘œì‹œ |
| | KPI ëŒ€ì‹œë³´ë“œ | ì£¼ìš” ì§€í‘œ ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ |
| **ë°ì´í„° ê´€ë¦¬** | í”„ë¡œì íŠ¸ë³„ ê´€ë¦¬ | ì—¬ëŸ¬ í”„ë¡œì íŠ¸ ë…ë¦½ì  ê´€ë¦¬ |
| | ë™ë³„ ë°ì´í„° ë¶„ë¦¬ | ë™ë§ˆë‹¤ ë³„ë„ ê³µì •ê³„íš ìˆ˜ë¦½ |
| | ë³€ê²½ ì´ë ¥ ì¶”ì  | ìˆ˜ì • ì‹œì  ë° ë‚´ìš© ê¸°ë¡ |

### 1.1.3 ì‹œìŠ¤í…œ ë²”ìœ„ ë° ì œì•½ì‚¬í•­

#### í˜„ì¬ ë²„ì „ ë²”ìœ„ (v1.0)

**í¬í•¨ ì‚¬í•­:**
- âœ… ê³¨ì¡° ì§ì˜ê³µì‚¬ ê³µì •ê³„íš ìˆ˜ë¦½
- âœ… 6ê°œ ê³µì • êµ¬ë¶„ (ë²„ë¦¼â†’ê¸°ì´ˆâ†’ì§€í•˜ì¸µâ†’ì…‹íŒ…ì¸µâ†’ê¸°ì¤€ì¸µâ†’ì˜¥íƒ‘ì¸µ)
- âœ… ìë™ ì¼ìˆ˜ ê³„ì‚° ë° ì¸ì› ì‚°ì¶œ
- âœ… ë¸Œë¼ìš°ì € LocalStorage ê¸°ë°˜ ë°ì´í„° ì €ì¥
- âœ… ë°˜ì‘í˜• UI (ëª¨ë°”ì¼/íƒœë¸”ë¦¿/ë°ìŠ¤í¬í†±)

**ì œì™¸ ì‚¬í•­:**
- âŒ ë§ˆê°ê³µì‚¬ ë° ì„¤ë¹„ê³µì‚¬ (ê³¨ì¡°ë§Œ ì§€ì›)
- âŒ ì‹¤ì‹œê°„ ë‹¤ì¤‘ ì‚¬ìš©ì í˜‘ì—… (ë‹¨ì¼ ì‚¬ìš©ì)                //**ì´ˆê¸°ë²„ì „ë¶€í„° ë‹¤ì¤‘ì‚¬ìš©ì í˜‘ì—…ê°€ëŠ¥í•˜ê²Œ í•´ì•¼í•¨**   
- âŒ ì„œë²„ ê¸°ë°˜ ë°ì´í„° ë™ê¸°í™” (í–¥í›„ Supabase ì—°ë™ ì˜ˆì •)
- âŒ ìì¬ ë°œì£¼ ë° ì›ê°€ ê´€ë¦¬
- âŒ ì¸ë ¥ ë°°ì¹˜ ìµœì í™”

#### ê¸°ìˆ ì  ì œì•½ì‚¬í•­

| ì œì•½ ì‚¬í•­ | ì„¤ëª… | ì˜í–¥ |
|----------|------|------|
| **ë¸Œë¼ìš°ì € ì˜ì¡´ì„±** | LocalStorage ì‚¬ìš©ìœ¼ë¡œ ë¸Œë¼ìš°ì €ë³„ ë°ì´í„° ë…ë¦½ | ë™ì¼ ê³„ì •ì´ë¼ë„ ë‹¤ë¥¸ ë¸Œë¼ìš°ì €ì—ì„œëŠ” ë°ì´í„° ë¯¸ë™ê¸°í™” |
| **ì €ì¥ ìš©ëŸ‰ ì œí•œ** | LocalStorage 5~10MB ì œí•œ | ëŒ€ê·œëª¨ í”„ë¡œì íŠ¸(100ë™ ì´ìƒ) ì‹œ ìš©ëŸ‰ ë¶€ì¡± ê°€ëŠ¥ |
| **ì˜¤í”„ë¼ì¸ ëª¨ë“œ** | ì¸í„°ë„· ì—°ê²° í•„ìˆ˜ (Next.js SSR) | í˜„ì¥ì—ì„œ ë„¤íŠ¸ì›Œí¬ ë¶ˆì•ˆì • ì‹œ ì‚¬ìš© ì œí•œ |
| **ì‹¤ì‹œê°„ ë™ê¸°í™”** | ì„œë²„ DB ë¯¸ì—°ë™ | ì—¬ëŸ¬ ê´€ë¦¬ìê°€ ë™ì‹œ ì‘ì—… ì‹œ ë°ì´í„° ì¶©ëŒ ê°€ëŠ¥ |

#### í–¥í›„ í™•ì¥ ê³„íš

```mermaid
graph TB
    V1[v1.0<br/>LocalStorage ê¸°ë°˜] --> V2[v2.0<br/>Supabase ì—°ë™]
    V2 --> V3[v3.0<br/>ì‹¤ì‹œê°„ í˜‘ì—…]
    V3 --> V4[v4.0<br/>AI ìµœì í™”]
    
    V2 -.-> F1[ì„œë²„ DB ì €ì¥]
    V2 -.-> F2[ë‹¤ì¤‘ ì‚¬ìš©ì ë™ê¸°í™”]
    
    V3 -.-> F3[ì‹¤ì‹œê°„ ì§„ë„ ì—…ë°ì´íŠ¸]
    V3 -.-> F4[ì±„íŒ… ë° ì•Œë¦¼]
    
    V4 -.-> F5[ì¼ì • ìµœì í™” AI]
    V4 -.-> F6[ì§€ì—° ì˜ˆì¸¡ ëª¨ë¸]
```

---

## 1.2 ê±´ì¶• ê³µì •ê´€ë¦¬ ê¸°ë³¸ ê°œë…

### 1.2.1 ê³¨ì¡°ê³µì‚¬ í”„ë¡œì„¸ìŠ¤

ê³¨ì¡°ê³µì‚¬ëŠ” ê±´ë¬¼ì˜ ë¼ˆëŒ€ë¥¼ êµ¬ì„±í•˜ëŠ” ê³µì‚¬ë¡œ, ë‹¤ìŒê³¼ ê°™ì€ ìˆœì„œë¡œ ì§„í–‰ë©ë‹ˆë‹¤:

```mermaid
graph TD
    Start[ê³µì‚¬ ì‹œì‘] --> Temp[ê°€ì„¤ê³µì‚¬]
    Temp --> Earth[í™ë§‰ì´ í† ê³µì‚¬]
    Earth --> Blind[ë²„ë¦¼ ì½˜í¬ë¦¬íŠ¸]
    Blind --> Found[ê¸°ì´ˆ ê³µì‚¬]
    Found --> Base[ì§€í•˜ì¸µ ê³¨ì¡°]
    Base --> Set[ì…‹íŒ…ì¸µ ê³¨ì¡°]
    Set --> Std[ê¸°ì¤€ì¸µ ê³¨ì¡°<br/>ë°˜ë³µ]
    Std --> Top[ìµœìƒì¸µ]
    Top --> PH[ì˜¥íƒ‘ì¸µ PH]
    PH --> End[ê³¨ì¡° ì™„ë£Œ]
    
    style Std fill:#e1f5ff
    style Base fill:#fff4e1
    style PH fill:#f0f0f0
```

#### ê³µì •ë³„ ì„¤ëª…

1. **ê°€ì„¤ê³µì‚¬**: í˜„ì¥ ì‚¬ë¬´ì†Œ, ì•ˆì „ ì‹œì„¤ë¬¼ ì„¤ì¹˜
2. **í™ë§‰ì´Â·í† ê³µì‚¬**: ì§€í•˜ êµ´ì°© ë° í™ë§‰ì´ ë²½ ì‹œê³µ
3. **ë²„ë¦¼ ì½˜í¬ë¦¬íŠ¸**: ì§€ë°˜ í‰íƒ„í™” ë° ë¨¹ì¤„ ì‘ì—…ìš© ë°”ë‹¥
4. **ê¸°ì´ˆ ê³µì‚¬**: ê±´ë¬¼ í•˜ì¤‘ì„ ì§€ë°˜ì— ì „ë‹¬í•˜ëŠ” ê¸°ì´ˆ êµ¬ì¡°ë¬¼
5. **ì§€í•˜ì¸µ ê³¨ì¡°**: ì§€í•˜ ì£¼ì°¨ì¥ ë° ì„¤ë¹„ ê³µê°„ êµ¬ì¡°
6. **ì…‹íŒ…ì¸µ ê³¨ì¡°**: 1~5ì¸µ ì €ì¸µë¶€ (ì§€ìƒì¸µ ì²« ì‹œê³µ)
7. **ê¸°ì¤€ì¸µ ê³¨ì¡°**: ë°˜ë³µë˜ëŠ” ì¤‘ê°„ì¸µ (ì‚¬ì´í´ ê³µì • ì ìš©)
8. **ìµœìƒì¸µ**: ê¸°ì¤€ì¸µê³¼ êµ¬ì¡°ê°€ ë‹¤ë¥¸ ìµœìƒì¸µ
9. **ì˜¥íƒ‘ì¸µ(PH)**: ê³„ë‹¨ì‹¤, ì—˜ë¦¬ë² ì´í„° ê¸°ê³„ì‹¤ ë“±

### 1.2.2 ê³µì • êµ¬ë¶„ ì²´ê³„

ConTech-DXëŠ” ê³¨ì¡°ê³µì‚¬ë¥¼ **6ê°€ì§€ ê³µì • êµ¬ë¶„(ProcessCategory)**ìœ¼ë¡œ ë¶„ë¥˜í•©ë‹ˆë‹¤:

| ìˆœë²ˆ | ê³µì • êµ¬ë¶„ | ì˜ë¬¸ ì½”ë“œ | ì„¤ëª… | íŠ¹ì§• |
|-----|----------|----------|------|------|
| 1 | **ë²„ë¦¼** | Blinding | ë²„ë¦¼ ì½˜í¬ë¦¬íŠ¸ íƒ€ì„¤ | ë‹¨ìˆœ, 1~2ì¼ ì†Œìš” |
| 2 | **ê¸°ì´ˆ** | Foundation | ê¸°ì´ˆ ì² ê·¼Â·ê±°í‘¸ì§‘Â·íƒ€ì„¤ | ê³ ì • ì¼ì •, ì•½ 7~10ì¼ |
| 3 | **ì§€í•˜ì¸µ** | Basement | ì§€í•˜ ê³¨ì¡° ì „ì²´ | B2â†’B1 ìˆœì°¨, ë³µì¡ |
| 4 | **ì…‹íŒ…ì¸µ** | Setting Floor | 1~5ì¸µ ì €ì¸µë¶€ | ê¸°ì¤€ì¸µ ì‹œì‘ ì „ ì¤€ë¹„ |
| 5 | **ê¸°ì¤€ì¸µ** | Standard Floor | ë°˜ë³µë˜ëŠ” ì¤‘ê°„ì¸µ | ì‚¬ì´í´ ê³µì • ì ìš© |
| 6 | **ì˜¥íƒ‘ì¸µ** | Penthouse (PH) | ì˜¥íƒ‘ ë° ì„¤ë¹„ ê³µê°„ | ì†Œê·œëª¨, ë‹¨ìˆœ |

#### ê³µì • êµ¬ë¶„ë³„ ì„¸ë¶€ ì‘ì—…

ê° ê³µì • êµ¬ë¶„ì€ ë‹¤ì‹œ ì—¬ëŸ¬ **ì„¸ë¶€ê³µì • í•­ëª©(ProcessItem)**ìœ¼ë¡œ êµ¬ì„±ë©ë‹ˆë‹¤:

**ì˜ˆì‹œ: ê¸°ì´ˆ ê³µì‚¬ ì„¸ë¶€ í•­ëª©**
1. ë¨¹ë§¤ê¹€ (1ì¼ ê³ ì •)
2. ê¸°ì´ˆ ì² ê·¼ ì¡°ë¦½ (6ì¼ ê³ ì •)
3. ëŠì–´ì¹˜ê¸° ì‘ì—… (2ì¼ ê³ ì •)
4. ê¸°ì´ˆ íƒ€ì„¤ (ë¬¼ëŸ‰ì— ë”°ë¼ ê³„ì‚°)
5. ì–‘ìƒ (3ì¼ ê°„ì ‘ì¼)

### 1.2.3 ì‚¬ì´í´ ê³µì •ì˜ ê°œë…

**ê¸°ì¤€ì¸µ**ì€ ê°™ì€ í‰ë©´ì´ ì—¬ëŸ¬ ì¸µì— ê±¸ì³ ë°˜ë³µë˜ë¯€ë¡œ, **ì‚¬ì´í´ ê³µì •**ì„ ì ìš©í•˜ì—¬ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬í•©ë‹ˆë‹¤.

#### ì‚¬ì´í´ ê³µì •ì´ë€?

í•œ ì¸µì„ ì™„ë£Œí•˜ëŠ” ë° í•„ìš”í•œ ì¼ìˆ˜ë¥¼ **ì‚¬ì´í´**ì´ë¼ê³  í•˜ë©°, ì´ ì‚¬ì´í´ì„ ë°˜ë³µí•˜ì—¬ ì—¬ëŸ¬ ì¸µì„ ì‹œê³µí•©ë‹ˆë‹¤.

```mermaid
gantt
    title ê¸°ì¤€ì¸µ 8ì¼ ì‚¬ì´í´ ì˜ˆì‹œ
    dateFormat YYYY-MM-DD
    section 4ì¸µ
    ë¨¹ë§¤ê¹€          :a1, 2025-01-01, 1d
    ê°±í¼ì„¤ì¹˜        :a2, after a1, 1d
    ë²½ì² ê·¼ ì¡°ë¦½     :a3, after a2, 1d
    ì•Œí¼ì¡°ë¦½        :a4, after a3, 1d
    ìŠ¬ë¼ë¸Œì² ê·¼      :a5, after a4, 1d
    íƒ€ì„¤            :a6, after a5, 1d
    ì–‘ìƒ            :a7, after a6, 2d
    
    section 5ì¸µ
    ë¨¹ë§¤ê¹€          :b1, after a7, 1d
    ê°±í¼ì„¤ì¹˜        :b2, after b1, 1d
    ë²½ì² ê·¼ ì¡°ë¦½     :b3, after b2, 1d
    ì•Œí¼ì¡°ë¦½        :b4, after b3, 1d
    ìŠ¬ë¼ë¸Œì² ê·¼      :b5, after b4, 1d
    íƒ€ì„¤            :b6, after b5, 1d
    ì–‘ìƒ            :b7, after b6, 2d
```

#### ì‚¬ì´í´ ì¢…ë¥˜

| ì‚¬ì´í´ | ìˆœì‘ì—…ì¼ | ì–‘ìƒì¼ | ì´ì¼ìˆ˜ | íŠ¹ì§• |
|-------|---------|--------|--------|------|
| **5ì¼ ì‚¬ì´í´** | 3ì¼ | 2ì¼ | 5ì¼ | ë§¤ìš° ë¹ ë¥¸ ì‹œê³µ, ì¸ë ¥ ë‹¤ìˆ˜ íˆ¬ì… |
| **6ì¼ ì‚¬ì´í´** | 4ì¼ | 2ì¼ | 6ì¼ | ë¹ ë¥¸ ì‹œê³µ, ìµœì  ì¸ë ¥ ë°°ì¹˜ |
| **7ì¼ ì‚¬ì´í´** | 5ì¼ | 2ì¼ | 7ì¼ | í‘œì¤€ ì‹œê³µ, ì•ˆì •ì  í’ˆì§ˆ |
| **8ì¼ ì‚¬ì´í´** | 6ì¼ | 2ì¼ | 8ì¼ | ì—¬ìœ  ìˆëŠ” ì‹œê³µ, ë†’ì€ í’ˆì§ˆ |

**ì„ íƒ ê¸°ì¤€:**
- ê³µì‚¬ ê¸°ê°„ì´ ì´‰ë°•í•œ ê²½ìš° â†’ 5~6ì¼ ì‚¬ì´í´
- ì¸ë ¥ í™•ë³´ê°€ ì–´ë ¤ìš´ ê²½ìš° â†’ 7~8ì¼ ì‚¬ì´í´
- í’ˆì§ˆ ì¤‘ì‹œ í”„ë¡œì íŠ¸ â†’ 8ì¼ ì‚¬ì´í´
- í‘œì¤€ ì•„íŒŒíŠ¸ í˜„ì¥ â†’ 6~7ì¼ ì‚¬ì´í´

### 1.2.4 ê±´ì¶• ê³µì • ìš©ì–´ ì •ì˜

#### ê³µì • ê´€ë ¨ ìš©ì–´

| ìš©ì–´ | ì˜ë¬¸ | ì„¤ëª… | ì˜ˆì‹œ |
|------|------|------|------|
| **ë¨¹ë§¤ê¹€** | Marking | ì² ê·¼ ë° ê±°í‘¸ì§‘ ì„¤ì¹˜ ìœ„ì¹˜ë¥¼ ë°”ë‹¥ì— í‘œì‹œí•˜ëŠ” ì‘ì—… | 1ì¼ ì†Œìš” |
| **ê°±í¼** | Gang Form | ë²½ì²´ ê±°í‘¸ì§‘ì˜ ì¼ì¢…ìœ¼ë¡œ ì—¬ëŸ¬ ì¥ì„ í•œ ë²ˆì— ì„¤ì¹˜ | ëŒ€í˜• íŒ¨ë„ |
| **ì•Œí¼** | Aluminium Form | ì•Œë£¨ë¯¸ëŠ„ í•©ê¸ˆìœ¼ë¡œ ë§Œë“  ê±°í‘¸ì§‘ (ë³´Â·ìŠ¬ë¼ë¸Œìš©) | ê²½ëŸ‰, ì¬ì‚¬ìš© |
| **ìœ ë¡œí¼** | Euro Form | ìœ ëŸ½í˜• ê±°í‘¸ì§‘ ì‹œìŠ¤í…œ (ê°•ì¬ í”„ë ˆì„) | ì˜¥íƒ‘ì¸µ ì£¼ë¡œ ì‚¬ìš© |
| **íƒ€ì„¤** | Concrete Placing | ì½˜í¬ë¦¬íŠ¸ë¥¼ ê±°í‘¸ì§‘ì— ë¶€ì–´ë„£ëŠ” ì‘ì—… | íŒí”„ì¹´ ì‚¬ìš© |
| **ì–‘ìƒ** | Curing | ì½˜í¬ë¦¬íŠ¸ê°€ ì¶©ë¶„í•œ ê°•ë„ë¥¼ ì–»ì„ ë•Œê¹Œì§€ ê´€ë¦¬ | ìµœì†Œ 2~3ì¼ |
| **ê²€ì¸¡** | Inspection | ì² ê·¼ ë°°ê·¼ ìƒíƒœë¥¼ ê°ë¦¬ìê°€ í™•ì¸í•˜ëŠ” ì ˆì°¨ | 0.5ì¼ ì†Œìš” |
| **í•´ì²´** | Stripping | ì½˜í¬ë¦¬íŠ¸ê°€ êµ³ì€ í›„ ê±°í‘¸ì§‘ì„ ì œê±°í•˜ëŠ” ì‘ì—… | ì–‘ìƒ í›„ ì§„í–‰ |

#### êµ¬ì¡° ê´€ë ¨ ìš©ì–´

| ìš©ì–´ | ì„¤ëª… | ë¹„ê³  |
|------|------|------|
| **ì½”ì–´** | ì—˜ë¦¬ë² ì´í„°, ê³„ë‹¨ì‹¤ ë“± ìˆ˜ì§ ë™ì„  ê³µê°„ | íƒ€ì›Œí˜•ì€ 2~4ê°œ ì½”ì–´ |
| **ì…‹íŒ…ì¸µ** | ê¸°ì¤€ì¸µ ë°˜ë³µ ì‹œê³µ ì „ 1~5ì¸µ ì €ì¸µë¶€ | í•„ë¡œí‹°, ìƒê°€ ë“± |
| **ê¸°ì¤€ì¸µ** | ë™ì¼ í‰ë©´ì´ ë°˜ë³µë˜ëŠ” ì¤‘ê°„ì¸µ | 6~20ì¸µ ë“± |
| **ìµœìƒì¸µ** | ê¸°ì¤€ì¸µê³¼ êµ¬ì¡°ê°€ ë‹¤ë¥¸ ë§¨ ìœ„ì¸µ | ì§€ë¶• ìŠ¬ë¼ë¸Œ |
| **ì˜¥íƒ‘ì¸µ(PH)** | Penthouse, ê³„ë‹¨ì‹¤Â·ê¸°ê³„ì‹¤ ë“± | 1~2ê°œì¸µ |
| **ë²½ì‹êµ¬ì¡°** | ë²½ì²´ë¡œ í•˜ì¤‘ì„ ì§€íƒ±í•˜ëŠ” êµ¬ì¡° | ì•„íŒŒíŠ¸ ì¼ë°˜í˜• |
| **RCêµ¬ì¡°** | ê¸°ë‘¥Â·ë³´ë¡œ í•˜ì¤‘ì„ ì§€íƒ±í•˜ëŠ” êµ¬ì¡° | Reinforced Concrete |
| **í•„ë¡œí‹°** | 1ì¸µ ì¼ë¶€ë¥¼ ê¸°ë‘¥ë§Œ ë‚¨ê¸°ê³  ê°œë°© | ì£¼ì°¨ì¥, í†µë¡œ |

#### ë¬¼ëŸ‰ ê´€ë ¨ ìš©ì–´

| ìš©ì–´ | ë‹¨ìœ„ | ì„¤ëª… |
|------|------|------|
| **í˜•í‹€(ê±°í‘¸ì§‘)** | ã¡ | ì½˜í¬ë¦¬íŠ¸ë¥¼ ë¶€ì–´ë„£ì„ í‹€ì˜ ë©´ì  |
| **ê°±í¼** | ã¡ | ë²½ì²´ìš© ëŒ€í˜• ê±°í‘¸ì§‘ ë©´ì  |
| **ì•Œí¼** | ã¡ | ë³´Â·ìŠ¬ë¼ë¸Œìš© ì•Œë£¨ë¯¸ëŠ„ ê±°í‘¸ì§‘ ë©´ì  |
| **ì² ê·¼** | ton | ì² ê·¼ ì´ ì¤‘ëŸ‰ |
| **ì½˜í¬ë¦¬íŠ¸** | ã¥ | ì½˜í¬ë¦¬íŠ¸ ì²´ì  (ë¶€í”¼) |
| **íƒ€ì„¤ëŸ‰** | ã¥ | 1íšŒ íƒ€ì„¤í•˜ëŠ” ì½˜í¬ë¦¬íŠ¸ ì–‘ |

#### ì¸ë ¥ ê´€ë ¨ ìš©ì–´

| ìš©ì–´ | ì„¤ëª… |
|------|------|
| **1ì¼ ì‘ì—…ëŸ‰** | 1ëª…ì´ í•˜ë£¨ ë™ì•ˆ ìˆ˜í–‰í•  ìˆ˜ ìˆëŠ” ì‘ì—…ëŸ‰ (ìƒì‚°ì„±) |
| **ì´ ì‘ì—…ì¸ì›** | ì „ì²´ ì‘ì—…ì„ ì™„ë£Œí•˜ê¸° ìœ„í•´ í•„ìš”í•œ ì—°ì¸ì› |
| **1ì¼ íˆ¬ì…ì¸ì›** | ë§¤ì¼ í˜„ì¥ì— íˆ¬ì…ë˜ëŠ” ì¸ì› ìˆ˜ |
| **ìˆœì‘ì—…ì¼** | ì‹¤ì œë¡œ ì‘ì—…í•˜ëŠ” ì¼ìˆ˜ (ê°„ì ‘ì¼ ì œì™¸) |
| **ê°„ì ‘ì¼** | ì–‘ìƒ, ê²€ì¸¡ ë“± ì§ì ‘ ì‘ì—…ì´ ì•„ë‹Œ ì¼ìˆ˜ |
| **ì´ ì‘ì—…ì¼ìˆ˜** | ìˆœì‘ì—…ì¼ + ê°„ì ‘ì¼ |

#### ì¥ë¹„ ê´€ë ¨ ìš©ì–´

| ìš©ì–´ | ì„¤ëª… |
|------|------|
| **ì½˜í¬ë¦¬íŠ¸ íŒí”„ì¹´** | ì½˜í¬ë¦¬íŠ¸ë¥¼ ë†’ì€ ê³³ìœ¼ë¡œ íŒí•‘í•˜ëŠ” ì¥ë¹„ |
| **íƒ€ì›Œí¬ë ˆì¸** | ìì¬ë¥¼ ìˆ˜ì§ìœ¼ë¡œ ìš´ë°˜í•˜ëŠ” í¬ë ˆì¸ |
| **ëŒ€ë‹¹ íƒ€ì„¤ëŸ‰** | íŒí”„ì¹´ 1ëŒ€ê°€ 1ì¼ íƒ€ì„¤ ê°€ëŠ¥í•œ ì½˜í¬ë¦¬íŠ¸ ì–‘ |
| **ì¥ë¹„ ëŒ€ìˆ˜** | íˆ¬ì…ë˜ëŠ” ì¥ë¹„ì˜ ìˆ˜ (íŒí”„ì¹´ 1ëŒ€, 2ëŒ€ ë“±) |

---

### 1.2.5 ê³µì •ê³„íš ì‹œìŠ¤í…œ ìˆœì„œë„

#### ì „ì²´ ê³µì •ê³„íš ìˆ˜ë¦½ í”„ë¡œì„¸ìŠ¤

```mermaid
flowchart TD
    Start([ì‹œì‘]) --> CreateProject[í”„ë¡œì íŠ¸ ìƒì„±]
    CreateProject --> AddBuilding[ë™ ì¶”ê°€]
    AddBuilding --> InputBasicInfo[ë™ ê¸°ë³¸ì •ë³´ ì…ë ¥<br/>ì¸µìˆ˜, ì¸µê³ , ì½”ì–´ ë“±]
    InputBasicInfo --> AutoGenerateFloors[ì¸µ ìë™ ìƒì„±<br/>B2, B1, 1F~20F, PH1]
    AutoGenerateFloors --> InputQuantity[ë¬¼ëŸ‰ ì…ë ¥<br/>ì¸µë³„ ê°±í¼, ì•Œí¼, ì² ê·¼, ì½˜í¬ë¦¬íŠ¸]
    InputQuantity --> SelectProcessType[ê³µì • íƒ€ì… ì„ íƒ<br/>í‘œì¤€ê³µì • / 5~8ì¼ ì‚¬ì´í´]
    SelectProcessType --> CalculateDays{ìë™ ê³„ì‚°<br/>ê³µì •ì¼ìˆ˜}
    CalculateDays -->|ë¬¼ëŸ‰ ê¸°ë°˜| CalcWorkers[ì´ ì‘ì—…ì¸ì› ê³„ì‚°]
    CalcWorkers --> CalcEquipment[ì¥ë¹„ ëŒ€ìˆ˜ ê³„ì‚°]
    CalcEquipment --> CalcDailyWorkers[1ì¼ íˆ¬ì…ì¸ì› ê³„ì‚°]
    CalcDailyWorkers --> CalcDirectDays[ìˆœì‘ì—…ì¼ ê³„ì‚°]
    CalcDirectDays --> AddIndirectDays[ê°„ì ‘ì¼ ì¶”ê°€<br/>ì–‘ìƒ, ê²€ì¸¡]
    AddIndirectDays --> SumTotalDays[ì´ ì‘ì—…ì¼ìˆ˜ í•©ê³„]
    SumTotalDays --> ReviewPlan{ê³µì •ê³„íš<br/>ê²€í† }
    ReviewPlan -->|ìˆ˜ì • í•„ìš”| ManualOverride[ìˆœì‘ì—…ì¼ ìˆ˜ë™ ì¡°ì •]
    ManualOverride --> ReviewPlan
    ReviewPlan -->|í™•ì¸ ì™„ë£Œ| SavePlan[ê³µì •ê³„íš ì €ì¥<br/>LocalStorage]
    SavePlan --> ViewGantt[ê°„íŠ¸ì°¨íŠ¸ í™•ì¸]
    ViewGantt --> AdjustSchedule{ì¼ì • ì¡°ì •<br/>í•„ìš”?}
    AdjustSchedule -->|Yes| DragGantt[ê°„íŠ¸ì°¨íŠ¸ ë“œë˜ê·¸<br/>ì¼ì • ë³€ê²½]
    DragGantt --> UpdatePlan[ê³µì •ê³„íš ì—…ë°ì´íŠ¸]
    UpdatePlan --> SavePlan
    AdjustSchedule -->|No| End([ì™„ë£Œ])
    
    style Start fill:#e3f2fd
    style End fill:#c8e6c9
    style CalculateDays fill:#fff3e0
    style ReviewPlan fill:#fff3e0
    style AdjustSchedule fill:#fff3e0
```

#### ê³µì • ê³„ì‚° ë¡œì§ ìƒì„¸ ìˆœì„œë„

```mermaid
flowchart TD
    Start([ê³µì • ê³„ì‚° ì‹œì‘]) --> LoadModule[ê³µì • ëª¨ë“ˆ ë¡œë“œ<br/>ProcessModule]
    LoadModule --> GetQuantity[ë¬¼ëŸ‰ ê°€ì ¸ì˜¤ê¸°<br/>quantityReference í•´ì„]
    GetQuantity --> CheckFixedDays{ê³ ì • ì¼ìˆ˜<br/>ìˆìŒ?}
    
    CheckFixedDays -->|Yes| UseFixedDays[ê³ ì • ì¼ìˆ˜ ì‚¬ìš©<br/>directWorkDays]
    CheckFixedDays -->|No| CalcTotalWorkers[ì´ ì‘ì—…ì¸ì› ê³„ì‚°<br/>CEILING ë¬¼ëŸ‰/ìƒì‚°ì„±]
    
    CalcTotalWorkers --> CheckEquipment{ì¥ë¹„ ê¸°ë°˜<br/>ê³„ì‚°?}
    CheckEquipment -->|Yes| CalcEquipmentCount[ì¥ë¹„ ëŒ€ìˆ˜ ê³„ì‚°<br/>CEILING MIN ìµœëŒ€, ë¬¼ëŸ‰/ëŒ€ë‹¹]
    CalcEquipmentCount --> CalcDailyByEquipment[1ì¼ íˆ¬ì…ì¸ì›<br/>ì¥ë¹„ëŒ€ìˆ˜ Ã— ì¥ë¹„ë‹¹ì¸ì›]
    CheckEquipment -->|No| CalcDailyByWorkDays[1ì¼ íˆ¬ì…ì¸ì›<br/>CEILING ì´ì¸ì›/ìˆœì‘ì—…ì¼]
    
    CalcDailyByEquipment --> CalcDirectDays[ìˆœì‘ì—…ì¼ ê³„ì‚°<br/>ë°˜ì˜¬ë¦¼ ë¡œì§ ì ìš©]
    CalcDailyByWorkDays --> CalcDirectDays
    UseFixedDays --> CheckOverride{ìˆ˜ë™ ì˜¤ë²„ë¼ì´ë“œ<br/>ìˆìŒ?}
    CalcDirectDays --> CheckOverride
    
    CheckOverride -->|Yes| UseOverride[ì˜¤ë²„ë¼ì´ë“œ ê°’ ì‚¬ìš©]
    CheckOverride -->|No| UseCalculated[ê³„ì‚°ëœ ê°’ ì‚¬ìš©]
    
    UseOverride --> AddIndirectDays[ê°„ì ‘ì¼ ì¶”ê°€<br/>ì–‘ìƒ, ê²€ì¸¡]
    UseCalculated --> AddIndirectDays
    
    AddIndirectDays --> CalcTotalDays[ì´ ì‘ì—…ì¼ìˆ˜<br/>ìˆœì‘ì—…ì¼ + ê°„ì ‘ì¼]
    CalcTotalDays --> SumCategoryDays[ê³µì • êµ¬ë¶„ë³„<br/>ì¼ìˆ˜ í•©ê³„]
    SumCategoryDays --> SumAllDays[ì „ì²´ ê³µì •ì¼ìˆ˜<br/>í•©ê³„]
    SumAllDays --> End([ê³„ì‚° ì™„ë£Œ])
    
    style Start fill:#e3f2fd
    style End fill:#c8e6c9
    style CheckFixedDays fill:#fff3e0
    style CheckEquipment fill:#fff3e0
    style CheckOverride fill:#fff3e0
```

#### ë°ì´í„° ì €ì¥/ë¡œë“œ íë¦„

```mermaid
flowchart TD
    Start([ì‚¬ìš©ì ì‘ì—…]) --> UserAction{ì‚¬ìš©ì ì•¡ì…˜}
    
    UserAction -->|ê³µì •ê³„íš ìˆ˜ì •| UpdatePlan[ê³µì •ê³„íš ì—…ë°ì´íŠ¸]
    UserAction -->|ê³µì •ê³„íš ì¡°íšŒ| LoadPlan[ê³µì •ê³„íš ë¡œë“œ]
    
    UpdatePlan --> CheckCache{ë©”ëª¨ë¦¬ ìºì‹œ<br/>ì¡´ì¬?}
    CheckCache -->|Yes| UpdateCache[ìºì‹œ ì—…ë°ì´íŠ¸]
    CheckCache -->|No| CreateCache[ìºì‹œ ìƒì„±]
    
    UpdateCache --> Serialize[ë°ì´í„° ì§ë ¬í™”<br/>JSON.stringify]
    CreateCache --> Serialize
    
    Serialize --> SaveLocalStorage[LocalStorage ì €ì¥<br/>key: contech_process_plan_{buildingId}]
    SaveLocalStorage --> SetTimestamp[íƒ€ì„ìŠ¤íƒ¬í”„ ì„¤ì •<br/>updatedAt]
    SetTimestamp --> NotifyUser[ì‚¬ìš©ì ì•Œë¦¼<br/>í† ìŠ¤íŠ¸ ë©”ì‹œì§€]
    NotifyUser --> End1([ì €ì¥ ì™„ë£Œ])
    
    LoadPlan --> CheckCache2{ë©”ëª¨ë¦¬ ìºì‹œ<br/>ì¡´ì¬?}
    CheckCache2 -->|Yes| CheckTTL{TTL ìœ íš¨?<br/>5ë¶„}
    CheckCache2 -->|No| LoadFromStorage[LocalStorage ë¡œë“œ]
    
    CheckTTL -->|Yes| ReturnCache[ìºì‹œ ë°˜í™˜]
    CheckTTL -->|No| LoadFromStorage
    
    LoadFromStorage --> ParseData[ë°ì´í„° íŒŒì‹±<br/>JSON.parse]
    ParseData --> ValidateData{ë°ì´í„°<br/>ìœ íš¨ì„± ê²€ì¦}
    
    ValidateData -->|ìœ íš¨| UpdateCache2[ìºì‹œ ì—…ë°ì´íŠ¸]
    ValidateData -->|ë¬´íš¨| CreateDefault[ê¸°ë³¸ ê³µì •ê³„íš ìƒì„±]
    
    UpdateCache2 --> ReturnData[ë°ì´í„° ë°˜í™˜]
    CreateDefault --> ReturnData
    ReturnCache --> ReturnData
    
    ReturnData --> End2([ë¡œë“œ ì™„ë£Œ])
    
    style Start fill:#e3f2fd
    style End1 fill:#c8e6c9
    style End2 fill:#c8e6c9
    style CheckCache fill:#fff3e0
    style CheckCache2 fill:#fff3e0
    style CheckTTL fill:#fff3e0
    style ValidateData fill:#fff3e0
```

#### ê³µì • êµ¬ë¶„ë³„ ì²˜ë¦¬ íë¦„

```mermaid
flowchart TD
    Start([ê³µì •ê³„íš í˜ì´ì§€ ì§„ì…]) --> SelectBuilding[ë™ ì„ íƒ]
    SelectBuilding --> LoadPlan[ê³µì •ê³„íš ë¡œë“œ]
    LoadPlan --> LoopCategories{6ê°œ ê³µì • êµ¬ë¶„<br/>ìˆœíšŒ}
    
    LoopCategories -->|ë²„ë¦¼| ProcessBlinding[ë²„ë¦¼ ì²˜ë¦¬]
    LoopCategories -->|ê¸°ì´ˆ| ProcessFoundation[ê¸°ì´ˆ ì²˜ë¦¬]
    LoopCategories -->|ì§€í•˜ì¸µ| ProcessBasement[ì§€í•˜ì¸µ ì²˜ë¦¬]
    LoopCategories -->|ì…‹íŒ…ì¸µ| ProcessSetting[ì…‹íŒ…ì¸µ ì²˜ë¦¬]
    LoopCategories -->|ê¸°ì¤€ì¸µ| ProcessStandard[ê¸°ì¤€ì¸µ ì²˜ë¦¬]
    LoopCategories -->|ì˜¥íƒ‘ì¸µ| ProcessPH[ì˜¥íƒ‘ì¸µ ì²˜ë¦¬]
    
    ProcessBlinding --> GetModule1[ê³µì • ëª¨ë“ˆ ë¡œë“œ<br/>blinding-standard]
    ProcessFoundation --> GetModule2[ê³µì • ëª¨ë“ˆ ë¡œë“œ<br/>foundation-standard]
    ProcessBasement --> GetModule3[ê³µì • ëª¨ë“ˆ ë¡œë“œ<br/>basement-standard]
    ProcessSetting --> GetModule4[ê³µì • ëª¨ë“ˆ ë¡œë“œ<br/>setting-{cycle}]
    ProcessStandard --> GetModule5[ê³µì • ëª¨ë“ˆ ë¡œë“œ<br/>standard-{cycle}]
    ProcessPH --> GetModule6[ê³µì • ëª¨ë“ˆ ë¡œë“œ<br/>ph-{cycle}]
    
    GetModule1 --> CalcItems1[ì„¸ë¶€ê³µì • í•­ëª© ê³„ì‚°<br/>2ê°œ í•­ëª©]
    GetModule2 --> CalcItems2[ì„¸ë¶€ê³µì • í•­ëª© ê³„ì‚°<br/>4ê°œ í•­ëª©]
    GetModule3 --> CalcItems3[ì„¸ë¶€ê³µì • í•­ëª© ê³„ì‚°<br/>15ê°œ í•­ëª©]
    GetModule4 --> CalcItems4[ì„¸ë¶€ê³µì • í•­ëª© ê³„ì‚°<br/>6ê°œ í•­ëª©]
    GetModule5 --> CalcItems5[ì„¸ë¶€ê³µì • í•­ëª© ê³„ì‚°<br/>6ê°œ í•­ëª© Ã— ì¸µìˆ˜]
    GetModule6 --> CalcItems6[ì„¸ë¶€ê³µì • í•­ëª© ê³„ì‚°<br/>5ê°œ í•­ëª©]
    
    CalcItems1 --> SumDays1[ì¼ìˆ˜ í•©ê³„]
    CalcItems2 --> SumDays2[ì¼ìˆ˜ í•©ê³„]
    CalcItems3 --> SumDays3[ì¼ìˆ˜ í•©ê³„]
    CalcItems4 --> SumDays4[ì¼ìˆ˜ í•©ê³„]
    CalcItems5 --> SumDays5[ì¼ìˆ˜ í•©ê³„]
    CalcItems6 --> SumDays6[ì¼ìˆ˜ í•©ê³„]
    
    SumDays1 --> CheckNext{ë‹¤ìŒ êµ¬ë¶„<br/>ìˆìŒ?}
    SumDays2 --> CheckNext
    SumDays3 --> CheckNext
    SumDays4 --> CheckNext
    SumDays5 --> CheckNext
    SumDays6 --> CheckNext
    
    CheckNext -->|Yes| LoopCategories
    CheckNext -->|No| SumTotal[ì „ì²´ ì¼ìˆ˜ í•©ê³„<br/>ë²„ë¦¼+ê¸°ì´ˆ+ì§€í•˜ì¸µ+ì…‹íŒ…ì¸µ+ê¸°ì¤€ì¸µ+ì˜¥íƒ‘ì¸µ]
    
    SumTotal --> DisplayResult[ê²°ê³¼ í‘œì‹œ<br/>ê³µì •ì¼ìˆ˜ ìš”ì•½]
    DisplayResult --> End([ì™„ë£Œ])
    
    style Start fill:#e3f2fd
    style End fill:#c8e6c9
    style LoopCategories fill:#fff3e0
    style CheckNext fill:#fff3e0
```

### 1.2.6 ê³µì •ê´€ë¦¬ì˜ í•µì‹¬ ì›ì¹™

ConTech-DX ì‹œìŠ¤í…œì€ ë‹¤ìŒê³¼ ê°™ì€ ê³µì •ê´€ë¦¬ ì›ì¹™ì„ ì½”ë“œë¡œ êµ¬í˜„í•©ë‹ˆë‹¤:

#### ì›ì¹™ 1: ìˆœì°¨ ì§„í–‰ (Sequential Flow)

```
ë²„ë¦¼ ì™„ë£Œ â†’ ê¸°ì´ˆ ì‹œì‘
ê¸°ì´ˆ ì™„ë£Œ â†’ ì§€í•˜ì¸µ ì‹œì‘
ì§€í•˜ì¸µ ì™„ë£Œ â†’ ì…‹íŒ…ì¸µ ì‹œì‘
ì…‹íŒ…ì¸µ ì™„ë£Œ â†’ ê¸°ì¤€ì¸µ ì‹œì‘
ê¸°ì¤€ì¸µ ì™„ë£Œ â†’ ì˜¥íƒ‘ì¸µ ì‹œì‘
```

**ì‹œìŠ¤í…œ ë°˜ì˜**: ê°„íŠ¸ì°¨íŠ¸ì—ì„œ ìë™ìœ¼ë¡œ ì˜ì¡´ì„±(dependency) ì„¤ì •

#### ì›ì¹™ 2: ë¬¼ëŸ‰ ê¸°ë°˜ ê³„ì‚° (Quantity-Driven)

```
ê³µì •ì¼ìˆ˜ = f(ë¬¼ëŸ‰, ìƒì‚°ì„±, ì¸ë ¥, ì¥ë¹„)
```

**ì‹œìŠ¤í…œ ë°˜ì˜**: ë™Â·ì¸µë³„ ë¬¼ëŸ‰í‘œì™€ ì—°ë™í•˜ì—¬ ì‹¤ì‹œê°„ ìë™ ê³„ì‚°

#### ì›ì¹™ 3: í‘œì¤€í™” (Standardization)

- ê³µì • ëª¨ë“ˆ ë°ì´í„°: ì—…ê³„ í‘œì¤€ ìƒì‚°ì„± ì ìš©
- ê³„ì‚° ìˆ˜ì‹: Excel ê¸°ë°˜ ê²€ì¦ëœ ê³µì‹ ì‚¬ìš©
- UI íŒ¨í„´: ì¼ê´€ëœ ì…ë ¥/ì¶œë ¥ êµ¬ì¡°

#### ì›ì¹™ 4: ìœ ì—°ì„± (Flexibility)

- ê³µì • íƒ€ì… ë³€ê²½ ê°€ëŠ¥ (í‘œì¤€ê³µì • â†” ì‚¬ì´í´ ê³µì •)
- ìˆœì‘ì—…ì¼ ìˆ˜ë™ ì¡°ì • ê°€ëŠ¥
- íŠ¹ìˆ˜ ìƒí™© ëŒ€ì‘ (í•©ë²½, ì¼ì²´íƒ€ì„¤ ë“±)

---

ì´ë¡œì¨ 1ë¶€ ì‹œìŠ¤í…œ ê°œìš”ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ë‹¤ìŒ ì„¹ì…˜ì—ì„œëŠ” ì‹œìŠ¤í…œì˜ ê¸°ìˆ ì  ì•„í‚¤í…ì²˜ë¥¼ ìƒì„¸íˆ ë‹¤ë£¹ë‹ˆë‹¤.

---

# 2ë¶€: ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

## 2.1 ì „ì²´ ì‹œìŠ¤í…œ êµ¬ì¡°

### 2.1.1 ë ˆì´ì–´ë³„ ì•„í‚¤í…ì²˜

ConTech-DXì˜ ê³µì •ê´€ë¦¬ ì‹œìŠ¤í…œì€ **4ê³„ì¸µ ì•„í‚¤í…ì²˜**ë¡œ ì„¤ê³„ë˜ì–´ ìˆìŠµë‹ˆë‹¤:

```mermaid
graph TB
    subgraph í”„ë ˆì  í…Œì´ì…˜ê³„ì¸µ[Presentation Layer - UI Components]
        UI1[ë™ë³„ê³µì •ê³„íší‘œ]
        UI2[ì§€í•˜ì¸µê³µì •ê³„íší‘œ]
        UI3[ê°„íŠ¸ì°¨íŠ¸]
        UI4[ëŒ€ì‹œë³´ë“œ]
    end
    
    subgraph ë¹„ì¦ˆë‹ˆìŠ¤ë¡œì§ê³„ì¸µ[Business Logic Layer - Services]
        SVC1[buildings.ts<br/>ë™/ì¸µ ê´€ë¦¬]
        SVC2[process-calculation.ts<br/>ê³µì • ê³„ì‚°]
        SVC3[quantity-reference.ts<br/>ë¬¼ëŸ‰ ì°¸ì¡°]
    end
    
    subgraph ë°ì´í„°ê³„ì¸µ[Data Layer - Types & Models]
        DATA1[BuildingProcessPlan]
        DATA2[ProcessModule]
        DATA3[Building/Floor]
    end
    
    subgraph ì €ì¥ì†Œê³„ì¸µ[Storage Layer]
        STORE1[LocalStorage<br/>í˜„ì¬]
        STORE2[Supabase DB<br/>í–¥í›„]
    end
    
    UI1 --> SVC1
    UI2 --> SVC1
    UI3 --> SVC1
    UI4 --> SVC1
    
    SVC1 --> DATA1
    SVC2 --> DATA2
    SVC3 --> DATA3
    
    DATA1 --> STORE1
    DATA2 --> STORE1
    DATA3 --> STORE1
    
    STORE1 -.->|ë§ˆì´ê·¸ë ˆì´ì…˜| STORE2
    
    style í”„ë ˆì  í…Œì´ì…˜ê³„ì¸µ fill:#e3f2fd
    style ë¹„ì¦ˆë‹ˆìŠ¤ë¡œì§ê³„ì¸µ fill:#fff3e0
    style ë°ì´í„°ê³„ì¸µ fill:#f3e5f5
    style ì €ì¥ì†Œê³„ì¸µ fill:#e8f5e9
```

#### ê³„ì¸µë³„ ì±…ì„

| ê³„ì¸µ | ì±…ì„ | ì£¼ìš” ê¸°ìˆ  |
|------|------|----------|
| **Presentation** | ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤, ì…ë ¥ ê²€ì¦, ì´ë²¤íŠ¸ ì²˜ë¦¬ | React, TypeScript, Tailwind CSS |
| **Business Logic** | ê³µì • ê³„ì‚°, ë°ì´í„° ë³€í™˜, ìœ íš¨ì„± ê²€ì¦ | TypeScript Functions |
| **Data** | íƒ€ì… ì •ì˜, ë°ì´í„° ëª¨ë¸, ê´€ê³„ ì„¤ì • | TypeScript Types/Interfaces |
| **Storage** | ë°ì´í„° ì˜ì†í™”, CRUD ì—°ì‚° | LocalStorage (â†’ Supabase) |

### 2.1.2 ë°ì´í„° íë¦„ë„

#### ê³µì •ê³„íš ìˆ˜ë¦½ íë¦„

```mermaid
sequenceDiagram
    actor User as ì‚¬ìš©ì
    participant UI as BuildingProcessPlanPage
    participant Calc as process-calculation
    participant Module as process-modules
    participant Storage as LocalStorage
    
    User->>UI: ë™ ì„ íƒ (101ë™)
    UI->>Storage: ê¸°ì¡´ ë°ì´í„° ë¡œë“œ
    Storage-->>UI: processPlan ë˜ëŠ” null
    
    User->>UI: ê³µì • íƒ€ì… ë³€ê²½<br/>(8ì¼ ì‚¬ì´í´)
    UI->>Module: getProcessModule(ê¸°ì¤€ì¸µ, 8ì¼)
    Module-->>UI: ProcessModule ë°ì´í„°
    
    loop ì„¸ë¶€ê³µì • í•­ëª©ë§ˆë‹¤
        UI->>Calc: ë¬¼ëŸ‰ ê°€ì ¸ì˜¤ê¸°
        UI->>Calc: calculateTotalWorkers()
        UI->>Calc: calculateEquipmentCount()
        UI->>Calc: calculateWorkDays()
        Calc-->>UI: ê³„ì‚° ê²°ê³¼
    end
    
    UI->>UI: ê³µì •ì¼ìˆ˜ í•©ê³„ ê³„ì‚°
    User->>UI: ì €ì¥ ë²„íŠ¼ í´ë¦­
    UI->>Storage: ì €ì¥ (key: building-{id})
    Storage-->>UI: ì €ì¥ ì™„ë£Œ
    UI->>User: ì„±ê³µ í† ìŠ¤íŠ¸ ë©”ì‹œì§€
```

#### ê°„íŠ¸ì°¨íŠ¸ ì—°ë™ íë¦„ (í–¥í›„)

```mermaid
sequenceDiagram
    participant Plan as BuildingProcessPlan
    participant Adapter as ProcessDataAdapter
    participant Gantt as GanttChart
    participant User as ì‚¬ìš©ì
    
    Plan->>Adapter: ê³µì •ê³„íš ë°ì´í„°
    Adapter->>Adapter: transform()<br/>WBS êµ¬ì¡° ìƒì„±
    Adapter->>Gantt: ConstructionTask[]
    Gantt->>User: ê°„íŠ¸ì°¨íŠ¸ í‘œì‹œ
    
    User->>Gantt: ì‘ì—… ë“œë˜ê·¸<br/>(ì¼ì • ë³€ê²½)
    Gantt->>Adapter: onTaskUpdate()
    Adapter->>Adapter: reverse transform()
    Adapter->>Plan: ì—…ë°ì´íŠ¸ëœ ê³„íš
    Plan->>LocalStorage: ì €ì¥
```

### 2.1.3 ì»´í¬ë„ŒíŠ¸ ì˜ì¡´ì„± ë§µ

```mermaid
graph LR
    subgraph UIì»´í¬ë„ŒíŠ¸[UI Components]
        A[ProjectDetailClient]
        B[BuildingProcessPlanPage]
        C[BasementProcessPlanPage]
        D[ConstructionDashboard]
    end
    
    subgraph ë¹Œë”©ì»´í¬ë„ŒíŠ¸[Building Components]
        E[BuildingTabs]
        F[FloorSettingsTable]
    end
    
    subgraph ì„œë¹„ìŠ¤[Services]
        G[buildings.ts]
        H[mockStorage.ts]
    end
    
    subgraph ìœ í‹¸[Utils]
        I[process-calculation.ts]
        J[quantity-reference.ts]
    end
    
    subgraph ë°ì´í„°[Data]
        K[process-modules.ts]
        L[types.ts]
    end
    
    A --> B
    A --> C
    A --> D
    
    B --> E
    B --> G
    B --> I
    B --> K
    B --> L
    
    C --> G
    C --> I
    C --> L
    
    D --> L
    
    G --> H
    G --> L
    
    I --> L
    J --> L
    
    style UIì»´í¬ë„ŒíŠ¸ fill:#e1f5ff
    style ë¹Œë”©ì»´í¬ë„ŒíŠ¸ fill:#fff4e1
    style ì„œë¹„ìŠ¤ fill:#f0f0f0
    style ìœ í‹¸ fill:#e8f5e9
    style ë°ì´í„° fill:#fce4ec
```

---

## 2.2 ê¸°ìˆ  ìŠ¤íƒ

### 2.2.1 í”„ë¡ íŠ¸ì—”ë“œ ê¸°ìˆ 

| ê¸°ìˆ  | ë²„ì „ | ìš©ë„ | ì„ ì • ì´ìœ  |
|------|------|------|----------|
| **Next.js** | 15.x | React í”„ë ˆì„ì›Œí¬ | App Router, SSR, ìµœì í™” |
| **React** | 19.x | UI ë¼ì´ë¸ŒëŸ¬ë¦¬ | ì»´í¬ë„ŒíŠ¸ ê¸°ë°˜, ìƒíƒœê³„ |
| **TypeScript** | 5.x | íƒ€ì… ì•ˆì „ì„± | ëŒ€ê·œëª¨ í”„ë¡œì íŠ¸ ì•ˆì •ì„± |
| **Tailwind CSS** | 4.x | ìŠ¤íƒ€ì¼ë§ | ë¹ ë¥¸ ê°œë°œ, ì¼ê´€ì„± |
| **Framer Motion** | Latest | ì• ë‹ˆë©”ì´ì…˜ | ë¶€ë“œëŸ¬ìš´ UI ì „í™˜ |
| **date-fns** | 4.x | ë‚ ì§œ ì²˜ë¦¬ | ê²½ëŸ‰, íŠ¸ë¦¬ì…°ì´í‚¹ |
| **Sonner** | Latest | í† ìŠ¤íŠ¸ ì•Œë¦¼ | ê¹”ë”í•œ UX |

### 2.2.2 ìƒíƒœ ê´€ë¦¬ ì „ëµ

ConTech-DXëŠ” **ì„œë²„ ìƒíƒœ**ì™€ **í´ë¼ì´ì–¸íŠ¸ ìƒíƒœ**ë¥¼ êµ¬ë¶„í•˜ì—¬ ê´€ë¦¬í•©ë‹ˆë‹¤:

#### í´ë¼ì´ì–¸íŠ¸ ìƒíƒœ (React Hooks)

```typescript
// useState: ì»´í¬ë„ŒíŠ¸ ë¡œì»¬ ìƒíƒœ
const [activeTab, setActiveTab] = useState<string>('overview');
const [isLoading, setIsLoading] = useState<boolean>(false);

// useMemo: ê³„ì‚° ê²°ê³¼ ë©”ëª¨ì´ì œì´ì…˜
const standardFloors = useMemo(() => {
  return building.floors.filter(f => f.floorClass === 'ê¸°ì¤€ì¸µ');
}, [building.floors]);

// useCallback: í•¨ìˆ˜ ë©”ëª¨ì´ì œì´ì…˜
const handleSave = useCallback(async () => {
  await savePlan(processPlan);
}, [processPlan]);

// useEffect: ì‚¬ì´ë“œ ì´í™íŠ¸ (ë°ì´í„° ë¡œë“œ)
useEffect(() => {
  loadProcessPlan(buildingId);
}, [buildingId]);
```

#### ì„œë²„ ìƒíƒœ (LocalStorage)

```typescript
// ê³µì •ê³„íš ì €ì¥
const STORAGE_KEY = `contech_process_plan_${buildingId}`;
localStorage.setItem(STORAGE_KEY, JSON.stringify(processPlan));

// ê³µì •ê³„íš ë¡œë“œ
const data = localStorage.getItem(STORAGE_KEY);
const processPlan = data ? JSON.parse(data) : null;

// ë™ ë°ì´í„° ìºì‹œ (TTL 5ë¶„)
const buildingsCache = new Map<string, CacheEntry<Building[]>>();
```

**í–¥í›„ ë§ˆì´ê·¸ë ˆì´ì…˜**: LocalStorage â†’ Supabase PostgreSQL

### 2.2.3 í–¥í›„ ë°±ì—”ë“œ (Supabase)

Supabase ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹œ ë‹¤ìŒê³¼ ê°™ì€ êµ¬ì¡°ë¡œ ì „í™˜ë©ë‹ˆë‹¤:

```typescript
// Supabase í´ë¼ì´ì–¸íŠ¸
import { createClient } from '@/lib/supabase/client';

// ê³µì •ê³„íš ì €ì¥ (INSERT/UPDATE)
async function saveBuildingProcessPlan(plan: BuildingProcessPlan) {
  const supabase = createClient();
  const { data, error } = await supabase
    .from('building_process_plans')
    .upsert(plan)
    .select()
    .single();
  
  if (error) throw error;
  return data;
}

// ê³µì •ê³„íš ì¡°íšŒ
async function getBuildingProcessPlan(buildingId: string) {
  const supabase = createClient();
  const { data, error } = await supabase
    .from('building_process_plans')
    .select('*')
    .eq('building_id', buildingId)
    .single();
  
  if (error && error.code !== 'PGRST116') throw error;
  return data;
}
```

**ë§ˆì´ê·¸ë ˆì´ì…˜ ê³„íš ìƒì„¸**: [`docs/SUPABASE_MIGRATION.md`](./SUPABASE_MIGRATION.md) ì°¸ì¡°

---

## 2.3 ë””ë ‰í† ë¦¬ êµ¬ì¡°

### 2.3.1 ì „ì²´ êµ¬ì¡° ê°œìš”

```
src/
â”œâ”€â”€ app/                          # Next.js App Router
â”‚   â””â”€â”€ (container)/
â”‚       â””â”€â”€ projects/
â”‚           â””â”€â”€ [id]/page.tsx     # í”„ë¡œì íŠ¸ ìƒì„¸ (ê³µì •ê´€ë¦¬ ì§„ì…ì )
â”‚
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ ui/                       # ì¬ì‚¬ìš© ê°€ëŠ¥í•œ UI ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ Button.tsx
â”‚   â”‚   â”œâ”€â”€ Card.tsx
â”‚   â”‚   â”œâ”€â”€ Input.tsx
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚
â”‚   â”œâ”€â”€ buildings/                # ğŸ—ï¸ ê³µì •ê´€ë¦¬ í•µì‹¬ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ BuildingProcessPlanPage.tsx      # ë™ë³„ê³µì •ê³„íší‘œ
â”‚   â”‚   â”œâ”€â”€ BasementProcessPlanPage.tsx      # ì§€í•˜ì¸µê³µì •ê³„íší‘œ
â”‚   â”‚   â”œâ”€â”€ BuildingTabs.tsx                 # ë™ íƒ­ ë„¤ë¹„ê²Œì´ì…˜
â”‚   â”‚   â”œâ”€â”€ FloorSettingsTable.tsx           # ì¸µ ì„¤ì • í…Œì´ë¸”
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚
â”‚   â”œâ”€â”€ dashboard/                # ëŒ€ì‹œë³´ë“œ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ ConstructionDashboard.tsx
â”‚   â”‚   â”œâ”€â”€ TaktView.tsx
â”‚   â”‚   â”œâ”€â”€ BuildingProgress.tsx
â”‚   â”‚   â””â”€â”€ KPICards.tsx
â”‚   â”‚
â”‚   â””â”€â”€ projects/                 # í”„ë¡œì íŠ¸ ê´€ë ¨ ì»´í¬ë„ŒíŠ¸
â”‚       â”œâ”€â”€ ProjectDetailClient.tsx
â”‚       â””â”€â”€ ProjectSidebar.tsx
â”‚
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ types.ts                  # ğŸ“˜ íƒ€ì… ì •ì˜ (SSOT)
â”‚   â”‚
â”‚   â”œâ”€â”€ data/                     # ğŸ—‚ï¸ ì •ì  ë°ì´í„°
â”‚   â”‚   â””â”€â”€ process-modules.ts   # ê³µì • ëª¨ë“ˆ ë°ì´í„°
â”‚   â”‚
â”‚   â”œâ”€â”€ utils/                    # ğŸ”§ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
â”‚   â”‚   â”œâ”€â”€ process-calculation.ts    # ê³µì • ê³„ì‚° ì—”ì§„
â”‚   â”‚   â”œâ”€â”€ quantity-reference.ts     # ë¬¼ëŸ‰ ì°¸ì¡° ì‹œìŠ¤í…œ
â”‚   â”‚   â”œâ”€â”€ formatters.ts              # ë‚ ì§œ/í†µí™” í¬ë§·
â”‚   â”‚   â””â”€â”€ logger.ts                  # ë¡œê¹…
â”‚   â”‚
â”‚   â”œâ”€â”€ services/                 # ğŸ“¦ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚   â”‚   â”œâ”€â”€ buildings.ts          # ë™/ì¸µ CRUD
â”‚   â”‚   â”œâ”€â”€ mockStorage.ts        # LocalStorage ê´€ë¦¬
â”‚   â”‚   â””â”€â”€ cache.ts              # TTL ìºì‹œ
â”‚   â”‚
â”‚   â””â”€â”€ supabase/                 # ğŸ—„ï¸ ë°ì´í„°ë² ì´ìŠ¤ (í–¥í›„)
â”‚       â”œâ”€â”€ client.ts
â”‚       â””â”€â”€ server.ts
â”‚
â””â”€â”€ styles/
    â””â”€â”€ globals.css               # ê¸€ë¡œë²Œ ìŠ¤íƒ€ì¼
```

### 2.3.2 í•µì‹¬ íŒŒì¼ ìƒì„¸

#### 1. `src/components/buildings/BuildingProcessPlanPage.tsx`

**ì—­í• **: ë™ë³„ ê³µì •ê³„íší‘œ ë©”ì¸ ì»´í¬ë„ŒíŠ¸

**ì£¼ìš” ê¸°ëŠ¥**:
- ë™ë³„ íƒ­ ë„¤ë¹„ê²Œì´ì…˜
- 6ê°œ ê³µì • êµ¬ë¶„ ì„¹ì…˜ ë Œë”ë§
- ê³µì • íƒ€ì… ì„ íƒ ë° ë³€ê²½
- ì„¸ë¶€ê³µì • í•­ëª©ë³„ ì‹¤ì‹œê°„ ê³„ì‚°
- ìˆœì‘ì—…ì¼ ìˆ˜ë™ ì˜¤ë²„ë¼ì´ë“œ
- LocalStorage ì €ì¥/ë¡œë“œ

**ì½”ë“œ êµ¬ì¡°**:
```typescript
// Props ì •ì˜
interface Props {
  projectId: string;
}

// ì»´í¬ë„ŒíŠ¸
export function BuildingProcessPlanPage({ projectId }: Props) {
  // ìƒíƒœ ê´€ë¦¬
  const [buildings, setBuildings] = useState<Building[]>([]);
  const [processPlans, setProcessPlans] = useState<Map<string, BuildingProcessPlan>>(new Map());
  const [activeBuildingIndex, setActiveBuildingIndex] = useState(0);
  
  // ë°ì´í„° ë¡œë“œ
  useEffect(() => {
    loadBuildings();
    loadProcessPlans();
  }, [projectId]);
  
  // ê³„ì‚° ë¡œì§
  const calculateProcessDays = (category: ProcessCategory) => {
    // ... ë³µì¡í•œ ê³„ì‚° ë¡œì§
  };
  
  // ë Œë”ë§
  return (
    <div>
      <BuildingTabs buildings={buildings} activeIndex={activeBuildingIndex} />
      {PROCESS_CATEGORIES.map(category => (
        <ProcessCategorySection key={category} category={category} />
      ))}
    </div>
  );
}
```

**íŒŒì¼ í¬ê¸°**: ì•½ 2,900 ë¼ì¸ (ëŒ€í˜• ì»´í¬ë„ŒíŠ¸)

---

#### 2. `src/lib/data/process-modules.ts`

**ì—­í• **: ê³µì • ëª¨ë“ˆ ì •ì  ë°ì´í„° (ì—‘ì…€ ê¸°ë°˜ í‘œì¤€ ê³µì •)

**ë°ì´í„° êµ¬ì¡°**:
```typescript
export const PROCESS_MODULES: ProcessModule[] = [
  {
    id: 'blinding-standard',
    name: 'í‘œì¤€ê³µì •',
    category: 'ë²„ë¦¼',
    items: [
      {
        id: 'blinding-formwork',
        workItem: '1.ë²„ë¦¼í‹€ì„¤ì¹˜',
        unit: 'ã¡',
        quantityReference: 'D6',
        dailyProductivity: 10,
        equipmentCount: 1,
        directWorkDays: 1,
        indirectDays: 0,
      },
      // ... ë” ë§ì€ í•­ëª©
    ],
  },
  // ... ë” ë§ì€ ëª¨ë“ˆ (20ê°œ ì´ìƒ)
];
```

**íŒŒì¼ í¬ê¸°**: ì•½ 1,460 ë¼ì¸

---

#### 3. `src/lib/utils/process-calculation.ts`

**ì—­í• **: ê³µì • ì¼ìˆ˜ ê³„ì‚° ì—”ì§„

**ì£¼ìš” í•¨ìˆ˜**:
```typescript
// 1. ì´ ì‘ì—…ì¸ì› ê³„ì‚°
export function calculateTotalWorkers(
  quantity: number, 
  dailyProductivity: number
): number {
  return Math.ceil(quantity / dailyProductivity);
}

// 2. ì¥ë¹„ ëŒ€ìˆ˜ ê³„ì‚°
export function calculateEquipmentCount(
  quantity: number,
  equipmentCalculationBase: number,
  maxCount: number = 2
): number {
  const ratio = quantity / equipmentCalculationBase;
  return Math.max(1, Math.ceil(Math.min(maxCount, ratio)));
}

// 3. ìˆœì‘ì—…ì¼ ê³„ì‚° (ë°˜ì˜¬ë¦¼ ë¡œì§)
export function calculateWorkDaysWithRounding(
  quantity: number,
  dailyProductivity: number,
  dailyInputWorkers: number
): number {
  const result = quantity / (dailyProductivity * dailyInputWorkers);
  const decimal = result - Math.floor(result);
  
  if (decimal < 0.5) {
    return Math.max(1, Math.floor(result));
  } else {
    return Math.max(1, Math.ceil(result));
  }
}

// 4. ì´ ì‘ì—…ì¼ìˆ˜ = ìˆœì‘ì—…ì¼ + ê°„ì ‘ì¼
export function calculateTotalWorkDays(
  directWorkDays: number, 
  indirectDays: number
): number {
  return Math.ceil(directWorkDays + indirectDays);
}
```

**íŒŒì¼ í¬ê¸°**: ì•½ 125 ë¼ì¸

---

#### 4. `src/lib/services/buildings.ts`

**ì—­í• **: ë™/ì¸µ ë°ì´í„° ê´€ë¦¬ ì„œë¹„ìŠ¤

**ì£¼ìš” í•¨ìˆ˜**:
```typescript
// ë™ ì¡°íšŒ
export async function getBuildings(projectId: string): Promise<Building[]> {
  const buildings = await loadBuildingsWithCache(projectId);
  return [...buildings];
}

// ë™ ìƒì„±
export async function createBuilding(dto: CreateBuildingDTO): Promise<Building> {
  const newBuilding: Building = {
    id: generateId(),
    projectId: dto.projectId,
    buildingName: dto.buildingName,
    meta: dto.meta,
    floors: generateFloors(dto.meta.floorCount, dto.meta.coreCount, dto.meta.heights),
    floorTrades: [],
    createdAt: new Date().toISOString(),
    updatedAt: new Date().toISOString(),
  };
  
  await saveBuildings([...buildings, newBuilding]);
  return newBuilding;
}

// ë™ ìˆ˜ì •
export async function updateBuilding(
  buildingId: string,
  projectId: string,
  updates: UpdateBuildingDTO
): Promise<Building> {
  // ... ë³µì¡í•œ ì—…ë°ì´íŠ¸ ë¡œì§
}

// ì¸µ ìë™ ìƒì„±
function generateFloors(
  floorCount: { basement: number; ground: number; ph: number },
  coreCount?: number,
  heights?: BuildingMeta['heights']
): Floor[] {
  // ... ì§€í•˜ì¸µ, ì§€ìƒì¸µ, PHì¸µ ìë™ ìƒì„±
}
```

**íŒŒì¼ í¬ê¸°**: ì•½ 1,010 ë¼ì¸

---

#### 5. `src/lib/types.ts`

**ì—­í• **: íƒ€ì… ì •ì˜ (Single Source of Truth)

**ì£¼ìš” íƒ€ì…**:
```typescript
// ê³µì • êµ¬ë¶„
export type ProcessCategory = 
  | 'ë²„ë¦¼' 
  | 'ê¸°ì´ˆ' 
  | 'ì§€í•˜ì¸µ' 
  | 'ì…‹íŒ…ì¸µ' 
  | 'ê¸°ì¤€ì¸µ' 
  | 'ì˜¥íƒ‘ì¸µ';

// ê³µì • íƒ€ì…
export type ProcessType = 
  | 'í‘œì¤€ê³µì •'
  | '5ì¼ ì‚¬ì´í´'
  | '6ì¼ ì‚¬ì´í´'
  | '7ì¼ ì‚¬ì´í´'
  | '8ì¼ ì‚¬ì´í´'
  | string;

// ë™ë³„ ê³µì • ê³„íš
export interface BuildingProcessPlan {
  id: string;
  buildingId: string;
  projectId: string;
  processes: {
    [category in ProcessCategory]?: {
      days: number;
      processType: ProcessType;
      floors?: { [floorLabel: string]: { processType: ProcessType } };
    };
  };
  totalDays: number;
  itemDirectWorkDaysOverrides?: { [key: string]: number };
  temporaryWorkDays?: number;
  earthRetentionWorkDays?: number;
  earthworkWorkDays?: number;
  specialRowQuantities?: { [key: string]: any };
  createdAt?: string;
  updatedAt?: string;
}

// ë™ ì •ë³´
export interface Building {
  id: string;
  projectId: string;
  buildingName: string;
  buildingNumber: number;
  meta: BuildingMeta;
  floors: Floor[];
  floorTrades: FloorTrade[];
  createdAt: string;
  updatedAt: string;
}

// ... ë” ë§ì€ íƒ€ì… (50ê°œ ì´ìƒ)
```

**íŒŒì¼ í¬ê¸°**: ì•½ 687 ë¼ì¸

---

### 2.3.3 Import ê²½ë¡œ ê·œì¹™

ConTech-DXëŠ” ì¼ê´€ëœ import ê²½ë¡œë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤:

```typescript
// âœ… ì˜¬ë°”ë¥¸ import íŒ¨í„´

// 1. íƒ€ì… import (type-only)
import type { Building, ProcessCategory, ProcessType } from '@/lib/types';

// 2. UI ì»´í¬ë„ŒíŠ¸
import { Button, Card, Input } from '@/components/ui';

// 3. ì„œë¹„ìŠ¤ í•¨ìˆ˜
import { getBuildings, createBuilding } from '@/lib/services/buildings';

// 4. ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
import { 
  calculateTotalWorkers, 
  calculateWorkDays 
} from '@/lib/utils/process-calculation';

// 5. ì •ì  ë°ì´í„°
import { PROCESS_MODULES, getProcessModule } from '@/lib/data/process-modules';

// 6. React í›…
import { useState, useEffect, useMemo, useCallback } from 'react';

// 7. Next.js ëª¨ë“ˆ
import Link from 'next/link';
import { useRouter } from 'next/navigation';

// 8. ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬
import { toast } from 'sonner';
```

**ê¸ˆì§€ íŒ¨í„´**:
```typescript
// âŒ ìƒëŒ€ ê²½ë¡œ (ê¹Šì´ 2 ì´ìƒ)
import { Button } from '../../ui/Button';

// âŒ index.ts ëª…ì‹œ
import { formatDate } from '@/lib/utils/index';
// âœ… ì˜¬ë°”ë¦„
import { formatDate } from '@/lib/utils';

// âŒ default exportì™€ named export í˜¼ìš©
import ProcessModules from '@/lib/data/process-modules';
// âœ… ì˜¬ë°”ë¦„ (ëª¨ë‘ named export ì‚¬ìš©)
import { PROCESS_MODULES } from '@/lib/data/process-modules';
```

---

### 2.3.4 ì½”ë“œ êµ¬ì¡° ì›ì¹™

#### ì›ì¹™ 1: Single Responsibility

í•˜ë‚˜ì˜ íŒŒì¼/í•¨ìˆ˜ëŠ” í•˜ë‚˜ì˜ ì±…ì„ë§Œ ê°–ìŠµë‹ˆë‹¤.

```typescript
// âœ… ì¢‹ì€ ì˜ˆ: ê³„ì‚°ë§Œ ë‹´ë‹¹
export function calculateTotalWorkers(quantity: number, productivity: number) {
  return Math.ceil(quantity / productivity);
}

// âŒ ë‚˜ìœ ì˜ˆ: ê³„ì‚° + UI ì—…ë°ì´íŠ¸
export function calculateAndUpdateWorkers(quantity: number, productivity: number) {
  const workers = Math.ceil(quantity / productivity);
  document.getElementById('workers').innerText = workers.toString(); // UI ì¡°ì‘
  return workers;
}
```

#### ì›ì¹™ 2: íƒ€ì… ì•ˆì „ì„±

ëª¨ë“  í•¨ìˆ˜ì™€ ë³€ìˆ˜ëŠ” ëª…ì‹œì  íƒ€ì…ì„ ê°€ì§‘ë‹ˆë‹¤.

```typescript
// âœ… ì¢‹ì€ ì˜ˆ: ëª…ì‹œì  íƒ€ì…
export function calculateEquipmentCount(
  quantity: number,
  base: number,
  max: number = 2
): number {
  return Math.max(1, Math.ceil(Math.min(max, quantity / base)));
}

// âŒ ë‚˜ìœ ì˜ˆ: any ì‚¬ìš©
export function calculateEquipmentCount(quantity: any, base: any, max: any) {
  return Math.max(1, Math.ceil(Math.min(max, quantity / base)));
}
```

#### ì›ì¹™ 3: ë¶ˆë³€ì„± (Immutability)

ë°ì´í„°ëŠ” ì§ì ‘ ë³€ê²½í•˜ì§€ ì•Šê³  ìƒˆë¡œìš´ ê°ì²´ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.

```typescript
// âœ… ì¢‹ì€ ì˜ˆ: ë¶ˆë³€ ì—…ë°ì´íŠ¸
const updatedPlan = {
  ...processPlan,
  processes: {
    ...processPlan.processes,
    [category]: { days: newDays, processType },
  },
};

// âŒ ë‚˜ìœ ì˜ˆ: ì§ì ‘ ë³€ê²½
processPlan.processes[category].days = newDays;
```

---

ì´ë¡œì¨ 2ë¶€ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ë‹¤ìŒ ì„¹ì…˜ì—ì„œëŠ” ë°ì´í„° ëª¨ë¸ì„ ìƒì„¸íˆ ë‹¤ë£¹ë‹ˆë‹¤.

---

# 3ë¶€: ë°ì´í„° ëª¨ë¸

## 3.1 í•µì‹¬ íƒ€ì… ì •ì˜

### 3.1.1 ê³µì • ê´€ë ¨ íƒ€ì…

#### ProcessCategory (ê³µì • êµ¬ë¶„)

```typescript
export type ProcessCategory = 
  | 'ë²„ë¦¼'      // Blinding - ë²„ë¦¼ ì½˜í¬ë¦¬íŠ¸
  | 'ê¸°ì´ˆ'      // Foundation - ê¸°ì´ˆ ê³µì‚¬
  | 'ì§€í•˜ì¸µ'    // Basement - ì§€í•˜ ê³¨ì¡°
  | 'ì…‹íŒ…ì¸µ'    // Setting Floor - 1~5ì¸µ ì €ì¸µë¶€
  | 'ê¸°ì¤€ì¸µ'    // Standard Floor - ë°˜ë³µë˜ëŠ” ì¤‘ê°„ì¸µ
  | 'ì˜¥íƒ‘ì¸µ';   // Penthouse - PHì¸µ
```

**ì‚¬ìš© ì˜ˆì‹œ**:
```typescript
const PROCESS_CATEGORIES: ProcessCategory[] = [
  'ë²„ë¦¼', 'ê¸°ì´ˆ', 'ì§€í•˜ì¸µ', 'ì…‹íŒ…ì¸µ', 'ê¸°ì¤€ì¸µ', 'ì˜¥íƒ‘ì¸µ'
];

// ê³µì • êµ¬ë¶„ë³„ ë°ì´í„° ì ‘ê·¼
processPlan.processes['ê¸°ì¤€ì¸µ']?.days;
```

---

#### ProcessType (ê³µì • íƒ€ì…)

```typescript
export type ProcessType = 
  | 'í‘œì¤€ê³µì •'       // Standard Process
  | '5ì¼ ì‚¬ì´í´'     // 5-day Cycle
  | '6ì¼ ì‚¬ì´í´'     // 6-day Cycle
  | '7ì¼ ì‚¬ì´í´'     // 7-day Cycle
  | '8ì¼ ì‚¬ì´í´'     // 8-day Cycle
  | 'ì§€í•˜ì™¸ë²½ í•©ë²½ ì ìš©'  // ì§€í•˜ì¸µ íŠ¹ìˆ˜ ì¼€ì´ìŠ¤
  | 'ì¼ì²´íƒ€ì„¤ ì ìš©'       // ì§€í•˜ì¸µ íŠ¹ìˆ˜ ì¼€ì´ìŠ¤
  | string;          // ì»¤ìŠ¤í…€ íƒ€ì… í—ˆìš©
```

**ê³µì • êµ¬ë¶„ë³„ ì‚¬ìš© ê°€ëŠ¥í•œ íƒ€ì…**:

| ê³µì • êµ¬ë¶„ | ì‚¬ìš© ê°€ëŠ¥í•œ ProcessType |
|----------|------------------------|
| ë²„ë¦¼ | í‘œì¤€ê³µì • |
| ê¸°ì´ˆ | í‘œì¤€ê³µì • |
| ì§€í•˜ì¸µ | í‘œì¤€ê³µì •, ì§€í•˜ì™¸ë²½ í•©ë²½ ì ìš©, ì¼ì²´íƒ€ì„¤ ì ìš© |
| ì…‹íŒ…ì¸µ | í‘œì¤€ê³µì •, 5~8ì¼ ì‚¬ì´í´ |
| ê¸°ì¤€ì¸µ | 5~8ì¼ ì‚¬ì´í´ |
| ì˜¥íƒ‘ì¸µ | í‘œì¤€ê³µì •, 5~8ì¼ ì‚¬ì´í´ |

---

#### BuildingProcessPlan (ë™ë³„ ê³µì • ê³„íš)

í•µì‹¬ ë°ì´í„° ëª¨ë¸ë¡œ, í•œ ë™(Building)ì˜ ì „ì²´ ê³µì • ê³„íšì„ ë‹´ìŠµë‹ˆë‹¤.

```typescript
export interface BuildingProcessPlan {
  // ì‹ë³„ì
  id: string;
  buildingId: string;
  projectId: string;
  
  // êµ¬ë¶„ë³„ ê³µì • ì •ë³´
  processes: {
    [category in ProcessCategory]?: {
      days: number;              // ê³µì •ì¼ìˆ˜ (ê°„íŠ¸ì°¨íŠ¸ duration)
      processType: ProcessType;  // ì„ íƒëœ ê³µì • íƒ€ì…
      floors?: {                 // ì¸µë³„ ê³µì • íƒ€ì… (ì„ íƒ)
        [floorLabel: string]: { 
          processType: ProcessType 
        }
      };
    };
  };
  
  // ì „ì²´ ì¼ì •
  totalDays: number;  // êµ¬ë¶„ê³µì • í•©ê³„ì¼ìˆ˜ (ë²„ë¦¼+ê¸°ì´ˆ+ì§€í•˜ì¸µ+...)
  
  // ì„¸ë¶€ê³µì • í•­ëª©ë³„ ìˆœì‘ì—…ì¼ ì˜¤ë²„ë¼ì´ë“œ
  // í‚¤: "category-floorLabel-itemId" 
  // ì˜ˆ: "ê¸°ì¤€ì¸µ--standard-gangform"
  itemDirectWorkDaysOverrides?: { 
    [key: string]: number 
  };
  
  // ì§€í•˜ì¸µ ì „ìš© í•„ë“œ
  temporaryWorkDays?: number;      // ê°€ì„¤ê³µì‚¬ ì¼ìˆ˜
  earthRetentionWorkDays?: number; // í™ë§‰ì´ ê³µì‚¬ ì¼ìˆ˜
  earthworkWorkDays?: number;      // í† ê³µì‚¬ ì¼ìˆ˜
  
  // ì£¼ì°¨ì¥ ë° 3ë‹¨ ê°€ì‹œì„¤ íŠ¹ìˆ˜ ë¬¼ëŸ‰ (ì§€í•˜ì¸µ)
  // í‚¤: "floorLabel-specialType" 
  // ì˜ˆ: "B1-parking", "B1-facility3"
  specialRowQuantities?: {
    [key: string]: {
      gangForm?: number;    // ê°±í¼ ë©´ì  (ã¡)
      alForm?: number;      // ì•Œí¼ ë©´ì  (ã¡)
      formwork?: number;    // í˜•í‹€ ë©´ì  (ã¡)
      stripClean?: number;  // í•´ì²´ì •ë¦¬ ë©´ì  (ã¡)
      rebar?: number;       // ì² ê·¼ ì¤‘ëŸ‰ (ton)
      concrete?: number;    // ì½˜í¬ë¦¬íŠ¸ ì²´ì  (ã¥)
    };
  };
  
  // íƒ€ì„ìŠ¤íƒ¬í”„
  createdAt?: string;
  updatedAt?: string;
}
```

**ì‚¬ìš© ì˜ˆì‹œ**:
```typescript
const processPlan: BuildingProcessPlan = {
  id: 'plan-101',
  buildingId: 'building-101',
  projectId: 'project-001',
  processes: {
    'ë²„ë¦¼': { days: 3, processType: 'í‘œì¤€ê³µì •' },
    'ê¸°ì´ˆ': { days: 10, processType: 'í‘œì¤€ê³µì •' },
    'ì§€í•˜ì¸µ': { days: 45, processType: 'í‘œì¤€ê³µì •' },
    'ì…‹íŒ…ì¸µ': { days: 12, processType: 'í‘œì¤€ê³µì •' },
    'ê¸°ì¤€ì¸µ': { 
      days: 90, 
      processType: '6ì¼ ì‚¬ì´í´',
      floors: {
        '4F': { processType: '7ì¼ ì‚¬ì´í´' },  // 4ì¸µë§Œ ë‹¤ë¥¸ ì‚¬ì´í´
      }
    },
    'ì˜¥íƒ‘ì¸µ': { days: 15, processType: 'í‘œì¤€ê³µì •' },
  },
  totalDays: 175,  // 3+10+45+12+90+15
  itemDirectWorkDaysOverrides: {
    'ê¸°ì¤€ì¸µ--standard-gangform': 2,  // ê°±í¼ì„¤ì¹˜ 1ì¼ â†’ 2ì¼ë¡œ ë³€ê²½
  },
  temporaryWorkDays: 7,
  earthRetentionWorkDays: 10,
  earthworkWorkDays: 15,
  createdAt: '2025-01-01T00:00:00Z',
  updatedAt: '2025-01-15T10:30:00Z',
};
```

---

#### ProcessModule (ê³µì • ëª¨ë“ˆ)

í‘œì¤€ ê³µì • ë°ì´í„°ë¥¼ ë‹´ëŠ” êµ¬ì¡°ì…ë‹ˆë‹¤. [`src/lib/data/process-modules.ts`](../src/lib/data/process-modules.ts)ì— ì •ì˜ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

```typescript
export interface ProcessModule {
  id: string;               // ëª¨ë“ˆ ê³ ìœ  ID (ì˜ˆ: 'blinding-standard')
  name: ProcessType;        // ê³µì • íƒ€ì…ëª… (ì˜ˆ: 'í‘œì¤€ê³µì •')
  category: ProcessCategory; // ê³µì • êµ¬ë¶„ (ì˜ˆ: 'ë²„ë¦¼')
  items: ProcessItem[];     // ì„¸ë¶€ê³µì • í•­ëª© ëª©ë¡
}
```

---

#### ProcessItem (ì„¸ë¶€ê³µì • í•­ëª©)

í•˜ë‚˜ì˜ ì‘ì—… í•­ëª©ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤ (ì˜ˆ: "ë²„ë¦¼í‹€ì„¤ì¹˜", "ê¸°ì´ˆíƒ€ì„¤" ë“±).

```typescript
export interface ProcessItem {
  // ì‹ë³„ ì •ë³´
  id: string;                   // í•­ëª© ê³ ìœ  ID
  workItem: string;             // ì‘ì—… í•­ëª©ëª… (ì˜ˆ: "1.ë²„ë¦¼í‹€ì„¤ì¹˜")
  
  // ë¬¼ëŸ‰ ì •ë³´
  unit: string;                 // ë‹¨ìœ„ (ã¡, ã¥, TON ë“±)
  quantityReference?: string;   // ë¬¼ëŸ‰ ì°¸ì¡° íŒ¨í„´ (ì˜ˆ: "D6", "F7*0.45")
  
  // ìƒì‚°ì„± ì •ë³´
  dailyProductivity: number;    // ì¸ë‹¹ 1ì¼ ì‘ì—…ëŸ‰
  calculationBasis?: string;    // ì‚°ì • ê¸°ì¤€ ì„¤ëª…
  
  // ì¥ë¹„ ì •ë³´
  equipmentName?: string;       // íˆ¬ì…ì¥ë¹„ëª… (ì˜ˆ: "ì½˜í¬ë¦¬íŠ¸ íŒí”„ì°¨")
  equipmentCount: number;       // ì¥ë¹„ ëŒ€ìˆ˜ (ê³ ì •ê°’ ë˜ëŠ” ê³„ì‚°)
  equipmentCalculationBase?: number;  // ëŒ€ë‹¹ íƒ€ì„¤ëŸ‰ (ã¥)
  equipmentWorkersPerUnit?: number;   // ì¥ë¹„ë‹¹ ì¸ì›ìˆ˜ (4, 5, 6ëª… ë“±)
  
  // ì¼ìˆ˜ ì •ë³´
  directWorkDays?: number;      // ìˆœì‘ì—…ì¼ (ê³ ì •ê°’ì¸ ê²½ìš°)
  indirectDays: number;         // ê°„ì ‘ì¼ (ì–‘ìƒ, ê²€ì¸¡ ë“±)
  indirectWorkItem?: string;    // ê°„ì ‘ì‘ì—… ë‚´ìš©
  
  // ì¸µë³„ êµ¬ë¶„ (ì„ íƒ)
  floorLabel?: string;          // ì¸µ ë¼ë²¨ (ì˜ˆ: "B2", "B1", "1F")
}
```

**ì˜ˆì‹œ: ë²„ë¦¼ ì½˜í¬ë¦¬íŠ¸ íƒ€ì„¤ í•­ëª©**
```typescript
const blindingConcreteItem: ProcessItem = {
  id: 'blinding-concrete',
  workItem: '2.ë²„ë¦¼íƒ€ì„¤',
  unit: 'ã¥',
  quantityReference: 'G6',  // ë™,ì¸µë³„ë¬¼ëŸ‰í‘œ G6ì…€ ì°¸ì¡°
  dailyProductivity: 130,   // 1ëª…ë‹¹ 1ì¼ 130ã¥
  calculationBasis: 'ì¥ë¹„ëŒ€ìˆ˜*4ëª… /ë²„ë¦¼ë¶€ë¶„',
  equipmentName: 'ì½˜í¬ë¦¬íŠ¸ íŒí”„ì°¨',
  equipmentCount: 1,        // ê³„ì‚°ì‹ìœ¼ë¡œ ê²°ì •ë¨
  equipmentCalculationBase: 650,  // íŒí”„ì¹´ 1ëŒ€ë‹¹ 650ã¥
  equipmentWorkersPerUnit: 4,     // íŒí”„ì¹´ 1ëŒ€ë‹¹ 4ëª…
  indirectDays: 1,
  indirectWorkItem: 'ì–‘ìƒ',
  // directWorkDaysëŠ” ê³„ì‚°ìœ¼ë¡œ ê²°ì •ë¨
};
```

---

### 3.1.2 ë™Â·ì¸µ ê´€ë ¨ íƒ€ì…

#### Building (ë™ ì •ë³´)

```typescript
export interface Building {
  // ì‹ë³„ì
  id: string;
  projectId: string;
  
  // ê¸°ë³¸ ì •ë³´
  buildingName: string;    // "101ë™"
  buildingNumber: number;  // 1, 2, 3, ...
  
  // ë©”íƒ€ë°ì´í„° (ì¸µìˆ˜, ì¸µê³ , ì½”ì–´ ë“±)
  meta: BuildingMeta;
  
  // ê´€ê³„ ë°ì´í„°
  floors: Floor[];         // ì¸µ ëª©ë¡
  floorTrades: FloorTrade[];  // ì¸µë³„ ê³µì¢… ë°ì´í„°
  
  // íƒ€ì„ìŠ¤íƒ¬í”„
  createdAt: string;
  updatedAt: string;
}
```

---

#### BuildingMeta (ë™ ë©”íƒ€ë°ì´í„°)

```typescript
export interface BuildingMeta {
  // ê¸°ë³¸ ì •ë³´
  totalUnits: number;           // ì´ ì„¸ëŒ€ìˆ˜
  coreCount: number;            // ì½”ì–´ ê°œìˆ˜ (1~4)
  coreType: CoreType;           // ì¤‘ë³µë„/íƒ€ì›Œí˜•/í¸ë³µë„
  slabType: SlabType;           // ë²½ì‹/RC/ë²½ì‹(ë‚´ë¶€ê¸°ë‘¥)
  
  // ì¸µìˆ˜ ì •ë³´
  floorCount: {
    basement: number;         // ì „ì²´ ì§€í•˜ì¸µ ìˆ˜
    ground: number;           // ì „ì²´ ì§€ìƒì¸µ ìˆ˜
    ph: number;               // ì „ì²´ ì˜¥íƒ‘ì¸µ ìˆ˜
    
    // ì½”ì–´ë³„ ì¸µìˆ˜ (íƒ€ì›Œí˜•)
    coreGroundFloors?: number[];     // [20, 25] â†’ ì½”ì–´1: 20ì¸µ, ì½”ì–´2: 25ì¸µ
    coreBasementFloors?: number[];   // [2, 1] â†’ ì½”ì–´1: ì§€í•˜2ì¸µ, ì½”ì–´2: ì§€í•˜1ì¸µ
    corePhFloors?: number[];         // [1, 2] â†’ ì½”ì–´1: PH1ì¸µ, ì½”ì–´2: PH2ì¸µ
    
    // í•„ë¡œí‹° ì •ë³´
    pilotisCount?: number;            // í•„ë¡œí‹° ìˆ˜ëŸ‰ (êµ¬ë²„ì „ í˜¸í™˜)
    corePilotisCounts?: number[];     // ì½”ì–´ë³„ í•„ë¡œí‹°+ë¶€ëŒ€ì‹œì„¤ ì œì™¸ ì„¸ëŒ€ìˆ˜
    corePilotisHeights?: number[];    // ì½”ì–´ë³„ í•„ë¡œí‹° ë†’ì´ (ê°œì¸µ)
    
    hasHighCeilingEquipmentRoom?: boolean;  // ê³ ì²œì¥ ì¥ë¹„ì‹¤ ì—¬ë¶€
  };
  
  // ì¸µê³  ì •ë³´ (mm ë‹¨ìœ„)
  heights: {
    basement2: number;   // ì§€í•˜2ì¸µ ì¸µê³  (ì˜ˆ: 3500)
    basement1: number;   // ì§€í•˜1ì¸µ ì¸µê³  (ì˜ˆ: 3500)
    standard: number;    // ê¸°ì¤€ì¸µ ì¸µê³  (ì˜ˆ: 2950)
    floor1: number;      // 1ì¸µ ì¸µê³ 
    floor2: number;      // 2ì¸µ ì¸µê³ 
    floor3: number;      // 3ì¸µ ì¸µê³ 
    floor4?: number;     // 4ì¸µ ì¸µê³  (ì„ íƒ)
    floor5?: number;     // 5ì¸µ ì¸µê³  (ì„ íƒ)
    top: number;         // ìµœìƒì¸µ ì¸µê³ 
    ph: number | number[];  // PHì¸µ ì¸µê³  (ë‹¨ì¼ ë˜ëŠ” ë°°ì—´)
  };
  
  // ê³µì • ê´€ë ¨
  standardFloorCycle?: number;      // ê¸°ì¤€ì¸µ ê³µì •ì‚¬ì´í´ (5~8ì¼)
  pumpCarCount?: number | null;     // íŒí”„ì¹´ ìµœëŒ€ íˆ¬ì…ëŒ€ìˆ˜
  
  // ì ê¸ˆ ìƒíƒœ
  isBasicInfoLocked?: boolean;      // ë™ê¸°ë³¸ì •ë³´ ë°ì´í„° ê³ ì • ì—¬ë¶€
  isDataInputLocked?: boolean;      // ë¬¼ëŸ‰ì…ë ¥í‘œ ë°ì´í„° ê³ ì • ì—¬ë¶€
}
```

---

#### Floor (ì¸µ ì •ë³´)

```typescript
export interface Floor {
  id: string;
  buildingId: string;
  
  floorLabel: string;     // "B2", "B1", "1F", "2~14F ê¸°ì¤€ì¸µ", "PH1"
  floorNumber: number;    // ì •ë ¬ìš© (-2, -1, 1, 2, ...)
  
  levelType: LevelType;   // 'ì§€í•˜' | 'ì§€ìƒ'
  floorClass: FloorClass; // 'ì§€í•˜ì¸µ' | 'ì…‹íŒ…ì¸µ' | 'ê¸°ì¤€ì¸µ' | 'ìµœìƒì¸µ' | 'ì˜¥íƒ‘ì¸µ'
  
  height: number | null;  // ì¸µê³  (mm)
}

export type LevelType = 'ì§€í•˜' | 'ì§€ìƒ';

export type FloorClass = 
  | 'ì§€í•˜ì¸µ'
  | 'ì¼ë°˜ì¸µ'    // 1~5ì¸µ ì¤‘ ì…‹íŒ…ì¸µ ì•„ë‹Œ ì¸µ
  | 'ì…‹íŒ…ì¸µ'    // 1~5ì¸µ ì¤‘ ê¸°ì¤€ì¸µê³¼ ì¸µê³ ê°€ ë‹¤ë¥¸ ì¸µ
  | 'ê¸°ì¤€ì¸µ'    // ë°˜ë³µë˜ëŠ” ì¤‘ê°„ì¸µ
  | 'ìµœìƒì¸µ'    // ë§¨ ìœ„ì¸µ
  | 'PHì¸µ'      // ì˜¥íƒ‘ì¸µ (êµ¬ë²„ì „ í˜¸í™˜)
  | 'ì˜¥íƒ‘ì¸µ';   // ì˜¥íƒ‘ì¸µ
```

**ì‚¬ìš© ì˜ˆì‹œ**:
```typescript
// ì§€í•˜2ì¸µ
const b2Floor: Floor = {
  id: 'floor-b2-001',
  buildingId: 'building-101',
  floorLabel: 'B2',
  floorNumber: -2,
  levelType: 'ì§€í•˜',
  floorClass: 'ì§€í•˜ì¸µ',
  height: 3500,
};

// ê¸°ì¤€ì¸µ ë²”ìœ„ (6~14ì¸µ)
const standardFloor: Floor = {
  id: 'floor-6-14-001',
  buildingId: 'building-101',
  floorLabel: '6~14F ê¸°ì¤€ì¸µ',
  floorNumber: 6,
  levelType: 'ì§€ìƒ',
  floorClass: 'ê¸°ì¤€ì¸µ',
  height: 2950,
};
```

---

#### FloorTrade (ì¸µë³„ ê³µì¢… ë°ì´í„°)

```typescript
export interface FloorTrade {
  id: string;
  floorId: string;
  buildingId: string;
  tradeGroup: string;  // 'ê³¨ì¡°' | 'ë§ˆê°' | 'ì„¤ë¹„' ë“±
  trades: TradeData;   // ê³µì¢…ë³„ ìƒì„¸ ë°ì´í„°
}

export interface TradeData {
  // ê°±í¼ (ë²½ì²´ìš© ëŒ€í˜• ê±°í‘¸ì§‘)
  gangForm?: {
    areaM2: number;       // ë©´ì  (ã¡)
    productivity: number; // ìƒì‚°ì„±
    workers: number;      // ì¸ì›
    cost: number;         // ë‹¨ê°€
  };
  
  // ì•Œí¼ (ë³´Â·ìŠ¬ë¼ë¸Œìš© ì•Œë£¨ë¯¸ëŠ„ ê±°í‘¸ì§‘)
  alForm?: {
    areaM2: number;
    productivity: number;
    workers: number;
    cost: number;
  };
  
  // í˜•í‹€ (ì¼ë°˜ ê±°í‘¸ì§‘)
  formwork?: {
    areaM2: number;
    productivity: number;
    workers: number;
    cost: number;
  };
  
  // í•´ì²´/ì •ë¦¬
  stripClean?: {
    areaM2: number;
    productivityM2: number;  // ã¡ë‹¹ ìƒì‚°ì„±
    workerDays: number;      // ì¸ì›ì¼ìˆ˜
  };
  
  // ì² ê·¼
  rebar?: {
    weightTon: number;        // ì¤‘ëŸ‰ (ton)
    productivityTon: number;  // tonë‹¹ ìƒì‚°ì„±
    workerDays: number;
    costPerTon: number;       // tonë‹¹ ë‹¨ê°€
  };
  
  // ì½˜í¬ë¦¬íŠ¸
  concrete?: {
    volumeM3: number;         // ì²´ì  (ã¥)
    strength: string;         // ê°•ë„ (ì˜ˆ: "24MPa")
    costPerM3: number;        // ã¥ë‹¹ ë‹¨ê°€
  };
}
```

---

### 3.1.3 DTO (Data Transfer Object) íƒ€ì…

#### CreateBuildingDTO

```typescript
export interface CreateBuildingDTO {
  projectId: string;
  buildingName: string;
  buildingNumber: number;
  meta: BuildingMeta;
}
```

#### UpdateBuildingDTO

```typescript
export interface UpdateBuildingDTO {
  buildingName?: string;
  meta?: Partial<BuildingMeta>;
}
```

#### CreateBuildingProcessPlanDTO

```typescript
export interface CreateBuildingProcessPlanDTO {
  buildingId: string;
  projectId: string;
  processes: {
    [category in ProcessCategory]?: {
      days?: number;
      processType: ProcessType;
    };
  };
}
```

---

## 3.2 ë°ì´í„° ê´€ê³„ë„

### 3.2.1 ERD (Entity Relationship Diagram)

```mermaid
erDiagram
    Project ||--o{ Building : has
    Building ||--o{ Floor : contains
    Building ||--o{ FloorTrade : has
    Building ||--o| BuildingProcessPlan : has
    
    Floor ||--o{ FloorTrade : references
    
    BuildingProcessPlan ||--o{ ProcessCategory : contains
    ProcessCategory ||--o{ ProcessItem : uses
    ProcessModule ||--o{ ProcessItem : contains
    
    Project {
        string id PK
        int project_number
        string name
        string status
        date start_date
        date end_date
    }
    
    Building {
        string id PK
        string projectId FK
        string buildingName
        int buildingNumber
        json meta
        timestamp createdAt
        timestamp updatedAt
    }
    
    Floor {
        string id PK
        string buildingId FK
        string floorLabel
        int floorNumber
        string levelType
        string floorClass
        int height
    }
    
    FloorTrade {
        string id PK
        string floorId FK
        string buildingId FK
        string tradeGroup
        json trades
    }
    
    BuildingProcessPlan {
        string id PK
        string buildingId FK
        string projectId FK
        json processes
        int totalDays
        json itemDirectWorkDaysOverrides
        timestamp createdAt
        timestamp updatedAt
    }
    
    ProcessModule {
        string id PK
        string name
        string category
        json items
    }
```

### 3.2.2 ë°ì´í„° ê³„ì¸µ êµ¬ì¡°

```mermaid
graph TB
    subgraph í”„ë¡œì íŠ¸ë ˆë²¨[Project Level]
        P[Project<br/>í”„ë¡œì íŠ¸]
    end
    
    subgraph ë™ë ˆë²¨[Building Level]
        B1[Building 101ë™]
        B2[Building 102ë™]
        B3[Building 103ë™]
    end
    
    subgraph ë™101ìƒì„¸[Building 101 Details]
        M1[BuildingMeta<br/>ì¸µìˆ˜,ì¸µê³ ,ì½”ì–´]
        F1[Floors<br/>ì¸µ ëª©ë¡]
        FT1[FloorTrades<br/>ì¸µë³„ ë¬¼ëŸ‰]
        PP1[ProcessPlan<br/>ê³µì •ê³„íš]
    end
    
    subgraph ì¸µìƒì„¸[Floor Details]
        FL1[B2ì¸µ]
        FL2[B1ì¸µ]
        FL3[1~5ì¸µ]
        FL4[6~14ì¸µ ê¸°ì¤€ì¸µ]
        FL5[15ì¸µ ìµœìƒì¸µ]
        FL6[PH1ì¸µ]
    end
    
    subgraph ê³µì •ê³„íšìƒì„¸[Process Plan Details]
        PP_B[ë²„ë¦¼: 3ì¼]
        PP_F[ê¸°ì´ˆ: 10ì¼]
        PP_BA[ì§€í•˜ì¸µ: 45ì¼]
        PP_S[ì…‹íŒ…ì¸µ: 12ì¼]
        PP_ST[ê¸°ì¤€ì¸µ: 90ì¼]
        PP_PH[ì˜¥íƒ‘ì¸µ: 15ì¼]
    end
    
    P --> B1
    P --> B2
    P --> B3
    
    B1 --> M1
    B1 --> F1
    B1 --> FT1
    B1 --> PP1
    
    F1 --> FL1
    F1 --> FL2
    F1 --> FL3
    F1 --> FL4
    F1 --> FL5
    F1 --> FL6
    
    PP1 --> PP_B
    PP1 --> PP_F
    PP1 --> PP_BA
    PP1 --> PP_S
    PP1 --> PP_ST
    PP1 --> PP_PH
    
    style í”„ë¡œì íŠ¸ë ˆë²¨ fill:#e3f2fd
    style ë™ë ˆë²¨ fill:#fff3e0
    style ë™101ìƒì„¸ fill:#f3e5f5
    style ì¸µìƒì„¸ fill:#e8f5e9
    style ê³µì •ê³„íšìƒì„¸ fill:#fce4ec
```

### 3.2.3 ê´€ê³„ ì„¤ëª…

| ê´€ê³„ | Cardinality | ì„¤ëª… |
|------|-------------|------|
| Project â†’ Building | 1:N | í•˜ë‚˜ì˜ í”„ë¡œì íŠ¸ëŠ” ì—¬ëŸ¬ ë™ì„ ê°€ì§ |
| Building â†’ Floor | 1:N | í•˜ë‚˜ì˜ ë™ì€ ì—¬ëŸ¬ ì¸µì„ ê°€ì§ |
| Building â†’ FloorTrade | 1:N | í•˜ë‚˜ì˜ ë™ì€ ì—¬ëŸ¬ ì¸µë³„ ê³µì¢… ë°ì´í„°ë¥¼ ê°€ì§ |
| Building â†’ BuildingProcessPlan | 1:1 | í•˜ë‚˜ì˜ ë™ì€ í•˜ë‚˜ì˜ ê³µì •ê³„íšì„ ê°€ì§ |
| Floor â†’ FloorTrade | 1:N | í•˜ë‚˜ì˜ ì¸µì€ ì—¬ëŸ¬ ê³µì¢… ë°ì´í„°ë¥¼ ê°€ì§ |
| ProcessModule â†’ ProcessItem | 1:N | í•˜ë‚˜ì˜ ê³µì • ëª¨ë“ˆì€ ì—¬ëŸ¬ ì„¸ë¶€ í•­ëª©ì„ ê°€ì§ |

---

## 3.3 ì €ì¥ì†Œ ì „ëµ

### 3.3.1 LocalStorage í‚¤ íŒ¨í„´

ConTech-DXëŠ” ë¸Œë¼ìš°ì € LocalStorageë¥¼ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë¥¼ ì €ì¥í•©ë‹ˆë‹¤.

#### í‚¤ ëª…ëª… ê·œì¹™

```typescript
// íŒ¨í„´: contech_{ë°ì´í„°íƒ€ì…}_{ì‹ë³„ì}

// 1. ë™ ë°ì´í„°
const BUILDING_KEY = `contech_buildings_${projectId}`;
// ì˜ˆ: "contech_buildings_project-001"

// 2. ê³µì •ê³„íš ë°ì´í„°
const PROCESS_PLAN_KEY = `contech_process_plan_${buildingId}`;
// ì˜ˆ: "contech_process_plan_building-101"

// 3. ì¸µ ë°ì´í„°
const FLOORS_KEY = `contech_floors_${buildingId}`;
// ì˜ˆ: "contech_floors_building-101"

// 4. ì¸µë³„ ê³µì¢… ë°ì´í„°
const FLOOR_TRADES_KEY = `contech_floor_trades_${buildingId}`;
// ì˜ˆ: "contech_floor_trades_building-101"
```

#### ì €ì¥/ë¡œë“œ í•¨ìˆ˜

```typescript
// ì €ì¥
function saveBuildingProcessPlan(buildingId: string, plan: BuildingProcessPlan): void {
  const key = `contech_process_plan_${buildingId}`;
  const data = JSON.stringify(plan);
  localStorage.setItem(key, data);
}

// ë¡œë“œ
function loadBuildingProcessPlan(buildingId: string): BuildingProcessPlan | null {
  const key = `contech_process_plan_${buildingId}`;
  const data = localStorage.getItem(key);
  
  if (!data) return null;
  
  try {
    return JSON.parse(data) as BuildingProcessPlan;
  } catch (error) {
    console.error('Failed to parse process plan:', error);
    return null;
  }
}

// ì‚­ì œ
function deleteBuildingProcessPlan(buildingId: string): void {
  const key = `contech_process_plan_${buildingId}`;
  localStorage.removeItem(key);
}
```

### 3.3.2 ë°ì´í„° ì§ë ¬í™”/ì—­ì§ë ¬í™”

#### Date ê°ì²´ ì²˜ë¦¬

LocalStorageëŠ” ë¬¸ìì—´ë§Œ ì €ì¥í•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ, Date ê°ì²´ëŠ” ISO 8601 ë¬¸ìì—´ë¡œ ë³€í™˜í•©ë‹ˆë‹¤.

```typescript
// ì €ì¥ ì‹œ
const plan: BuildingProcessPlan = {
  ...data,
  createdAt: new Date().toISOString(),  // "2025-01-15T10:30:00.000Z"
  updatedAt: new Date().toISOString(),
};

// ë¡œë“œ ì‹œ
const loaded = JSON.parse(data);
if (loaded.createdAt) {
  loaded.createdAt = new Date(loaded.createdAt);  // Date ê°ì²´ë¡œ ë³€í™˜
}
```

#### undefined vs null ì²˜ë¦¬

JSON.stringifyëŠ” undefinedë¥¼ ë¬´ì‹œí•˜ë¯€ë¡œ, ëª…ì‹œì ìœ¼ë¡œ nullì„ ì‚¬ìš©í•©ë‹ˆë‹¤.

```typescript
// âŒ ë‚˜ìœ ì˜ˆ
const floor: Floor = {
  id: 'floor-1',
  buildingId: 'building-1',
  floorLabel: '1F',
  floorNumber: 1,
  levelType: 'ì§€ìƒ',
  floorClass: 'ì…‹íŒ…ì¸µ',
  height: undefined,  // JSON.stringify ì‹œ ì œê±°ë¨
};

// âœ… ì¢‹ì€ ì˜ˆ
const floor: Floor = {
  id: 'floor-1',
  buildingId: 'building-1',
  floorLabel: '1F',
  floorNumber: 1,
  levelType: 'ì§€ìƒ',
  floorClass: 'ì…‹íŒ…ì¸µ',
  height: null,  // JSON.stringify ì‹œ ìœ ì§€ë¨
};
```

### 3.3.3 TTL ê¸°ë°˜ ìºì‹± ì „ëµ

ë©”ëª¨ë¦¬ ìºì‹œë¥¼ ì‚¬ìš©í•˜ì—¬ LocalStorage ì ‘ê·¼ì„ ìµœì†Œí™”í•©ë‹ˆë‹¤.

#### ìºì‹œ êµ¬ì¡°

```typescript
interface CacheEntry<T> {
  data: T;
  timestamp: number;
}

// TTL: 5ë¶„ (300,000ms)
const CACHE_TTL_MS = 5 * 60 * 1000;

// ìºì‹œ ë§µ
const buildingsCache = new Map<string, CacheEntry<Building[]>>();
```

#### ìºì‹œ í•¨ìˆ˜

```typescript
// ìºì‹œ ì¡°íšŒ
function getCacheEntry(projectId: string): Building[] | null {
  const entry = buildingsCache.get(projectId);
  if (!entry) return null;
  
  const isExpired = Date.now() - entry.timestamp > CACHE_TTL_MS;
  if (isExpired) {
    buildingsCache.delete(projectId);
    return null;
  }
  
  return entry.data;
}

// ìºì‹œ ì €ì¥
function setCacheEntry(projectId: string, data: Building[]): void {
  buildingsCache.set(projectId, {
    data,
    timestamp: Date.now(),
  });
}

// ìºì‹œ ë¬´íš¨í™”
function invalidateCache(projectId: string): void {
  buildingsCache.delete(projectId);
}
```

#### ìºì‹œ ì‚¬ìš© íë¦„

```mermaid
graph TD
    Start[ë°ì´í„° ìš”ì²­] --> CheckCache{ìºì‹œ ì¡´ì¬?}
    
    CheckCache -->|Yes| CheckTTL{TTL ìœ íš¨?}
    CheckCache -->|No| LoadStorage[LocalStorage ë¡œë“œ]
    
    CheckTTL -->|Yes| ReturnCache[ìºì‹œ ë°˜í™˜]
    CheckTTL -->|No| LoadStorage
    
    LoadStorage --> UpdateCache[ìºì‹œ ì—…ë°ì´íŠ¸]
    UpdateCache --> ReturnData[ë°ì´í„° ë°˜í™˜]
    
    ReturnCache --> End[ì™„ë£Œ]
    ReturnData --> End
```

### 3.3.4 ë°ì´í„° ë§ˆì´ê·¸ë ˆì´ì…˜ ì¤€ë¹„

í–¥í›„ Supabase DBë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹œë¥¼ ëŒ€ë¹„í•œ ì¸í„°í˜ì´ìŠ¤ ì„¤ê³„:

```typescript
// ì¶”ìƒ ì¸í„°í˜ì´ìŠ¤
interface IProcessPlanRepository {
  get(buildingId: string): Promise<BuildingProcessPlan | null>;
  save(plan: BuildingProcessPlan): Promise<void>;
  delete(buildingId: string): Promise<void>;
}

// LocalStorage êµ¬í˜„
class LocalStorageProcessPlanRepository implements IProcessPlanRepository {
  async get(buildingId: string): Promise<BuildingProcessPlan | null> {
    const key = `contech_process_plan_${buildingId}`;
    const data = localStorage.getItem(key);
    return data ? JSON.parse(data) : null;
  }
  
  async save(plan: BuildingProcessPlan): Promise<void> {
    const key = `contech_process_plan_${plan.buildingId}`;
    localStorage.setItem(key, JSON.stringify(plan));
  }
  
  async delete(buildingId: string): Promise<void> {
    const key = `contech_process_plan_${buildingId}`;
    localStorage.removeItem(key);
  }
}

// Supabase êµ¬í˜„ (í–¥í›„)
class SupabaseProcessPlanRepository implements IProcessPlanRepository {
  async get(buildingId: string): Promise<BuildingProcessPlan | null> {
    const { data, error } = await supabase
      .from('building_process_plans')
      .select('*')
      .eq('building_id', buildingId)
      .single();
    
    if (error) return null;
    return data;
  }
  
  async save(plan: BuildingProcessPlan): Promise<void> {
    await supabase
      .from('building_process_plans')
      .upsert(plan);
  }
  
  async delete(buildingId: string): Promise<void> {
    await supabase
      .from('building_process_plans')
      .delete()
      .eq('building_id', buildingId);
  }
}
```

---

ì´ë¡œì¨ 3ë¶€ ë°ì´í„° ëª¨ë¸ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ë‹¤ìŒ ì„¹ì…˜ì—ì„œëŠ” ê³µì • ê³„ì‚° ë¡œì§ì„ ìƒì„¸íˆ ë‹¤ë£¹ë‹ˆë‹¤.

---

# 4ë¶€: ê³µì • ê³„ì‚° ë¡œì§

## 4.1 ê³„ì‚° ì•Œê³ ë¦¬ì¦˜

### 4.1.1 ê³„ì‚° íë¦„ ê°œìš”

ê³µì • ì¼ìˆ˜ ê³„ì‚°ì€ ë‹¤ìŒê³¼ ê°™ì€ ë‹¨ê³„ë¡œ ì§„í–‰ë©ë‹ˆë‹¤:

```mermaid
graph LR
    A[ë¬¼ëŸ‰ ì…ë ¥<br/>ã¡, ã¥, ton] --> B[ì´ ì‘ì—…ì¸ì›<br/>ê³„ì‚°]
    B --> C[ì¥ë¹„ ëŒ€ìˆ˜<br/>ê³„ì‚°]
    C --> D[1ì¼ íˆ¬ì…ì¸ì›<br/>ê³„ì‚°]
    D --> E[ìˆœì‘ì—…ì¼<br/>ê³„ì‚°]
    E --> F[ê°„ì ‘ì¼<br/>ì¶”ê°€]
    F --> G[ì´ ì‘ì—…ì¼ìˆ˜<br/>ìµœì¢…ê°’]
    
    style A fill:#e3f2fd
    style G fill:#c8e6c9
```

### 4.1.2 ë¬¼ëŸ‰ â†’ ì¸ì› â†’ ì¼ìˆ˜ ê³„ì‚°

#### ë‹¨ê³„ 1: ì´ ì‘ì—…ì¸ì› ê³„ì‚°

**ìˆ˜ì‹**: ì´ ì‘ì—…ì¸ì› = CEILING(ë¬¼ëŸ‰ / ì¸ë‹¹ 1ì¼ ì‘ì—…ëŸ‰)

**í•¨ìˆ˜**:
```typescript
export function calculateTotalWorkers(
  quantity: number,           // ë¬¼ëŸ‰
  dailyProductivity: number   // ì¸ë‹¹ 1ì¼ ì‘ì—…ëŸ‰
): number {
  if (dailyProductivity === 0) return 0;
  return Math.ceil(quantity / dailyProductivity);
}
```

**ì˜ˆì‹œ**:
```typescript
// ì² ê·¼ ë°°ê·¼: ë¬¼ëŸ‰ 30 ton, ìƒì‚°ì„± 0.8 ton/ì¸/ì¼
const totalWorkers = calculateTotalWorkers(30, 0.8);
// = CEILING(30 / 0.8)
// = CEILING(37.5)
// = 38ëª…
```

---

#### ë‹¨ê³„ 2: ì¥ë¹„ ëŒ€ìˆ˜ ê³„ì‚°

**ìˆ˜ì‹**: ì¥ë¹„ ëŒ€ìˆ˜ = CEILING(MIN(ìµœëŒ€ ëŒ€ìˆ˜, ë¬¼ëŸ‰ / ëŒ€ë‹¹ ì‘ì—…ëŸ‰), 1)

**í•¨ìˆ˜**:
```typescript
export function calculateEquipmentCount(
  quantity: number,               // ë¬¼ëŸ‰ (ã¥)
  equipmentCalculationBase: number, // ëŒ€ë‹¹ íƒ€ì„¤ëŸ‰ (ã¥)
  maxCount: number = 2            // ìµœëŒ€ ì¥ë¹„ ëŒ€ìˆ˜
): number {
  if (equipmentCalculationBase === 0) return 1;
  const ratio = quantity / equipmentCalculationBase;
  return Math.max(1, Math.ceil(Math.min(maxCount, ratio)));
}
```

**ì˜ˆì‹œ**:
```typescript
// ì½˜í¬ë¦¬íŠ¸ íƒ€ì„¤: ë¬¼ëŸ‰ 800ã¥, íŒí”„ì¹´ 1ëŒ€ë‹¹ 650ã¥, ìµœëŒ€ 2ëŒ€
const equipmentCount = calculateEquipmentCount(800, 650, 2);
// = CEILING(MIN(2, 800/650), 1)
// = CEILING(MIN(2, 1.23), 1)
// = CEILING(1.23, 1)
// = 2ëŒ€
```

**ì¥ë¹„ëŒ€ìˆ˜ë³„ ì‘ì—… êµ¬ë¶„**:
| ë¬¼ëŸ‰ (ã¥) | ì¥ë¹„ ëŒ€ìˆ˜ | ë¹„ê³  |
|----------|----------|------|
| 0 ~ 650 | 1ëŒ€ | ë‹¨ì¼ ì¥ë¹„ |
| 651 ~ 1,300 | 2ëŒ€ | 2ëŒ€ ë™ì‹œ íˆ¬ì… |
| 1,301 ì´ìƒ | 2ëŒ€ (ìµœëŒ€) | 2ì¼ ì´ìƒ ë¶„í•  íƒ€ì„¤ |

---

#### ë‹¨ê³„ 3: 1ì¼ íˆ¬ì…ì¸ì› ê³„ì‚°

**ë°©ë²• A: ì¥ë¹„ ê¸°ë°˜ ê³„ì‚°** (íƒ€ì„¤ ì‘ì—…)

**ìˆ˜ì‹**: 1ì¼ íˆ¬ì…ì¸ì› = ì¥ë¹„ ëŒ€ìˆ˜ Ã— ì¥ë¹„ë‹¹ ì¸ì›ìˆ˜

**í•¨ìˆ˜**:
```typescript
export function calculateDailyInputWorkersByEquipment(
  equipmentCount: number,       // ì¥ë¹„ ëŒ€ìˆ˜
  workersPerUnit: number        // ì¥ë¹„ë‹¹ ì¸ì›ìˆ˜
): number {
  return equipmentCount * workersPerUnit;
}
```

**ì˜ˆì‹œ**:
```typescript
// ì½˜í¬ë¦¬íŠ¸ íŒí”„ì¹´ 2ëŒ€, ëŒ€ë‹¹ 6ëª…
const dailyWorkers = calculateDailyInputWorkersByEquipment(2, 6);
// = 2 Ã— 6
// = 12ëª…
```

**ë°©ë²• B: ì‘ì—…ì¼ ê¸°ë°˜ ê³„ì‚°** (ì¼ë°˜ ì‘ì—…)

**ìˆ˜ì‹**: 1ì¼ íˆ¬ì…ì¸ì› = CEILING(ì´ ì‘ì—…ì¸ì› / ìˆœì‘ì—…ì¼)

**í•¨ìˆ˜**:
```typescript
export function calculateDailyInputWorkersByWorkDays(
  totalWorkers: number,     // ì´ ì‘ì—…ì¸ì›
  directWorkDays: number    // ìˆœì‘ì—…ì¼
): number {
  if (directWorkDays === 0) return 0;
  return Math.ceil(totalWorkers / directWorkDays);
}
```

**ì˜ˆì‹œ**:
```typescript
// ì² ê·¼ ë°°ê·¼: ì´ 38ëª…, ìˆœì‘ì—…ì¼ 5ì¼
const dailyWorkers = calculateDailyInputWorkersByWorkDays(38, 5);
// = CEILING(38 / 5)
// = CEILING(7.6)
// = 8ëª…/ì¼
```

---

#### ë‹¨ê³„ 4: ìˆœì‘ì—…ì¼ ê³„ì‚° (ë³µì¡í•œ ë°˜ì˜¬ë¦¼ ë¡œì§)

**ìˆ˜ì‹**: 
```
result = ë¬¼ëŸ‰ / (ì¸ë‹¹ ì‘ì—…ëŸ‰ Ã— 1ì¼ íˆ¬ì…ì¸ì›)
if (resultì˜ ì†Œìˆ˜ì  < 0.5) â†’ ROUNDDOWN
else â†’ ROUNDUP
ìµœì†Œê°’ = 1ì¼
```

**í•¨ìˆ˜**:
```typescript
export function calculateWorkDaysWithRounding(
  quantity: number,           // ë¬¼ëŸ‰
  dailyProductivity: number,  // ì¸ë‹¹ 1ì¼ ì‘ì—…ëŸ‰
  dailyInputWorkers: number   // 1ì¼ íˆ¬ì…ì¸ì›
): number {
  if (dailyProductivity === 0 || dailyInputWorkers === 0) return 1;
  
  const result = quantity / (dailyProductivity * dailyInputWorkers);
  const decimal = result - Math.floor(result);
  
  if (decimal < 0.5) {
    return Math.max(1, Math.floor(result));  // ë‚´ë¦¼
  } else {
    return Math.max(1, Math.ceil(result));   // ì˜¬ë¦¼
  }
}
```

**ì˜ˆì‹œ**:
```typescript
// ì¼€ì´ìŠ¤ 1: ì†Œìˆ˜ì  < 0.5 (ë‚´ë¦¼)
// ë¬¼ëŸ‰ 100ã¡, ìƒì‚°ì„± 10ã¡/ì¸/ì¼, íˆ¬ì… 8ëª…/ì¼
const days1 = calculateWorkDaysWithRounding(100, 10, 8);
// = 100 / (10 Ã— 8) = 1.25
// ì†Œìˆ˜ì  0.25 < 0.5 â†’ ë‚´ë¦¼
// = 1ì¼

// ì¼€ì´ìŠ¤ 2: ì†Œìˆ˜ì  >= 0.5 (ì˜¬ë¦¼)
// ë¬¼ëŸ‰ 150ã¡, ìƒì‚°ì„± 10ã¡/ì¸/ì¼, íˆ¬ì… 8ëª…/ì¼
const days2 = calculateWorkDaysWithRounding(150, 10, 8);
// = 150 / (10 Ã— 8) = 1.875
// ì†Œìˆ˜ì  0.875 >= 0.5 â†’ ì˜¬ë¦¼
// = 2ì¼
```

**Excel ìˆ˜ì‹ í˜¸í™˜**:
```excel
=MAX(1, IF(MOD(E/F/G, 1) < 0.5, ROUNDDOWN(E/F/G, 0), ROUNDUP(E/F/G, 0)))
```

---

#### ë‹¨ê³„ 5: ì´ ì‘ì—…ì¼ìˆ˜ ê³„ì‚°

**ìˆ˜ì‹**: ì´ ì‘ì—…ì¼ìˆ˜ = ìˆœì‘ì—…ì¼ + ê°„ì ‘ì¼

**í•¨ìˆ˜**:
```typescript
export function calculateTotalWorkDays(
  directWorkDays: number,  // ìˆœì‘ì—…ì¼
  indirectDays: number     // ê°„ì ‘ì¼ (ì–‘ìƒ, ê²€ì¸¡ ë“±)
): number {
  return Math.ceil(directWorkDays + indirectDays);
}
```

**ì˜ˆì‹œ**:
```typescript
// ì½˜í¬ë¦¬íŠ¸ íƒ€ì„¤: ìˆœì‘ì—…ì¼ 1ì¼, ì–‘ìƒ 2ì¼
const totalDays = calculateTotalWorkDays(1, 2);
// = 1 + 2
// = 3ì¼
```

---

### 4.1.3 íŠ¹ìˆ˜ ì¼€ì´ìŠ¤ ì²˜ë¦¬

#### ì¼€ì´ìŠ¤ A: ì¼ìˆ˜ ê³ ì • í•­ëª©

ë¨¹ë§¤ê¹€, ê²€ì¸¡ ë“± ì¼ë¶€ í•­ëª©ì€ ë¬¼ëŸ‰ê³¼ ë¬´ê´€í•˜ê²Œ **ê³ ì • ì¼ìˆ˜**ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

```typescript
// ë¨¹ë§¤ê¹€: í•­ìƒ 1ì¼
const meokmaekim: ProcessItem = {
  id: 'meokmaekim',
  workItem: '1.ë¨¹ë§¤ê¹€(1ì¼)',
  unit: '',
  dailyProductivity: 0,  // ìƒì‚°ì„± ë¯¸ì‚¬ìš©
  equipmentCount: 1,
  directWorkDays: 1,     // ê³ ì •ê°’
  indirectDays: 0,
};

// ê³„ì‚° ë¡œì§
if (item.directWorkDays !== undefined && item.directWorkDays !== null) {
  // ê³ ì • ì¼ìˆ˜ ì‚¬ìš©
  ìˆœì‘ì—…ì¼ = item.directWorkDays;
} else {
  // ê³„ì‚°ì‹ ì‚¬ìš©
  ìˆœì‘ì—…ì¼ = calculateWorkDaysWithRounding(...);
}
```

#### ì¼€ì´ìŠ¤ B: ê±°í‘¸ì§‘ í•´ì²´ì •ë¦¬

í•´ì²´ì •ë¦¬ëŠ” **ê°„ì ‘ì¼ë¡œë§Œ ë¶„ë¥˜**ë˜ë©°, ìˆœì‘ì—…ì¼ì€ 0ì…ë‹ˆë‹¤.

```typescript
const stripClean: ProcessItem = {
  id: 'basement-stripclean-b2',
  workItem: '*ê±°í‘¸ì§‘í•´ì²´ì •ë¦¬',
  unit: 'ã¡',
  quantityReference: 'D8',    // í•´ë‹¹ ì¸µì˜ í˜•í‹€ ìˆ˜ëŸ‰
  dailyProductivity: 50,      // 50ã¡/ì¸/ì¼
  directWorkDays: 0,          // ìˆœì‘ì—…ì¼ 0
  indirectDays: 16,           // ê°„ì ‘ì¼ë¡œ ë¶„ë¥˜
};

// ì´ ì‘ì—…ì¼ìˆ˜ = 0 + 16 = 16ì¼
```

#### ì¼€ì´ìŠ¤ C: ì¸µë³„ ë‹¤ë¥¸ ê³µì • íƒ€ì…

ê¸°ì¤€ì¸µì—ì„œ ì¼ë¶€ ì¸µë§Œ ë‹¤ë¥¸ ì‚¬ì´í´ì„ ì ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```typescript
const processPlan: BuildingProcessPlan = {
  processes: {
    'ê¸°ì¤€ì¸µ': {
      days: 90,
      processType: '6ì¼ ì‚¬ì´í´',  // ê¸°ë³¸ê°’
      floors: {
        '4F': { processType: '7ì¼ ì‚¬ì´í´' },  // 4ì¸µë§Œ 7ì¼
        '10F': { processType: '8ì¼ ì‚¬ì´í´' }, // 10ì¸µë§Œ 8ì¼
      }
    }
  }
};

// ê³„ì‚° ì‹œ ì¸µë³„ë¡œ ë‹¤ë¥¸ ëª¨ë“ˆ ë°ì´í„° ì‚¬ìš©
const module4F = getProcessModule('ê¸°ì¤€ì¸µ', '7ì¼ ì‚¬ì´í´');
const module10F = getProcessModule('ê¸°ì¤€ì¸µ', '8ì¼ ì‚¬ì´í´');
```

---

### 4.1.4 ê³„ì‚° ì˜ˆì‹œ: ê¸°ì´ˆ ê³µì‚¬

**ì…ë ¥ ë°ì´í„°**:
- ê¸°ì´ˆ í˜•í‹€: 500 ã¡
- ê¸°ì´ˆ ì² ê·¼: 50 ton
- ê¸°ì´ˆ ì½˜í¬ë¦¬íŠ¸: 300 ã¥

**ê³„ì‚° ê³¼ì •**:

#### í•­ëª© 1: ë¨¹ë§¤ê¹€

```
âœ… ê³ ì • ì¼ìˆ˜
ìˆœì‘ì—…ì¼ = 1ì¼
ê°„ì ‘ì¼ = 0ì¼
ì´ ì‘ì—…ì¼ìˆ˜ = 1ì¼
```

#### í•­ëª© 2: ê¸°ì´ˆ ì² ê·¼ ì¡°ë¦½

```
ë¬¼ëŸ‰ = 50 ton
ìƒì‚°ì„± = 1.1 ton/ì¸/ì¼
ê³ ì • ì¼ìˆ˜ = 6ì¼

âœ… ê³ ì • ì¼ìˆ˜ ì‚¬ìš©
ìˆœì‘ì—…ì¼ = 6ì¼
ê°„ì ‘ì¼ = 0.5ì¼ (ê²€ì¸¡)
ì´ ì‘ì—…ì¼ìˆ˜ = 6.5ì¼ â†’ 7ì¼
```

#### í•­ëª© 3: ëŠì–´ì¹˜ê¸° ì‘ì—…

```
ë¬¼ëŸ‰ = 500 ã¡
ìƒì‚°ì„± = 10 ã¡/ì¸/ì¼
ê³ ì • ì¼ìˆ˜ = 2ì¼

âœ… ê³ ì • ì¼ìˆ˜ ì‚¬ìš©
ìˆœì‘ì—…ì¼ = 2ì¼
ê°„ì ‘ì¼ = 0.5ì¼ (ê²€ì¸¡)
ì´ ì‘ì—…ì¼ìˆ˜ = 2.5ì¼ â†’ 3ì¼
```

#### í•­ëª© 4: ê¸°ì´ˆ íƒ€ì„¤

```
ë¬¼ëŸ‰ = 300 ã¥
ëŒ€ë‹¹ íƒ€ì„¤ëŸ‰ = 650 ã¥
ìµœëŒ€ ì¥ë¹„ = 2ëŒ€

ì¥ë¹„ ëŒ€ìˆ˜ = CEILING(MIN(2, 300/650), 1)
          = CEILING(MIN(2, 0.46), 1)
          = 1ëŒ€

1ì¼ íˆ¬ì…ì¸ì› = 1ëŒ€ Ã— 5ëª…/ëŒ€
             = 5ëª…

ìƒì‚°ì„± = 130 ã¥/ì¸/ì¼ (íŒí”„ì¹´ ì‘ì—…ì€ ì´ ê°’ ì‚¬ìš© ì•ˆ í•¨)
ì‹¤ì œ íƒ€ì„¤ëŸ‰ = ë¬¼ëŸ‰ / ì¥ë¹„ëŒ€ìˆ˜
            = 300 / 1
            = 300 ã¥/ì¼

ìˆœì‘ì—…ì¼ = CEILING(300 / (1ëŒ€ Ã— 650))
         = CEILING(0.46)
         = 1ì¼

ê°„ì ‘ì¼ = 3ì¼ (ì–‘ìƒ)

ì´ ì‘ì—…ì¼ìˆ˜ = 1 + 3 = 4ì¼
```

**ê¸°ì´ˆ ê³µì‚¬ ì´ì¼ìˆ˜**: 1 + 7 + 3 + 4 = **15ì¼**

---

## 4.2 ê³µì • ëª¨ë“ˆ ë°ì´í„°

### 4.2.1 ë°ì´í„° êµ¬ì¡°

ê³µì • ëª¨ë“ˆ ë°ì´í„°ëŠ” [`src/lib/data/process-modules.ts`](../src/lib/data/process-modules.ts)ì— ì •ì˜ë˜ì–´ ìˆìœ¼ë©°, ì´ **20ê°œ ì´ìƒì˜ ëª¨ë“ˆ**ì„ í¬í•¨í•©ë‹ˆë‹¤.

#### ëª¨ë“ˆ ëª©ë¡

| êµ¬ë¶„ | ê³µì • íƒ€ì… | ëª¨ë“ˆ ID | í•­ëª© ìˆ˜ |
|------|----------|---------|---------|
| ë²„ë¦¼ | í‘œì¤€ê³µì • | `blinding-standard` | 2ê°œ |
| ê¸°ì´ˆ | í‘œì¤€ê³µì • | `foundation-standard` | 4ê°œ |
| ì§€í•˜ì¸µ | í‘œì¤€ê³µì • | `basement-standard` | 15ê°œ |
| ì…‹íŒ…ì¸µ | í‘œì¤€ê³µì • | `setting-standard` | 6ê°œ |
| ì…‹íŒ…ì¸µ | 5ì¼ ì‚¬ì´í´ | `setting-5day` | 6ê°œ |
| ì…‹íŒ…ì¸µ | 6ì¼ ì‚¬ì´í´ | `setting-6day` | 6ê°œ |
| ì…‹íŒ…ì¸µ | 7ì¼ ì‚¬ì´í´ | `setting-7day` | 6ê°œ |
| ì…‹íŒ…ì¸µ | 8ì¼ ì‚¬ì´í´ | `setting-8day` | 6ê°œ |
| ê¸°ì¤€ì¸µ | 5ì¼ ì‚¬ì´í´ | `standard-5day` | 6ê°œ |
| ê¸°ì¤€ì¸µ | 6ì¼ ì‚¬ì´í´ | `standard-6day` | 6ê°œ |
| ê¸°ì¤€ì¸µ | 7ì¼ ì‚¬ì´í´ | `standard-7day` | 6ê°œ |
| ê¸°ì¤€ì¸µ | 8ì¼ ì‚¬ì´í´ | `standard-8day` | 6ê°œ |
| ì˜¥íƒ‘ì¸µ | í‘œì¤€ê³µì • | `ph-standard` | 5ê°œ |
| PHì¸µ | 5ì¼ ì‚¬ì´í´ | `ph-5day` | 5ê°œ |
| PHì¸µ | 6ì¼ ì‚¬ì´í´ | `ph-6day` | 5ê°œ |
| PHì¸µ | 7ì¼ ì‚¬ì´í´ | `ph-7day` | 5ê°œ |
| PHì¸µ | 8ì¼ ì‚¬ì´í´ | `ph-8day` | 5ê°œ |

### 4.2.2 ë²„ë¦¼ - í‘œì¤€ê³µì • ìƒì„¸

```typescript
{
  id: 'blinding-standard',
  name: 'í‘œì¤€ê³µì •',
  category: 'ë²„ë¦¼',
  items: [
    // í•­ëª© 1: ë²„ë¦¼í‹€ ì„¤ì¹˜
    {
      id: 'blinding-formwork',
      workItem: '1.ë²„ë¦¼í‹€ì„¤ì¹˜',
      unit: 'ã¡',
      quantityReference: 'D6',      // ë™,ì¸µë³„ë¬¼ëŸ‰í‘œ!D6 (í˜•í‹€)
      dailyProductivity: 10,        // 10ã¡/ì¸/ì¼
      calculationBasis: 'ì¼ìˆ˜ê³ ì •',
      equipmentCount: 1,
      directWorkDays: 1,            // ê³ ì • 1ì¼
      indirectDays: 0,
    },
    
    // í•­ëª© 2: ë²„ë¦¼ íƒ€ì„¤
    {
      id: 'blinding-concrete',
      workItem: '2.ë²„ë¦¼íƒ€ì„¤',
      unit: 'ã¥',
      quantityReference: 'G6',      // ë™,ì¸µë³„ë¬¼ëŸ‰í‘œ!G6 (ì½˜í¬ë¦¬íŠ¸)
      dailyProductivity: 130,       // 130ã¥/ì¸/ì¼
      calculationBasis: 'ì¥ë¹„ëŒ€ìˆ˜*4ëª… /ë²„ë¦¼ë¶€ë¶„',
      equipmentName: 'ì½˜í¬ë¦¬íŠ¸ íŒí”„ì°¨',
      equipmentCount: 1,            // ê³„ì‚°: CEILING(MIN(2, ë¬¼ëŸ‰/650), 1)
      equipmentCalculationBase: 650,  // íŒí”„ì¹´ 1ëŒ€ë‹¹ 650ã¥
      equipmentWorkersPerUnit: 4,   // íŒí”„ì¹´ 1ëŒ€ë‹¹ 4ëª…
      indirectDays: 1,
      indirectWorkItem: 'ì–‘ìƒ',
      // directWorkDaysëŠ” ê³„ì‚°ìœ¼ë¡œ ê²°ì •
    },
  ],
}
```

**íŠ¹ì§•**:
- ë§¤ìš° ë‹¨ìˆœí•œ ê³µì • (2ê°œ í•­ëª©)
- ì´ ì†Œìš” ì¼ìˆ˜: ì•½ 2~3ì¼
- ë¨¹ë§¤ê¹€ ì‘ì—… ì—†ìŒ (ì§€ë°˜ì— ë°”ë¡œ ì‹œê³µ)

### 4.2.3 ê¸°ì¤€ì¸µ - 6ì¼ ì‚¬ì´í´ ìƒì„¸

```typescript
{
  id: 'standard-6day',
  name: '6ì¼ ì‚¬ì´í´',
  category: 'ê¸°ì¤€ì¸µ',
  items: [
    // í•­ëª© 1: ë¨¹ë§¤ê¹€
    {
      id: 'standard-meokmaekim-6day',
      workItem: '1.ë¨¹ë§¤ê¹€(1ì¼)',
      calculationBasis: 'ì¼ìˆ˜ê³ ì •',
      unit: '',
      equipmentCount: 1,
      directWorkDays: 1,        // ê³ ì • 1ì¼
      dailyProductivity: 0,
      indirectDays: 0,
      indirectWorkItem: 'ê²€ì¸¡',
    },
    
    // í•­ëª© 2: ê°±í¼ ì„¤ì¹˜
    {
      id: 'standard-gangform-6day',
      workItem: '2.ê°±í¼ì„¤ì¹˜',
      unit: 'ã¡',
      quantityReference: 'B14',  // ë™,ì¸µë³„ë¬¼ëŸ‰í‘œ!B14 (ê°±í¼)
      dailyProductivity: 60,     // 60ã¡/ì¸/ì¼
      calculationBasis: 'ì¼ìˆ˜ê³ ì •',
      equipmentCount: 1,
      directWorkDays: 1,         // ê³ ì • 1ì¼
      indirectDays: 1,
      indirectWorkItem: 'ë³´ê°•/ê²€ì¸¡',
    },
    
    // í•­ëª© 3: ì˜¹ë²½ ì² ê·¼ ì¡°ë¦½
    {
      id: 'standard-wall-rebar-6day',
      workItem: '3.ì˜¹ë²½ì² ê·¼ ì¡°ë¦½',
      unit: 'ton',
      quantityReference: 'F14*0.5',  // ì² ê·¼ì˜ 50% (ë²½ì²´ ë¶€ë¶„)
      dailyProductivity: 0.8,        // 0.8ton/ì¸/ì¼
      calculationBasis: 'ì¼ìˆ˜ê³ ì •',
      equipmentCount: 1,
      directWorkDays: 1,             // ê³ ì • 1ì¼
      indirectDays: 0.5,
      indirectWorkItem: 'ê²€ì¸¡',
    },
    
    // í•­ëª© 4: ì•Œí¼ ì¡°ë¦½
    {
      id: 'standard-alform-6day',
      workItem: '4.ì•Œí¼ì¡°ë¦½',
      unit: 'ã¡',
      quantityReference: 'C14*0.55',  // ì•Œí¼ì˜ 55% (ë³´Â·ìŠ¬ë¼ë¸Œ)
      dailyProductivity: 60,          // 60ã¡/ì¸/ì¼
      calculationBasis: 'ì¼ìˆ˜ê³ ì •',
      equipmentCount: 1,
      directWorkDays: 1,              // ê³ ì • 1ì¼
      indirectDays: 0.5,
      indirectWorkItem: 'ê²€ì¸¡',
    },
    
    // í•­ëª© 5: ìŠ¬ë¼ë¸Œ ì² ê·¼ ì¡°ë¦½
    {
      id: 'standard-slab-rebar-6day',
      workItem: '5.ìŠ¬ë¼ë¸Œì² ê·¼ ì¡°ë¦½',
      unit: 'ton',
      quantityReference: 'F14*0.5',   // ì² ê·¼ì˜ 50% (ìŠ¬ë¼ë¸Œ ë¶€ë¶„)
      dailyProductivity: 0.9,         // 0.9ton/ì¸/ì¼
      calculationBasis: 'ì¼ìˆ˜ê³ ì •',
      equipmentCount: 1,
      directWorkDays: 1,              // ê³ ì • 1ì¼
      indirectDays: 0.5,
      indirectWorkItem: 'ê²€ì¸¡',
    },
    
    // í•­ëª© 6: íƒ€ì„¤
    {
      id: 'standard-concrete-6day',
      workItem: '6.íƒ€ì„¤',
      unit: 'ã¥',
      quantityReference: 'G14',       // ì½˜í¬ë¦¬íŠ¸ ì „ì²´
      dailyProductivity: 130,         // 130ã¥/ì¸/ì¼
      calculationBasis: 'ì¥ë¹„ëŒ€ìˆ˜*6ëª… /ì¼ë°˜ì¸µ',
      equipmentName: 'ì½˜í¬ë¦¬íŠ¸ íŒí”„ì°¨',
      equipmentCount: 1,              // ê³„ì‚°: CEILING(MIN(2, ë¬¼ëŸ‰/320), 1)
      equipmentCalculationBase: 320,  // ê¸°ì¤€ì¸µ ëŒ€ë‹¹ 320ã¥
      equipmentWorkersPerUnit: 6,     // íŒí”„ì¹´ 1ëŒ€ë‹¹ 6ëª…
      indirectDays: 2,
      indirectWorkItem: 'ì–‘ìƒ',
      // directWorkDaysëŠ” ê³„ì‚°ìœ¼ë¡œ ê²°ì •
    },
  ],
}
```

**6ì¼ ì‚¬ì´í´ ì¼ì •**:
```
1ì¼ì°¨: ë¨¹ë§¤ê¹€
2ì¼ì°¨: ê°±í¼ì„¤ì¹˜ + ë³´ê°•/ê²€ì¸¡ (1ì¼ + 1ì¼ = 2ì¼ì°¨ ì™„ë£Œ)
3ì¼ì°¨: ì˜¹ë²½ì² ê·¼ ì¡°ë¦½ + ê²€ì¸¡ (1ì¼ + 0.5ì¼ = 3ì¼ì°¨ ì™„ë£Œ)
4ì¼ì°¨: ì•Œí¼ì¡°ë¦½ + ê²€ì¸¡ (1ì¼ + 0.5ì¼ = 4ì¼ì°¨ ì™„ë£Œ)
5ì¼ì°¨: ìŠ¬ë¼ë¸Œì² ê·¼ ì¡°ë¦½ + ê²€ì¸¡ (1ì¼ + 0.5ì¼ = 5ì¼ì°¨ ì™„ë£Œ)
6ì¼ì°¨: íƒ€ì„¤ (1ì¼)
7~8ì¼ì°¨: ì–‘ìƒ (2ì¼)
```

ì‹¤ì œë¡œëŠ” ì¼ë¶€ ì‘ì—…ì´ **ë³‘ë ¬ ì§„í–‰**ë˜ì–´ 6ì¼ì— ì™„ë£Œë©ë‹ˆë‹¤.

### 4.2.4 5~8ì¼ ì‚¬ì´í´ ë¹„êµ

| í•­ëª© | 5ì¼ | 6ì¼ | 7ì¼ | 8ì¼ |
|------|-----|-----|-----|-----|
| **ë¨¹ë§¤ê¹€** | 1ì¼ | 1ì¼ | 1ì¼ | 1ì¼ |
| **ê°±í¼ì„¤ì¹˜** | 1ì¼ | 1ì¼ | 1ì¼ | 1ì¼ |
| **ë²½ì² ê·¼** | 1ì¼ | 1ì¼ | 1ì¼ | 1ì¼ |
| **ì•Œí¼ì¡°ë¦½** | 1ì¼ | 1ì¼ | 1ì¼ | 1ì¼ |
| **ìŠ¬ë¼ë¸Œì² ê·¼** | 1ì¼ | 1ì¼ | 1ì¼ | 1ì¼ |
| **íƒ€ì„¤** | 1ì¼ | 1ì¼ | 1ì¼ | 1ì¼ |
| **ì–‘ìƒ** | 2ì¼ | 2ì¼ | 2ì¼ | 2ì¼ |
| **ìˆœì‘ì—…ì¼** | 3ì¼ | 4ì¼ | 5ì¼ | 6ì¼ |
| **ì´ì¼ìˆ˜** | **5ì¼** | **6ì¼** | **7ì¼** | **8ì¼** |

**ì°¨ì´ì **: ì‚¬ì´í´ì´ ê¸¸ìˆ˜ë¡ ì¸ë ¥ì„ **ë¶„ì‚° íˆ¬ì…**í•˜ì—¬ ì¼ì •ì— ì—¬ìœ ë¥¼ ë‘¡ë‹ˆë‹¤.

### 4.2.5 ì§€í•˜ì¸µ - í‘œì¤€ê³µì • íŠ¹ì§•

ì§€í•˜ì¸µì€ **ê°€ì¥ ë³µì¡í•œ ê³µì •**ìœ¼ë¡œ, ë‹¤ìŒ íŠ¹ì§•ì´ ìˆìŠµë‹ˆë‹¤:

1. **ì¸µë³„ ë¶„ë¦¬**: B2ì¸µê³¼ B1ì¸µì„ ë³„ë„ ì²˜ë¦¬
2. **í•©ë²½ íƒ€ì„¤**: ë²½ê³¼ ìŠ¬ë¼ë¸Œë¥¼ 2íšŒë¡œ ë‚˜ëˆ„ì–´ íƒ€ì„¤
3. **ê±°í‘¸ì§‘ í•´ì²´ì •ë¦¬**: ë³„ë„ í•­ëª©ìœ¼ë¡œ ê´€ë¦¬ (ê°„ì ‘ì¼ 16~22ì¼)
4. **ê°€ì„¤/í™ë§‰ì´/í† ê³µ**: ë³„ë„ ì…ë ¥ í•„ë“œ

**B2ì¸µ í•­ëª© ì˜ˆì‹œ**:
```
1. ë¨¹ë§¤ê¹€ (1ì¼)
2. ì˜¹ë²½ì² ê·¼ì¡°ë¦½ (5ì¼ + ê²€ì¸¡ 0.5ì¼)
3. ì§€í•˜2ì¸µ ê±°í‘¸ì§‘ì„¤ì¹˜ (17ì¼ + ë³´ê°•/ê²€ì¸¡ 1ì¼)
4. ë³´ìŠ¬ë¼ë¸Œì² ê·¼ì¡°ë¦½ (5ì¼ + ê²€ì¸¡ 0.5ì¼)
5. ë§ˆê°ì‘ì—… (2ì¼ + ê²€ì¸¡ 0.5ì¼)
6. íƒ€ì„¤ (1ì¼ + ì–‘ìƒ 3ì¼)
*. ê±°í‘¸ì§‘í•´ì²´ì •ë¦¬ (ê°„ì ‘ì¼ 16ì¼)
```

**B1ì¸µ í•­ëª© ì˜ˆì‹œ** (2ì°¨ ë§ˆê° ë° íƒ€ì„¤ í¬í•¨):
```
7. ë¨¹ë§¤ê¹€ (1ì¼)
8. ë²½ ì² ê·¼ì¡°ë¦½ (5ì¼ + ê²€ì¸¡ 0.5ì¼)
9. ì§€í•˜1ì¸µ ê±°í‘¸ì§‘ ì„¤ì¹˜ (19ì¼ + ê²€ì¸¡ 0.5ì¼)
10. ë³´ìŠ¬ë¼ë¸Œ ì² ê·¼ì¡°ë¦½ (5ì¼ + ê²€ì¸¡ 0.5ì¼)
11. 1ì°¨ ë§ˆê°ì‘ì—… (2ì¼ + ê²€ì¸¡ 0.5ì¼)
12. 1ì°¨ íƒ€ì„¤ (1ì¼ + ì–‘ìƒ 3ì¼)  // ë²½ì²´ë§Œ
13. 2ì°¨ ë§ˆê°ì‘ì—… (2ì¼ + ê²€ì¸¡ 0.5ì¼)
14. 2ì°¨ íƒ€ì„¤ (1ì¼ + ì–‘ìƒ 3ì¼)  // ìŠ¬ë¼ë¸Œ
*. ê±°í‘¸ì§‘í•´ì²´ì •ë¦¬ (ê°„ì ‘ì¼ 22ì¼)
```

---

## 4.3 ë¬¼ëŸ‰ ì°¸ì¡° ì‹œìŠ¤í…œ

### 4.3.1 ë¬¼ëŸ‰ ì°¸ì¡° íŒ¨í„´

`quantityReference` í•„ë“œëŠ” ë¬¼ëŸ‰í‘œì˜ ì…€ì„ ì°¸ì¡°í•˜ì—¬ ìë™ìœ¼ë¡œ ë¬¼ëŸ‰ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.

#### íŒ¨í„´ ì¢…ë¥˜

| íŒ¨í„´ | ì„¤ëª… | ì˜ˆì‹œ |
|------|------|------|
| **ë‹¨ìˆœ ì…€ ì°¸ì¡°** | íŠ¹ì • ì…€ ê°’ ê·¸ëŒ€ë¡œ ì‚¬ìš© | `"D6"` â†’ ë™,ì¸µë³„ë¬¼ëŸ‰í‘œ!D6 |
| **ìˆ˜ì‹ ì°¸ì¡°** | ì…€ ê°’ì— ê³„ì‚° ì ìš© | `"F7*0.45"` â†’ F7 Ã— 0.45 |
| **ë³µí•© ì°¸ì¡°** | ì—¬ëŸ¬ ì…€ ì¡°í•© | `"D8*0.95"` â†’ D8 Ã— 0.95 |

#### ë¬¼ëŸ‰í‘œ ì…€ êµ¬ì¡°

**ë™,ì¸µë³„ë¬¼ëŸ‰í‘œ** (ê°€ìƒ ì˜ˆì‹œ):

| í–‰ | A | B | C | D | E | F | G |
|----|---|---|---|---|---|---|---|
| **6** | ë²„ë¦¼ | - | - | **í˜•í‹€ 200ã¡** | - | - | **ì½˜ 80ã¥** |
| **7** | ê¸°ì´ˆ | - | - | **í˜•í‹€ 500ã¡** | - | **ì² ê·¼ 50ton** | **ì½˜ 300ã¥** |
| **8** | B2ì¸µ | ê°±í¼ 850ã¡ | ì•Œí¼ 1200ã¡ | **í˜•í‹€ 2050ã¡** | - | **ì² ê·¼ 120ton** | **ì½˜ 600ã¥** |
| **9** | B1ì¸µ | ê°±í¼ 850ã¡ | ì•Œí¼ 1200ã¡ | **í˜•í‹€ 2050ã¡** | - | **ì² ê·¼ 120ton** | **ì½˜ 600ã¥** |
| **11** | 1ì¸µ | ê°±í¼ 120ã¡ | ì•Œí¼ 1731ã¡ | í˜•í‹€ 1851ã¡ | - | ì² ê·¼ 35ton | ì½˜ 350ã¥ |
| **14** | 4ì¸µ | ê°±í¼ 120ã¡ | ì•Œí¼ 1731ã¡ | í˜•í‹€ 1851ã¡ | - | ì² ê·¼ 18.83ton | ì½˜ 245ã¥ |

### 4.3.2 ë¬¼ëŸ‰ ì¶”ì¶œ í•¨ìˆ˜

```typescript
/**
 * quantityReference íŒ¨í„´ì„ í•´ì„í•˜ì—¬ ì‹¤ì œ ë¬¼ëŸ‰ ê°’ì„ ë°˜í™˜
 * @param quantityReference - íŒ¨í„´ (ì˜ˆ: "D6", "F7*0.45")
 * @param floor - ì¸µ ì •ë³´
 * @param building - ë™ ì •ë³´
 * @returns ë¬¼ëŸ‰ ê°’ (number)
 */
export function getQuantityByReference(
  quantityReference: string,
  floor: Floor,
  building: Building
): number {
  // 1. íŒ¨í„´ íŒŒì‹±
  const match = quantityReference.match(/([A-Z]\d+)(\*[\d.]+)?/);
  if (!match) return 0;
  
  const [, cellRef, multiplier] = match;
  
  // 2. ì…€ ì°¸ì¡°ë¡œ ë¬¼ëŸ‰ ê°€ì ¸ì˜¤ê¸°
  const baseQuantity = getQuantityFromFloor(cellRef, floor, building);
  
  // 3. ë°°ìœ¨ ì ìš©
  if (multiplier) {
    const factor = parseFloat(multiplier.slice(1)); // "*0.45" â†’ 0.45
    return baseQuantity * factor;
  }
  
  return baseQuantity;
}

/**
 * ì…€ ì°¸ì¡°(ì˜ˆ: "D6")ë¡œ ì‹¤ì œ ë¬¼ëŸ‰ ê°’ì„ ê°€ì ¸ì˜¤ê¸°
 */
function getQuantityFromFloor(
  cellRef: string,
  floor: Floor,
  building: Building
): number {
  // FloorTrade ë°ì´í„°ì—ì„œ í•´ë‹¹ ì…€ì˜ ê°’ì„ ì°¾ìŒ
  const floorTrade = building.floorTrades.find(
    (ft) => ft.floorId === floor.id && ft.tradeGroup === 'ê³¨ì¡°'
  );
  
  if (!floorTrade) return 0;
  
  // ì…€ ì°¸ì¡°ë¥¼ ë°ì´í„° í•„ë“œë¡œ ë§¤í•‘
  const column = cellRef[0];  // 'D', 'F', 'G' ë“±
  
  switch (column) {
    case 'B':
      return floorTrade.trades.gangForm?.areaM2 || 0;
    case 'C':
      return floorTrade.trades.alForm?.areaM2 || 0;
    case 'D':
      return floorTrade.trades.formwork?.areaM2 || 0;
    case 'F':
      return floorTrade.trades.rebar?.weightTon || 0;
    case 'G':
      return floorTrade.trades.concrete?.volumeM3 || 0;
    default:
      return 0;
  }
}
```

### 4.3.3 ë¬¼ëŸ‰ ì°¸ì¡° ì˜ˆì‹œ

#### ì˜ˆì‹œ 1: ê¸°ì´ˆ ì² ê·¼ ì¡°ë¦½

```typescript
const item: ProcessItem = {
  id: 'foundation-rebar',
  workItem: '4.ê¸°ì´ˆì² ê·¼ì¡°ë¦½',
  quantityReference: 'F7',  // ë™,ì¸µë³„ë¬¼ëŸ‰í‘œ!F7
  unit: 'ton',
  dailyProductivity: 1.1,
};

// ë¬¼ëŸ‰ ì¶”ì¶œ
const quantity = getQuantityByReference('F7', floor, building);
// â†’ building.floorTradesì—ì„œ ê¸°ì´ˆì¸µì˜ rebar.weightTon ì¡°íšŒ
// â†’ 50 ton
```

#### ì˜ˆì‹œ 2: ì§€í•˜2ì¸µ ì˜¹ë²½ ì² ê·¼ (45%)

```typescript
const item: ProcessItem = {
  id: 'basement-wall-rebar-b2',
  workItem: '2.ì˜¹ë²½ì² ê·¼ì¡°ë¦½',
  quantityReference: 'F8*0.45',  // B2ì¸µ ì² ê·¼ì˜ 45%
  unit: 'ton',
  dailyProductivity: 0.8,
};

// ë¬¼ëŸ‰ ì¶”ì¶œ
const quantity = getQuantityByReference('F8*0.45', floor, building);
// â†’ building.floorTradesì—ì„œ B2ì¸µì˜ rebar.weightTon ì¡°íšŒ
// â†’ 120 ton
// â†’ 120 Ã— 0.45 = 54 ton
```

#### ì˜ˆì‹œ 3: ì•Œí¼ ì¡°ë¦½ (55%)

```typescript
const item: ProcessItem = {
  id: 'standard-alform-6day',
  workItem: '4.ì•Œí¼ì¡°ë¦½',
  quantityReference: 'C14*0.55',  // 4ì¸µ ì•Œí¼ì˜ 55%
  unit: 'ã¡',
  dailyProductivity: 60,
};

// ë¬¼ëŸ‰ ì¶”ì¶œ
const quantity = getQuantityByReference('C14*0.55', floor, building);
// â†’ building.floorTradesì—ì„œ 4ì¸µì˜ alForm.areaM2 ì¡°íšŒ
// â†’ 1731 ã¡
// â†’ 1731 Ã— 0.55 = 952 ã¡
```

### 4.3.4 ë™ì  ë¬¼ëŸ‰ ì—…ë°ì´íŠ¸

ë¬¼ëŸ‰í‘œê°€ ìˆ˜ì •ë˜ë©´ ê³µì • ê³„ì‚°ì´ **ìë™ìœ¼ë¡œ ì¬ê³„ì‚°**ë©ë‹ˆë‹¤:

```mermaid
sequenceDiagram
    actor User as ì‚¬ìš©ì
    participant QInput as ë¬¼ëŸ‰ì…ë ¥ í˜ì´ì§€
    participant FT as FloorTrade
    participant PCalc as ê³µì •ê³„ì‚° í˜ì´ì§€
    participant Storage as LocalStorage
    
    User->>QInput: ì² ê·¼ ë¬¼ëŸ‰ ìˆ˜ì •<br/>(50ton â†’ 60ton)
    QInput->>FT: FloorTrade ì—…ë°ì´íŠ¸
    FT->>Storage: ì €ì¥
    
    User->>PCalc: ê³µì •ê³„íš í˜ì´ì§€ ì—´ê¸°
    PCalc->>Storage: FloorTrade ë¡œë“œ
    PCalc->>PCalc: ë¬¼ëŸ‰ ì°¸ì¡°ë¡œ 60ton ê°€ì ¸ì˜¤ê¸°
    PCalc->>PCalc: ê³µì •ì¼ìˆ˜ ì¬ê³„ì‚°
    PCalc->>User: ì—…ë°ì´íŠ¸ëœ ì¼ì • í‘œì‹œ
```

---

ì´ë¡œì¨ 4ë¶€ ê³µì • ê³„ì‚° ë¡œì§ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ë‹¤ìŒ ì„¹ì…˜ì—ì„œëŠ” UI ì»´í¬ë„ŒíŠ¸ë¥¼ ìƒì„¸íˆ ë‹¤ë£¹ë‹ˆë‹¤.

---

# 5ë¶€: UI ì»´í¬ë„ŒíŠ¸

## 5.1 ë™ë³„ê³µì •ê³„íší‘œ

### 5.1.1 ì»´í¬ë„ŒíŠ¸ ê°œìš”

**íŒŒì¼**: [`src/components/buildings/BuildingProcessPlanPage.tsx`](../src/components/buildings/BuildingProcessPlanPage.tsx)

**ì—­í• **: í”„ë¡œì íŠ¸ ë‚´ ëª¨ë“  ë™ì˜ ê³µì •ê³„íšì„ ìˆ˜ë¦½í•˜ê³  ê´€ë¦¬í•˜ëŠ” ë©”ì¸ í˜ì´ì§€

**ì£¼ìš” ê¸°ëŠ¥**:
- ë™ë³„ íƒ­ ë„¤ë¹„ê²Œì´ì…˜
- 6ê°œ ê³µì • êµ¬ë¶„ ì„¹ì…˜
- ê³µì • íƒ€ì… ì„ íƒ ë“œë¡­ë‹¤ìš´
- ì„¸ë¶€ê³µì • í•­ëª© í…Œì´ë¸”
- ì‹¤ì‹œê°„ ìë™ ê³„ì‚°
- ìˆœì‘ì—…ì¼ ìˆ˜ë™ ì˜¤ë²„ë¼ì´ë“œ
- LocalStorage ì €ì¥/ë¡œë“œ

### 5.1.2 ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°

```mermaid
graph TB
    Main[BuildingProcessPlanPage]
    Main --> Tabs[BuildingTabs<br/>ë™ ì„ íƒ]
    Main --> Summary[ê³µì •ì¼ìˆ˜ ìš”ì•½]
    Main --> SaveBtn[ì €ì¥ ë²„íŠ¼]
    
    Main --> Cat1[ë²„ë¦¼ êµ¬ë¶„ ì„¹ì…˜]
    Main --> Cat2[ê¸°ì´ˆ êµ¬ë¶„ ì„¹ì…˜]
    Main --> Cat3[ì§€í•˜ì¸µ êµ¬ë¶„ ì„¹ì…˜]
    Main --> Cat4[ì…‹íŒ…ì¸µ êµ¬ë¶„ ì„¹ì…˜]
    Main --> Cat5[ê¸°ì¤€ì¸µ êµ¬ë¶„ ì„¹ì…˜]
    Main --> Cat6[ì˜¥íƒ‘ì¸µ êµ¬ë¶„ ì„¹ì…˜]
    
    Cat5 --> Header[ì„¹ì…˜ í—¤ë”]
    Header --> TypeSelect[ê³µì • íƒ€ì… ì„ íƒ]
    Header --> Expand[ì ‘ê¸°/í¼ì¹˜ê¸°]
    
    Cat5 --> Table[ì„¸ë¶€ê³µì • í…Œì´ë¸”]
    Table --> Row1[í•­ëª© 1: ë¨¹ë§¤ê¹€]
    Table --> Row2[í•­ëª© 2: ê°±í¼ì„¤ì¹˜]
    Table --> Row3[í•­ëª© 3: ì² ê·¼ì¡°ë¦½]
    Table --> Row4[í•­ëª© 4: ì•Œí¼ì¡°ë¦½]
    Table --> Row5[í•­ëª© 5: ìŠ¬ë¼ë¸Œì² ê·¼]
    Table --> Row6[í•­ëª© 6: íƒ€ì„¤]
    
    Row6 --> Col1[ì‘ì—… í•­ëª©ëª…]
    Row6 --> Col2[ë¬¼ëŸ‰]
    Row6 --> Col3[ìƒì‚°ì„±]
    Row6 --> Col4[ì´ ì¸ì›]
    Row6 --> Col5[ì¥ë¹„ ëŒ€ìˆ˜]
    Row6 --> Col6[1ì¼ íˆ¬ì…]
    Row6 --> Col7[ìˆœì‘ì—…ì¼]
    Row6 --> Col8[ê°„ì ‘ì¼]
    Row6 --> Col9[ì´ì¼ìˆ˜]
    Row6 --> Col10[ìˆ˜ì • ë²„íŠ¼]
    
    style Main fill:#e3f2fd
    style Cat5 fill:#fff3e0
    style Table fill:#f3e5f5
```

### 5.1.3 ìƒíƒœ ê´€ë¦¬

```typescript
export function BuildingProcessPlanPage({ projectId }: Props) {
  // 1. ë™ ëª©ë¡
  const [buildings, setBuildings] = useState<Building[]>([]);
  
  // 2. ê³µì •ê³„íš ë§µ (buildingId â†’ ProcessPlan)
  const [processPlans, setProcessPlans] = useState<Map<string, BuildingProcessPlan>>(
    new Map()
  );
  
  // 3. ë¡œë”© ìƒíƒœ
  const [isLoading, setIsLoading] = useState<boolean>(false);
  
  // 4. ì„¹ì…˜ ì ‘ê¸°/í¼ì¹˜ê¸° ìƒíƒœ (buildingId-category ì¡°í•©)
  const [expandedModules, setExpandedModules] = useState<Map<string, Set<string>>>(
    new Map()
  );
  
  // 5. í˜„ì¬ ì„ íƒëœ ë™ ì¸ë±ìŠ¤
  const [activeBuildingIndex, setActiveBuildingIndex] = useState<number>(0);
  
  // í˜„ì¬ ë™
  const currentBuilding = buildings[activeBuildingIndex];
  
  // í˜„ì¬ ë™ì˜ ê³µì •ê³„íš
  const currentPlan = processPlans.get(currentBuilding?.id);
}
```

### 5.1.4 ë°ì´í„° ë¡œë“œ

```typescript
// ì´ˆê¸° ë°ì´í„° ë¡œë“œ
useEffect(() => {
  async function loadData() {
    setIsLoading(true);
    
    try {
      // 1. ë™ ëª©ë¡ ë¡œë“œ
      const loadedBuildings = await getBuildings(projectId);
      setBuildings(loadedBuildings);
      
      // 2. ê° ë™ì˜ ê³µì •ê³„íš ë¡œë“œ
      const plans = new Map<string, BuildingProcessPlan>();
      
      for (const building of loadedBuildings) {
        const key = `contech_process_plan_${building.id}`;
        const data = localStorage.getItem(key);
        
        if (data) {
          const plan = JSON.parse(data) as BuildingProcessPlan;
          plans.set(building.id, plan);
        } else {
          // ì´ˆê¸° ê³µì •ê³„íš ìƒì„±
          const initialPlan = createInitialProcessPlan(building);
          plans.set(building.id, initialPlan);
        }
      }
      
      setProcessPlans(plans);
    } catch (error) {
      console.error('Failed to load data:', error);
      toast.error('ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨');
    } finally {
      setIsLoading(false);
    }
  }
  
  loadData();
}, [projectId]);

// ì´ˆê¸° ê³µì •ê³„íš ìƒì„±
function createInitialProcessPlan(building: Building): BuildingProcessPlan {
  return {
    id: `plan-${building.id}`,
    buildingId: building.id,
    projectId: building.projectId,
    processes: {
      'ë²„ë¦¼': { days: 0, processType: 'í‘œì¤€ê³µì •' },
      'ê¸°ì´ˆ': { days: 0, processType: 'í‘œì¤€ê³µì •' },
      'ì§€í•˜ì¸µ': { days: 0, processType: 'í‘œì¤€ê³µì •' },
      'ì…‹íŒ…ì¸µ': { days: 0, processType: 'í‘œì¤€ê³µì •' },
      'ê¸°ì¤€ì¸µ': { days: 0, processType: building.meta.standardFloorCycle ? `${building.meta.standardFloorCycle}ì¼ ì‚¬ì´í´` : '6ì¼ ì‚¬ì´í´' },
      'ì˜¥íƒ‘ì¸µ': { days: 0, processType: 'í‘œì¤€ê³µì •' },
    },
    totalDays: 0,
    createdAt: new Date().toISOString(),
    updatedAt: new Date().toISOString(),
  };
}
```

### 5.1.5 ê³µì • íƒ€ì… ë³€ê²½ í•¸ë“¤ëŸ¬

```typescript
const handleProcessTypeChange = useCallback((
  category: ProcessCategory,
  newProcessType: ProcessType
) => {
  if (!currentBuilding || !currentPlan) return;
  
  // 1. ê³µì •ê³„íš ì—…ë°ì´íŠ¸
  const updatedPlan: BuildingProcessPlan = {
    ...currentPlan,
    processes: {
      ...currentPlan.processes,
      [category]: {
        ...currentPlan.processes[category],
        processType: newProcessType,
        days: 0,  // ì¬ê³„ì‚° í•„ìš”
      },
    },
    updatedAt: new Date().toISOString(),
  };
  
  // 2. ê³µì •ì¼ìˆ˜ ì¬ê³„ì‚°
  const calculatedDays = calculateCategoryDays(category, newProcessType, currentBuilding);
  updatedPlan.processes[category]!.days = calculatedDays;
  
  // 3. ì „ì²´ ì¼ìˆ˜ ì¬ê³„ì‚°
  updatedPlan.totalDays = Object.values(updatedPlan.processes)
    .reduce((sum, p) => sum + (p?.days || 0), 0);
  
  // 4. ìƒíƒœ ì—…ë°ì´íŠ¸
  setProcessPlans(prev => new Map(prev).set(currentBuilding.id, updatedPlan));
  
  // 5. LocalStorage ì €ì¥
  const key = `contech_process_plan_${currentBuilding.id}`;
  localStorage.setItem(key, JSON.stringify(updatedPlan));
  
  toast.success(`${category} ê³µì • íƒ€ì…ì´ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤.`);
}, [currentBuilding, currentPlan]);
```

### 5.1.6 ë Œë”ë§ ì˜ˆì‹œ

#### ê³µì • êµ¬ë¶„ ì„¹ì…˜

```tsx
<div className="mb-6">
  {/* í—¤ë” */}
  <div className="flex items-center justify-between mb-4 p-4 bg-slate-50 dark:bg-slate-800 rounded-lg">
    <div className="flex items-center gap-4">
      <h3 className="text-lg font-semibold text-slate-900 dark:text-white">
        ê¸°ì¤€ì¸µ
      </h3>
      
      {/* ê³µì • íƒ€ì… ì„ íƒ */}
      <select
        value={currentPlan?.processes['ê¸°ì¤€ì¸µ']?.processType || '6ì¼ ì‚¬ì´í´'}
        onChange={(e) => handleProcessTypeChange('ê¸°ì¤€ì¸µ', e.target.value)}
        className="px-3 py-2 border rounded-lg"
      >
        <option value="5ì¼ ì‚¬ì´í´">5ì¼ ì‚¬ì´í´</option>
        <option value="6ì¼ ì‚¬ì´í´">6ì¼ ì‚¬ì´í´</option>
        <option value="7ì¼ ì‚¬ì´í´">7ì¼ ì‚¬ì´í´</option>
        <option value="8ì¼ ì‚¬ì´í´">8ì¼ ì‚¬ì´í´</option>
      </select>
      
      {/* ê³µì •ì¼ìˆ˜ í‘œì‹œ */}
      <span className="px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-sm font-medium">
        {currentPlan?.processes['ê¸°ì¤€ì¸µ']?.days || 0}ì¼
      </span>
    </div>
    
    {/* ì ‘ê¸°/í¼ì¹˜ê¸° ë²„íŠ¼ */}
    <button onClick={() => toggleExpand('ê¸°ì¤€ì¸µ')}>
      {isExpanded ? <ChevronUp /> : <ChevronDown />}
    </button>
  </div>
  
  {/* ì„¸ë¶€ê³µì • í…Œì´ë¸” (í¼ì³ì§„ ìƒíƒœ) */}
  {isExpanded && (
    <table className="w-full text-sm">
      <thead>
        <tr className="bg-slate-100 dark:bg-slate-700">
          <th className="px-4 py-2">ì‘ì—…í•­ëª©</th>
          <th className="px-4 py-2">ë¬¼ëŸ‰</th>
          <th className="px-4 py-2">ìƒì‚°ì„±</th>
          <th className="px-4 py-2">ì´ì¸ì›</th>
          <th className="px-4 py-2">ì¥ë¹„</th>
          <th className="px-4 py-2">1ì¼íˆ¬ì…</th>
          <th className="px-4 py-2">ìˆœì‘ì—…ì¼</th>
          <th className="px-4 py-2">ê°„ì ‘ì¼</th>
          <th className="px-4 py-2">ì´ì¼ìˆ˜</th>
          <th className="px-4 py-2">ìˆ˜ì •</th>
        </tr>
      </thead>
      <tbody>
        {processItems.map(item => (
          <ProcessItemRow key={item.id} item={item} building={currentBuilding} />
        ))}
      </tbody>
    </table>
  )}
</div>
```

#### ì„¸ë¶€ê³µì • í•­ëª© í–‰

```tsx
function ProcessItemRow({ item, building }: { item: ProcessItem; building: Building }) {
  // ë¬¼ëŸ‰ ê°€ì ¸ì˜¤ê¸°
  const quantity = item.quantityReference
    ? getQuantityByReference(item.quantityReference, floor, building)
    : 0;
  
  // ê³„ì‚°
  const totalWorkers = calculateTotalWorkers(quantity, item.dailyProductivity);
  const equipmentCount = item.equipmentCalculationBase
    ? calculateEquipmentCount(quantity, item.equipmentCalculationBase)
    : item.equipmentCount;
  const dailyInputWorkers = item.equipmentWorkersPerUnit
    ? equipmentCount * item.equipmentWorkersPerUnit
    : Math.ceil(totalWorkers / (item.directWorkDays || 1));
  const directWorkDays = item.directWorkDays
    ? item.directWorkDays
    : calculateWorkDaysWithRounding(quantity, item.dailyProductivity, dailyInputWorkers);
  const totalDays = calculateTotalWorkDays(directWorkDays, item.indirectDays);
  
  return (
    <tr className="border-b hover:bg-slate-50 dark:hover:bg-slate-800">
      <td className="px-4 py-2">{item.workItem}</td>
      <td className="px-4 py-2">{quantity.toFixed(2)} {item.unit}</td>
      <td className="px-4 py-2">{item.dailyProductivity}</td>
      <td className="px-4 py-2">{totalWorkers}ëª…</td>
      <td className="px-4 py-2">{equipmentCount}ëŒ€</td>
      <td className="px-4 py-2">{dailyInputWorkers}ëª…</td>
      <td className="px-4 py-2">{directWorkDays}ì¼</td>
      <td className="px-4 py-2">{item.indirectDays}ì¼</td>
      <td className="px-4 py-2 font-semibold">{totalDays}ì¼</td>
      <td className="px-4 py-2">
        <button onClick={() => handleEditDirectWorkDays(item)}>
          <Edit className="w-4 h-4" />
        </button>
      </td>
    </tr>
  );
}
```

### 5.1.7 ìˆœì‘ì—…ì¼ ìˆ˜ë™ ì˜¤ë²„ë¼ì´ë“œ

```typescript
const handleEditDirectWorkDays = useCallback((item: ProcessItem) => {
  const currentValue = currentPlan?.itemDirectWorkDaysOverrides?.[item.id] || item.directWorkDays || 0;
  
  // ì‚¬ìš©ì ì…ë ¥ ë°›ê¸°
  const newValue = prompt(`ìˆœì‘ì—…ì¼ì„ ì…ë ¥í•˜ì„¸ìš” (í˜„ì¬: ${currentValue}ì¼):`, currentValue.toString());
  
  if (newValue === null) return;
  
  const parsedValue = parseFloat(newValue);
  
  if (isNaN(parsedValue) || parsedValue < 0) {
    toast.error('ìœ íš¨í•œ ìˆ«ìë¥¼ ì…ë ¥í•˜ì„¸ìš”.');
    return;
  }
  
  // ì˜¤ë²„ë¼ì´ë“œ ì €ì¥
  const updatedPlan: BuildingProcessPlan = {
    ...currentPlan!,
    itemDirectWorkDaysOverrides: {
      ...currentPlan!.itemDirectWorkDaysOverrides,
      [item.id]: parsedValue,
    },
    updatedAt: new Date().toISOString(),
  };
  
  // ì €ì¥
  setProcessPlans(prev => new Map(prev).set(currentBuilding!.id, updatedPlan));
  localStorage.setItem(
    `contech_process_plan_${currentBuilding!.id}`,
    JSON.stringify(updatedPlan)
  );
  
  toast.success('ìˆœì‘ì—…ì¼ì´ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤.');
}, [currentBuilding, currentPlan]);
```

---

## 5.2 ì§€í•˜ì¸µê³µì •ê³„íší‘œ

### 5.2.1 ì»´í¬ë„ŒíŠ¸ ê°œìš”

**íŒŒì¼**: [`src/components/buildings/BasementProcessPlanPage.tsx`](../src/components/buildings/BasementProcessPlanPage.tsx)

**ì—­í• **: ì§€í•˜ì¸µ ê³µì •ì„ ë” ìƒì„¸í•˜ê²Œ ê´€ë¦¬í•˜ëŠ” í˜ì´ì§€

**ì¶”ê°€ ê¸°ëŠ¥**:
- ê°€ì„¤ê³µì‚¬/í™ë§‰ì´/í† ê³µì‚¬ ì¼ìˆ˜ ì…ë ¥
- ì£¼ì°¨ì¥ ë° 3ë‹¨ ê°€ì‹œì„¤ íŠ¹ìˆ˜ ë¬¼ëŸ‰ ì…ë ¥
- ì¸µë³„ ì„¸ë¶€ ê³µì • ê³„íš

### 5.2.2 ì§€í•˜ì¸µ íŠ¹ìˆ˜ í•„ë“œ

```tsx
<Card className="p-6 mb-6">
  <h3 className="text-lg font-semibold mb-4">ì§€í•˜ì¸µ ì‚¬ì „ ê³µì‚¬</h3>
  
  <div className="grid grid-cols-3 gap-4">
    {/* ê°€ì„¤ê³µì‚¬ */}
    <div>
      <label className="block text-sm font-medium mb-2">
        ê°€ì„¤ê³µì‚¬ ì¼ìˆ˜
      </label>
      <Input
        type="number"
        value={currentPlan?.temporaryWorkDays || ''}
        onChange={(e) => handleTemporaryWorkDaysChange(parseInt(e.target.value))}
        placeholder="ì¼ìˆ˜ ì…ë ¥"
      />
    </div>
    
    {/* í™ë§‰ì´ ê³µì‚¬ */}
    <div>
      <label className="block text-sm font-medium mb-2">
        í™ë§‰ì´ ê³µì‚¬ ì¼ìˆ˜
      </label>
      <Input
        type="number"
        value={currentPlan?.earthRetentionWorkDays || ''}
        onChange={(e) => handleEarthRetentionWorkDaysChange(parseInt(e.target.value))}
        placeholder="ì¼ìˆ˜ ì…ë ¥"
      />
    </div>
    
    {/* í† ê³µì‚¬ */}
    <div>
      <label className="block text-sm font-medium mb-2">
        í† ê³µì‚¬ ì¼ìˆ˜
      </label>
      <Input
        type="number"
        value={currentPlan?.earthworkWorkDays || ''}
        onChange={(e) => handleEarthworkWorkDaysChange(parseInt(e.target.value))}
        placeholder="ì¼ìˆ˜ ì…ë ¥"
      />
    </div>
  </div>
</Card>
```

### 5.2.3 ì£¼ì°¨ì¥/ê°€ì‹œì„¤ íŠ¹ìˆ˜ ë¬¼ëŸ‰

```tsx
<Card className="p-6 mb-6">
  <h3 className="text-lg font-semibold mb-4">B1ì¸µ ì£¼ì°¨ì¥ íŠ¹ìˆ˜ ë¬¼ëŸ‰</h3>
  
  <table className="w-full text-sm">
    <thead>
      <tr>
        <th>í•­ëª©</th>
        <th>ê°±í¼(ã¡)</th>
        <th>ì•Œí¼(ã¡)</th>
        <th>í˜•í‹€(ã¡)</th>
        <th>ì² ê·¼(ton)</th>
        <th>ì½˜í¬ë¦¬íŠ¸(ã¥)</th>
      </tr>
    </thead>
    <tbody>
      {/* ì£¼ì°¨ì¥ */}
      <tr>
        <td>ì£¼ì°¨ì¥</td>
        <td>
          <Input
            type="number"
            value={specialQuantities?.['B1-parking']?.gangForm || ''}
            onChange={(e) => handleSpecialQuantityChange('B1-parking', 'gangForm', e.target.value)}
          />
        </td>
        <td>
          <Input
            type="number"
            value={specialQuantities?.['B1-parking']?.alForm || ''}
            onChange={(e) => handleSpecialQuantityChange('B1-parking', 'alForm', e.target.value)}
          />
        </td>
        {/* ... ë‚˜ë¨¸ì§€ ì»¬ëŸ¼ */}
      </tr>
      
      {/* 3ë‹¨ ê°€ì‹œì„¤ */}
      <tr>
        <td>3ë‹¨ ê°€ì‹œì„¤ ì ìš©ë¶€</td>
        <td>
          <Input
            type="number"
            value={specialQuantities?.['B1-facility3']?.gangForm || ''}
            onChange={(e) => handleSpecialQuantityChange('B1-facility3', 'gangForm', e.target.value)}
          />
        </td>
        {/* ... ë‚˜ë¨¸ì§€ ì»¬ëŸ¼ */}
      </tr>
    </tbody>
  </table>
</Card>
```

---

## 5.3 ëŒ€ì‹œë³´ë“œ ì»´í¬ë„ŒíŠ¸

### 5.3.1 ConstructionDashboard

**íŒŒì¼**: [`src/components/dashboard/ConstructionDashboard.tsx`](../src/components/dashboard/ConstructionDashboard.tsx)

**ì—­í• **: í”„ë¡œì íŠ¸ ì „ì²´ ê³µì • í˜„í™©ì„ í•œëˆˆì— ë³´ì—¬ì£¼ëŠ” ëŒ€ì‹œë³´ë“œ

```tsx
export function ConstructionDashboard({ projectId }: Props) {
  return (
    <div className="space-y-6">
      <KPICards />
      <CCTVSection projectId={projectId} />
      <TaktView />
      <BuildingProgress />
    </div>
  );
}
```

### 5.3.2 KPICards (ì£¼ìš” ì§€í‘œ)

```tsx
export function KPICards() {
  return (
    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
      {/* ì „ì²´ ì§„ë„ìœ¨ */}
      <Card className="p-6">
        <div className="flex items-center justify-between mb-2">
          <h3 className="text-sm font-medium text-slate-500">ì „ì²´ ì§„ë„ìœ¨</h3>
          <BarChart3 className="w-5 h-5 text-blue-500" />
        </div>
        <p className="text-3xl font-bold text-slate-900 dark:text-white">68%</p>
        <p className="text-xs text-slate-500 mt-1">ëª©í‘œ ëŒ€ë¹„ +2%</p>
      </Card>
      
      {/* ê¸ˆì£¼ ì‘ì—… */}
      <Card className="p-6">
        <div className="flex items-center justify-between mb-2">
          <h3 className="text-sm font-medium text-slate-500">ê¸ˆì£¼ ì‘ì—…</h3>
          <Calendar className="w-5 h-5 text-emerald-500" />
        </div>
        <p className="text-3xl font-bold text-slate-900 dark:text-white">12</p>
        <p className="text-xs text-slate-500 mt-1">ì™„ë£Œ 8 / ì§„í–‰ 4</p>
      </Card>
      
      {/* íˆ¬ì… ì¸ì› */}
      <Card className="p-6">
        <div className="flex items-center justify-between mb-2">
          <h3 className="text-sm font-medium text-slate-500">íˆ¬ì… ì¸ì›</h3>
          <Users className="w-5 h-5 text-amber-500" />
        </div>
        <p className="text-3xl font-bold text-slate-900 dark:text-white">85ëª…</p>
        <p className="text-xs text-slate-500 mt-1">ì „ì¼ ëŒ€ë¹„ +5ëª…</p>
      </Card>
      
      {/* ì§€ì—° ì‘ì—… */}
      <Card className="p-6">
        <div className="flex items-center justify-between mb-2">
          <h3 className="text-sm font-medium text-slate-500">ì§€ì—° ì‘ì—…</h3>
          <AlertTriangle className="w-5 h-5 text-red-500" />
        </div>
        <p className="text-3xl font-bold text-red-600">2</p>
        <p className="text-xs text-slate-500 mt-1">ì¡°ì¹˜ í•„ìš”</p>
      </Card>
    </div>
  );
}
```

### 5.3.3 TaktView (ë™ë³„ ì§„í–‰ìƒí™©)

**íŒŒì¼**: [`src/components/dashboard/TaktView.tsx`](../src/components/dashboard/TaktView.tsx)

```tsx
export function TaktView() {
  const [filter, setFilter] = useState<string>('all');
  
  const allTasks: TaskItem[] = [
    { id: '1', building: '101ë™', floor: '7ì¸µ', task: 'ê±°í‘¸ì§‘ ì„¤ì¹˜' },
    { id: '2', building: '102ë™', floor: '3ì¸µ', task: 'ì² ê·¼ ë°°ê·¼' },
    { id: '3', building: '103ë™', floor: '10ì¸µ', task: 'ì½˜í¬ë¦¬íŠ¸ íƒ€ì„¤' },
    // ... more tasks
  ];
  
  const filteredTasks = filter === 'all'
    ? allTasks
    : allTasks.filter(task => task.building === filter);
  
  return (
    <Card className="p-6">
      <div className="flex items-center justify-between mb-6">
        <h3 className="text-lg font-semibold">ë™ë³„ ì§„í–‰ìƒí™©</h3>
        
        {/* í•„í„° */}
        <Button variant="outline" size="sm" onClick={() => setFilterOpen(!filterOpen)}>
          <Filter className="w-4 h-4 mr-2" />
          í•„í„°
        </Button>
      </div>
      
      {/* í…Œì´ë¸” */}
      <table className="w-full text-sm">
        <thead>
          <tr>
            <th>ë™ (Building)</th>
            <th>ì¸µ (Floor)</th>
            <th>ì‘ì—… ë‚´ìš© (Task)</th>
            <th>ê´€ë¦¬</th>
          </tr>
        </thead>
        <tbody>
          {filteredTasks.map(task => (
            <tr key={task.id}>
              <td>{task.building}</td>
              <td>{task.floor}</td>
              <td>{task.task}</td>
              <td>
                <Button variant="ghost" size="icon">
                  <MoreHorizontal className="w-4 h-4" />
                </Button>
              </td>
            </tr>
          ))}
        </tbody>
      </table>
    </Card>
  );
}
```

### 5.3.4 BuildingProgress (ì¸µë³„ ì§„í–‰ë¥  íˆíŠ¸ë§µ)

**íŒŒì¼**: [`src/components/dashboard/BuildingProgress.tsx`](../src/components/dashboard/BuildingProgress.tsx)

```tsx
export function BuildingProgress() {
  const buildings = ['101ë™', '102ë™', '103ë™', '104ë™', '105ë™', '106ë™', '107ë™'];
  const floors = Array.from({ length: 20 }, (_, i) => 20 - i); // 20F ~ 1F
  
  const getFloorStatus = (building: string, floor: number) => {
    // ë™ë³„ë¡œ ë‹¤ë¥¸ ì§„ë„ ì‹œë®¬ë ˆì´ì…˜
    const currentFloor = getCurrentFloor(building);
    
    if (floor < currentFloor) return { status: 'completed', label: 'ì™„ë£Œ' };
    if (floor === currentFloor) return { status: 'in-progress', label: 'ì§„í–‰ì¤‘' };
    return { status: 'not-started', label: 'ë¯¸ì°©ìˆ˜' };
  };
  
  const getStatusColor = (status: string) => {
    switch (status) {
      case 'completed': return 'bg-blue-500';
      case 'in-progress': return 'bg-emerald-500 animate-pulse';
      default: return 'bg-slate-200 dark:bg-slate-800';
    }
  };
  
  return (
    <Card className="p-6">
      <h3 className="text-lg font-semibold mb-4">ì „ì²´ ë™ ìƒì„¸ ì§„í–‰ë¥ </h3>
      
      {/* ë²”ë¡€ */}
      <div className="flex gap-4 text-xs mb-4">
        <div className="flex items-center gap-2">
          <div className="w-3 h-3 rounded bg-blue-500" />
          <span>ì™„ë£Œ</span>
        </div>
        <div className="flex items-center gap-2">
          <div className="w-3 h-3 rounded bg-emerald-500" />
          <span>ì§„í–‰ì¤‘</span>
        </div>
        <div className="flex items-center gap-2">
          <div className="w-3 h-3 rounded bg-slate-200 dark:bg-slate-800" />
          <span>ë¯¸ì°©ìˆ˜</span>
        </div>
      </div>
      
      {/* íˆíŠ¸ë§µ */}
      <div className="overflow-x-auto">
        {/* í—¤ë” (ë™ ì´ë¦„) */}
        <div className="flex mb-2">
          <div className="w-12" /> {/* Yì¶• ë¼ë²¨ ê³µê°„ */}
          {buildings.map(building => (
            <div key={building} className="flex-1 text-center text-sm font-medium">
              {building}
            </div>
          ))}
        </div>
        
        {/* ì¸µë³„ í–‰ */}
        {floors.map(floor => (
          <div key={floor} className="flex items-center gap-1 mb-1">
            {/* Yì¶• ë¼ë²¨ (ì¸µìˆ˜) */}
            <div className="w-12 text-right pr-3 text-xs text-slate-500">
              {floor}F
            </div>
            
            {/* ë™ë³„ ì…€ */}
            {buildings.map(building => {
              const { status, label } = getFloorStatus(building, floor);
              return (
                <TooltipProvider key={`${building}-${floor}`}>
                  <Tooltip>
                    <TooltipTrigger asChild>
                      <div
                        className={`flex-1 h-6 rounded-sm transition-colors cursor-pointer ${getStatusColor(status)}`}
                      />
                    </TooltipTrigger>
                    <TooltipContent>
                      <p className="font-semibold">{building} {floor}ì¸µ</p>
                      <p className="text-xs">{label}</p>
                    </TooltipContent>
                  </Tooltip>
                </TooltipProvider>
              );
            })}
          </div>
        ))}
      </div>
    </Card>
  );
}
```

---

ì´ë¡œì¨ 5ë¶€ UI ì»´í¬ë„ŒíŠ¸ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ë‹¤ìŒ ì„¹ì…˜ì—ì„œëŠ” ê°„íŠ¸ì°¨íŠ¸ í†µí•©ì„ ë‹¤ë£¹ë‹ˆë‹¤.

---

# 6ë¶€: ê°„íŠ¸ì°¨íŠ¸ í†µí•©

## 6.1 í†µí•© ê³„íš

### 6.1.1 ê°œìš”

ConTech-DXëŠ” **sa-gantt-lib** ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ê³µì •ê³„íšì„ ê°„íŠ¸ì°¨íŠ¸ë¡œ ì‹œê°í™”í•©ë‹ˆë‹¤.

**í†µí•© ë¬¸ì„œ**: [`docs/GANTT_INTEGRATION_PLAN.md`](./GANTT_INTEGRATION_PLAN.md)

#### ì£¼ìš” ê²°ì • ì‚¬í•­

| í•­ëª© | ê²°ì • | ì´ìœ  |
|------|------|------|
| **ë¼ì´ë¸ŒëŸ¬ë¦¬** | sa-gantt-lib | ìì²´ ê°œë°œ, Tailwind CSS v4 í˜¸í™˜, React 19 ì§€ì› |
| **ì„¤ì¹˜ ë°©ì‹** | npm pack â†’ tarball ì„¤ì¹˜ | í”„ë¼ì´ë¹— íŒ¨í‚¤ì§€ ë¡œì»¬ ë°°í¬ |
| **ë°ì´í„° ê³„ì¸µ** | 2ë‹¨ê³„ (ë™ â†’ ê³µì •) | Level 1: ë™(CP), Level 2: ê³µì •(TASK) |
| **ì˜ì¡´ì„± ì²˜ë¦¬** | ìë™ ìˆœì°¨ | ë²„ë¦¼ â†’ ê¸°ì´ˆ â†’ ì§€í•˜ì¸µ â†’ ì…‹íŒ…ì¸µ â†’ ê¸°ì¤€ì¸µ â†’ ì˜¥íƒ‘ì¸µ |

### 6.1.2 WBS êµ¬ì¡°

```mermaid
graph TB
    Project[í”„ë¡œì íŠ¸]
    
    Project --> B101[101ë™<br/>Level 1 - CP]
    Project --> B102[102ë™<br/>Level 1 - CP]
    Project --> B103[103ë™<br/>Level 1 - CP]
    
    B101 --> P1[ë²„ë¦¼<br/>Level 2 - TASK<br/>3ì¼]
    B101 --> P2[ê¸°ì´ˆ<br/>Level 2 - TASK<br/>10ì¼]
    B101 --> P3[ì§€í•˜ì¸µ<br/>Level 2 - TASK<br/>45ì¼]
    B101 --> P4[ì…‹íŒ…ì¸µ<br/>Level 2 - TASK<br/>12ì¼]
    B101 --> P5[ê¸°ì¤€ì¸µ<br/>Level 2 - TASK<br/>90ì¼]
    B101 --> P6[ì˜¥íƒ‘ì¸µ<br/>Level 2 - TASK<br/>15ì¼]
    
    P1 -.->|finish-to-start| P2
    P2 -.->|finish-to-start| P3
    P3 -.->|finish-to-start| P4
    P4 -.->|finish-to-start| P5
    P5 -.->|finish-to-start| P6
    
    style B101 fill:#e3f2fd
    style P1 fill:#fff3e0
    style P2 fill:#fff3e0
    style P3 fill:#fff3e0
    style P4 fill:#fff3e0
    style P5 fill:#fff3e0
    style P6 fill:#fff3e0
```

**WBS ì˜ˆì‹œ**:
```
í”„ë¡œì íŠ¸
â”œâ”€â”€ 101ë™ (CP)
â”‚   â”œâ”€â”€ ë²„ë¦¼ (TASK) - 3ì¼
â”‚   â”œâ”€â”€ ê¸°ì´ˆ (TASK) - 10ì¼ (ë²„ë¦¼ ì™„ë£Œ í›„ ì‹œì‘)
â”‚   â”œâ”€â”€ ì§€í•˜ì¸µ (TASK) - 45ì¼ (ê¸°ì´ˆ ì™„ë£Œ í›„ ì‹œì‘)
â”‚   â”œâ”€â”€ ì…‹íŒ…ì¸µ (TASK) - 12ì¼
â”‚   â”œâ”€â”€ ê¸°ì¤€ì¸µ (TASK) - 90ì¼
â”‚   â””â”€â”€ ì˜¥íƒ‘ì¸µ (TASK) - 15ì¼
â”œâ”€â”€ 102ë™ (CP)
â”‚   â””â”€â”€ ... (ë™ì¼ êµ¬ì¡°)
â””â”€â”€ 103ë™ (CP)
    â””â”€â”€ ... (ë™ì¼ êµ¬ì¡°)
```

### 6.1.3 ê¸°ìˆ  í˜¸í™˜ì„±

| í•­ëª© | ConTech-DX | sa-gantt-lib | í˜¸í™˜ |
|------|------------|--------------|------|
| **React** | 19.2.0 | ^18 \|\| ^19 | âœ… |
| **TailwindCSS** | v4 | v4 | âœ… |
| **ë‹¤í¬ëª¨ë“œ** | `.dark` í´ë˜ìŠ¤ | `.dark` í´ë˜ìŠ¤ | âœ… |
| **date-fns** | 4.x | 4.x | âœ… |
| **TypeScript** | 5.x | 5.x | âœ… |

---

## 6.2 ë°ì´í„° ë³€í™˜ ë ˆì´ì–´

### 6.2.1 ë³€í™˜ íë¦„

```mermaid
graph LR
    subgraph ConTechë°ì´í„°[ConTech-DX ë°ì´í„°]
        PP[BuildingProcessPlan]
        B[Building ì •ë³´]
    end
    
    subgraph ë³€í™˜ë ˆì´ì–´[ë³€í™˜ ë ˆì´ì–´]
        Adapter[ProcessDataAdapter]
    end
    
    subgraph Ganttë°ì´í„°[Gantt ë°ì´í„°]
        L1[Level 1: ë™ CP]
        L2[Level 2: ê³µì • TASK]
    end
    
    PP --> Adapter
    B --> Adapter
    
    Adapter -->|transform| L1
    Adapter -->|transform| L2
    
    L1 -.->|ì‚¬ìš©ì ë“œë˜ê·¸| L1_2[ìˆ˜ì •ëœ CP]
    L2 -.->|ì‚¬ìš©ì ë“œë˜ê·¸| L2_2[ìˆ˜ì •ëœ TASK]
    
    L1_2 -->|reverse<br/>transform| Adapter2[ProcessDataAdapter]
    L2_2 --> Adapter2
    
    Adapter2 --> PP2[ì—…ë°ì´íŠ¸ëœ<br/>ProcessPlan]
    
    style ConTechë°ì´í„° fill:#e3f2fd
    style ë³€í™˜ë ˆì´ì–´ fill:#fff3e0
    style Ganttë°ì´í„° fill:#f3e5f5
```

### 6.2.2 ProcessDataAdapter ì„¤ê³„

**íŒŒì¼**: `src/components/gantt/ProcessDataAdapter.ts` (ìƒì„± ì˜ˆì •)

#### í•µì‹¬ í•¨ìˆ˜

```typescript
/**
 * BuildingProcessPlan â†’ ConstructionTask[] ë³€í™˜
 */
export function transformBuildingProcessPlanToTasks(
  buildings: Building[],
  processPlans: Map<string, BuildingProcessPlan>
): ConstructionTask[] {
  const tasks: ConstructionTask[] = [];
  let taskId = 1;
  
  buildings.forEach((building, index) => {
    const plan = processPlans.get(building.id);
    if (!plan) return;
    
    // Level 1: ë™ (CP)
    const cpTask: ConstructionTask = {
      id: `cp-${building.id}`,
      parentId: null,
      wbsLevel: 1,
      type: 'CP',
      name: building.buildingName,
      startDate: calculateBuildingStartDate(building, index),
      endDate: calculateBuildingEndDate(building, plan),
      cp: {
        cpId: building.id,
        cpName: building.buildingName,
        zone: building.buildingNumber.toString(),
      },
      dependencies: [],
    };
    tasks.push(cpTask);
    
    // Level 2: ê³µì • (TASK)
    const categories: ProcessCategory[] = [
      'ë²„ë¦¼', 'ê¸°ì´ˆ', 'ì§€í•˜ì¸µ', 'ì…‹íŒ…ì¸µ', 'ê¸°ì¤€ì¸µ', 'ì˜¥íƒ‘ì¸µ'
    ];
    
    let currentStartDate = cpTask.startDate;
    let prevTaskId: string | null = null;
    
    categories.forEach((category) => {
      const processInfo = plan.processes[category];
      if (!processInfo || processInfo.days === 0) return;
      
      const taskStartDate = currentStartDate;
      const taskEndDate = addWorkingDays(taskStartDate, processInfo.days);
      
      const processTask: ConstructionTask = {
        id: `task-${building.id}-${category}`,
        parentId: cpTask.id,
        wbsLevel: 2,
        type: 'TASK',
        name: `${building.buildingName} ${category}`,
        startDate: taskStartDate,
        endDate: taskEndDate,
        task: {
          taskId: `${building.id}-${category}`,
          taskName: category,
          duration: processInfo.days,
        },
        dependencies: prevTaskId
          ? [{ predecessorId: prevTaskId, type: 'finish-to-start', lag: 0 }]
          : [],
      };
      
      tasks.push(processTask);
      
      currentStartDate = taskEndDate;
      prevTaskId = processTask.id;
    });
  });
  
  return tasks;
}

/**
 * ConstructionTask[] â†’ BuildingProcessPlan ì—­ë³€í™˜
 * (ê°„íŠ¸ì°¨íŠ¸ì—ì„œ ìˆ˜ì •ëœ ì¼ì •ì„ ê³µì •ê³„íšì— ë°˜ì˜)
 */
export function updateProcessPlanFromTask(
  task: ConstructionTask,
  processPlans: Map<string, BuildingProcessPlan>
): BuildingProcessPlan | null {
  // 1. Task IDì—ì„œ buildingIdì™€ category ì¶”ì¶œ
  const match = task.id.match(/^task-(.+)-(.+)$/);
  if (!match) return null;
  
  const [, buildingId, category] = match;
  const plan = processPlans.get(buildingId);
  if (!plan) return null;
  
  // 2. ìƒˆë¡œìš´ ì¼ìˆ˜ ê³„ì‚°
  const newDays = calculateWorkingDaysBetween(task.startDate, task.endDate);
  
  // 3. ê³µì •ê³„íš ì—…ë°ì´íŠ¸
  const updatedPlan: BuildingProcessPlan = {
    ...plan,
    processes: {
      ...plan.processes,
      [category as ProcessCategory]: {
        ...plan.processes[category as ProcessCategory]!,
        days: newDays,
      },
    },
    totalDays: Object.values(plan.processes)
      .reduce((sum, p) => sum + ((p?.days || 0) === plan.processes[category as ProcessCategory]!.days ? newDays : (p?.days || 0)), 0),
    updatedAt: new Date().toISOString(),
  };
  
  return updatedPlan;
}

// í—¬í¼ í•¨ìˆ˜: ì‘ì—…ì¼ ê³„ì‚°
function calculateWorkingDaysBetween(start: Date, end: Date): number {
  let count = 0;
  const current = new Date(start);
  
  while (current <= end) {
    const dayOfWeek = current.getDay();
    // ì£¼ë§ ì œì™¸ (í† ìš”ì¼=6, ì¼ìš”ì¼=0)
    if (dayOfWeek !== 0 && dayOfWeek !== 6) {
      count++;
    }
    current.setDate(current.getDate() + 1);
  }
  
  return count;
}

// í—¬í¼ í•¨ìˆ˜: ì‘ì—…ì¼ ì¶”ê°€
function addWorkingDays(date: Date, days: number): Date {
  const result = new Date(date);
  let remainingDays = days;
  
  while (remainingDays > 0) {
    result.setDate(result.getDate() + 1);
    const dayOfWeek = result.getDay();
    if (dayOfWeek !== 0 && dayOfWeek !== 6) {
      remainingDays--;
    }
  }
  
  return result;
}
```

### 6.2.3 GanttChart ì»´í¬ë„ŒíŠ¸

**íŒŒì¼**: `src/components/gantt/ProcessGanttChart.tsx` (ìƒì„± ì˜ˆì •)

```typescript
'use client';

import { useState, useEffect, useCallback } from 'react';
import { GanttChart } from 'sa-gantt-lib';
import type { ConstructionTask, Milestone } from 'sa-gantt-lib';
import { getBuildings } from '@/lib/services/buildings';
import { transformBuildingProcessPlanToTasks, updateProcessPlanFromTask } from './ProcessDataAdapter';
import { toast } from 'sonner';

interface Props {
  projectId: string;
}

export function ProcessGanttChart({ projectId }: Props) {
  const [tasks, setTasks] = useState<ConstructionTask[]>([]);
  const [milestones, setMilestones] = useState<Milestone[]>([]);
  const [isLoading, setIsLoading] = useState(true);
  
  // ë°ì´í„° ë¡œë“œ
  useEffect(() => {
    async function loadData() {
      try {
        setIsLoading(true);
        
        // 1. ë™ ëª©ë¡ ë¡œë“œ
        const buildings = await getBuildings(projectId);
        
        // 2. ê³µì •ê³„íš ë¡œë“œ
        const processPlans = new Map<string, BuildingProcessPlan>();
        buildings.forEach((building) => {
          const key = `contech_process_plan_${building.id}`;
          const data = localStorage.getItem(key);
          if (data) {
            processPlans.set(building.id, JSON.parse(data));
          }
        });
        
        // 3. Gantt ë°ì´í„°ë¡œ ë³€í™˜
        const ganttTasks = transformBuildingProcessPlanToTasks(buildings, processPlans);
        setTasks(ganttTasks);
        
      } catch (error) {
        console.error('Failed to load gantt data:', error);
        toast.error('ê°„íŠ¸ì°¨íŠ¸ ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨');
      } finally {
        setIsLoading(false);
      }
    }
    
    loadData();
  }, [projectId]);
  
  // Task ì—…ë°ì´íŠ¸ í•¸ë“¤ëŸ¬
  const handleTaskUpdate = useCallback((updatedTask: ConstructionTask) => {
    // 1. ê³µì •ê³„íš ì—…ë°ì´íŠ¸
    const updatedPlan = updateProcessPlanFromTask(updatedTask, processPlans);
    
    if (updatedPlan) {
      // 2. LocalStorage ì €ì¥
      const key = `contech_process_plan_${updatedPlan.buildingId}`;
      localStorage.setItem(key, JSON.stringify(updatedPlan));
      
      // 3. UI ì—…ë°ì´íŠ¸
      setTasks(prev => prev.map(t => t.id === updatedTask.id ? updatedTask : t));
      
      toast.success('ê³µì •ê³„íšì´ ì—…ë°ì´íŠ¸ë˜ì—ˆìŠµë‹ˆë‹¤.');
    }
  }, [processPlans]);
  
  // ë·° ë³€ê²½ í•¸ë“¤ëŸ¬
  const handleViewChange = useCallback((view: 'MASTER' | 'DETAIL', cpId?: string) => {
    console.log('View changed:', view, cpId);
  }, []);
  
  if (isLoading) {
    return <div className="flex items-center justify-center h-96">ë¡œë”© ì¤‘...</div>;
  }
  
  return (
    <div className="w-full h-[800px]">
      <GanttChart
        tasks={tasks}
        milestones={milestones}
        initialView="MASTER"
        initialZoomLevel="MONTH"
        onTaskUpdate={handleTaskUpdate}
        onViewChange={handleViewChange}
      />
    </div>
  );
}
```

---

## 6.3 êµ¬í˜„ ì²´í¬ë¦¬ìŠ¤íŠ¸

### 6.3.1 íŒ¨í‚¤ì§€ ì„¤ì¹˜

```bash
# 1. sa-gantt-lib ë¹Œë“œ (ë³„ë„ í”„ë¡œì íŠ¸)
cd /path/to/sa-gantt-lib
npm run build
npm pack
# â†’ sa-gantt-lib-0.1.0-beta.tgz ìƒì„±

# 2. ConTech-DXì— ì„¤ì¹˜
cd /path/to/contech-dx
npm install ../sa-gantt-lib/sa-gantt-lib-0.1.0-beta.tgz
```

### 6.3.2 CSS ì„í¬íŠ¸

**íŒŒì¼**: `src/app/layout.tsx`

```typescript
import 'sa-gantt-lib/dist/style.css';  // globals.css ë’¤ì— ì¶”ê°€
```

### 6.3.3 ì»´í¬ë„ŒíŠ¸ ìƒì„±

**ë””ë ‰í† ë¦¬ êµ¬ì¡°**:
```
src/components/gantt/
â”œâ”€â”€ index.ts                    # ë°°ëŸ´ ìµìŠ¤í¬íŠ¸
â”œâ”€â”€ types.ts                    # í†µí•©ìš© íƒ€ì… ì •ì˜
â”œâ”€â”€ ProcessDataAdapter.ts       # ë°ì´í„° ë³€í™˜ ë ˆì´ì–´
â”œâ”€â”€ useProcessGanttData.ts      # ë°ì´í„° ë¡œë“œ/ì €ì¥ í›…
â””â”€â”€ ProcessGanttChart.tsx       # ë©”ì¸ ì»´í¬ë„ŒíŠ¸
```

**ìƒì„±í•  íŒŒì¼ ëª©ë¡**:

| íŒŒì¼ | ì—­í•  | ë¼ì¸ ìˆ˜ (ì˜ˆìƒ) |
|------|------|---------------|
| `index.ts` | ë°°ëŸ´ ìµìŠ¤í¬íŠ¸ | 10 |
| `types.ts` | íƒ€ì… ì •ì˜ | 50 |
| `ProcessDataAdapter.ts` | ë³€í™˜ í•¨ìˆ˜ | 200 |
| `useProcessGanttData.ts` | ë°ì´í„° í›… | 100 |
| `ProcessGanttChart.tsx` | ë©”ì¸ ì»´í¬ë„ŒíŠ¸ | 150 |

### 6.3.4 ProjectDetailClient ì—…ë°ì´íŠ¸

**íŒŒì¼**: `src/components/projects/ProjectDetailClient.tsx`

**ë³€ê²½ ì „**:
```tsx
{/* ê°„íŠ¸ì°¨íŠ¸ íƒ­ - í”Œë ˆì´ìŠ¤í™€ë” */}
{activeTab === 'gantt' && (
  <div className="p-8">
    <Card className="p-12 text-center">
      <Calendar className="w-16 h-16 mx-auto mb-4 text-slate-400" />
      <h3 className="text-xl font-semibold mb-2">ê°„íŠ¸ì°¨íŠ¸ (ì¤€ë¹„ì¤‘)</h3>
      <p className="text-slate-600 dark:text-slate-400">
        ë™ë³„ ê³µì •ê³„íšì„ ê°„íŠ¸ì°¨íŠ¸ë¡œ ì‹œê°í™”í•©ë‹ˆë‹¤.
      </p>
    </Card>
  </div>
)}
```

**ë³€ê²½ í›„**:
```tsx
{/* ê°„íŠ¸ì°¨íŠ¸ íƒ­ */}
{activeTab === 'gantt' && (
  <div className="p-8">
    <ProcessGanttChart projectId={project.id} />
  </div>
)}
```

### 6.3.5 í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤

#### ì‹œë‚˜ë¦¬ì˜¤ 1: ê¸°ë³¸ ë Œë”ë§

1. í”„ë¡œì íŠ¸ ìƒì„¸ í˜ì´ì§€ ì ‘ì†
2. "ê°„íŠ¸ì°¨íŠ¸" íƒ­ í´ë¦­
3. ëª¨ë“  ë™ì˜ ê³µì •ì´ íƒ€ì„ë¼ì¸ìœ¼ë¡œ í‘œì‹œë˜ëŠ”ì§€ í™•ì¸
4. Master Viewì—ì„œ ì „ì²´ í”„ë¡œì íŠ¸ ì¼ì • í™•ì¸

**ì˜ˆìƒ ê²°ê³¼**:
- 101ë™, 102ë™, 103ë™ ... ìˆœì„œëŒ€ë¡œ í‘œì‹œ
- ê° ë™ í•˜ìœ„ì— 6ê°œ ê³µì • (ë²„ë¦¼â†’ì˜¥íƒ‘ì¸µ) í‘œì‹œ
- ìˆœì°¨ ì˜ì¡´ì„± í™”ì‚´í‘œ í‘œì‹œ

#### ì‹œë‚˜ë¦¬ì˜¤ 2: Detail View ì „í™˜

1. Master Viewì—ì„œ íŠ¹ì • ë™(ì˜ˆ: 101ë™) í´ë¦­
2. Detail Viewë¡œ ì „í™˜
3. í•´ë‹¹ ë™ì˜ ì„¸ë¶€ ê³µì •ë§Œ í™•ëŒ€ í‘œì‹œ

**ì˜ˆìƒ ê²°ê³¼**:
- 101ë™ì˜ 6ê°œ ê³µì •ì´ í¬ê²Œ í‘œì‹œ
- Zoom Level ìë™ ì¡°ì • (MONTH â†’ WEEK)
- ë’¤ë¡œê°€ê¸° ë²„íŠ¼ìœ¼ë¡œ Master View ë³µê·€

#### ì‹œë‚˜ë¦¬ì˜¤ 3: ì¼ì • ë“œë˜ê·¸ ìˆ˜ì •

1. Detail Viewì—ì„œ "ê¸°ì¤€ì¸µ" ì‘ì—… ì„ íƒ
2. íƒ€ì„ë¼ì¸ì„ ë“œë˜ê·¸í•˜ì—¬ ì¼ì • ì¡°ì • (90ì¼ â†’ 100ì¼)
3. ë³€ê²½ì‚¬í•­ ì €ì¥ í™•ì¸

**ì˜ˆìƒ ê²°ê³¼**:
- ê¸°ì¤€ì¸µ ì¼ì •ì´ ì‹œê°ì ìœ¼ë¡œ ë³€ê²½
- í›„ì† ì‘ì—…(ì˜¥íƒ‘ì¸µ) ìë™ ì´ë™
- í† ìŠ¤íŠ¸ ë©”ì‹œì§€: "ê³µì •ê³„íšì´ ì—…ë°ì´íŠ¸ë˜ì—ˆìŠµë‹ˆë‹¤."
- ë™ë³„ê³µì •ê³„íší‘œ í˜ì´ì§€ì—ì„œ ë³€ê²½ì‚¬í•­ ë°˜ì˜ í™•ì¸

#### ì‹œë‚˜ë¦¬ì˜¤ 4: ì˜ì¡´ì„± ìœ ì§€

1. "ë²„ë¦¼" ì‘ì—… ì¼ì • ë³€ê²½
2. í›„ì† ì‘ì—…ë“¤ì´ ì—°ì‡„ì ìœ¼ë¡œ ì´ë™í•˜ëŠ”ì§€ í™•ì¸

**ì˜ˆìƒ ê²°ê³¼**:
- ë²„ë¦¼ â†’ ê¸°ì´ˆ â†’ ì§€í•˜ì¸µ â†’ ... ëª¨ë“  ì‘ì—…ì´ ìˆœì°¨ ì´ë™
- ì˜ì¡´ì„± í™”ì‚´í‘œ ìœ ì§€
- ì „ì²´ í”„ë¡œì íŠ¸ ì¼ì • ì¬ê³„ì‚°

---

ì´ë¡œì¨ 6ë¶€ ê°„íŠ¸ì°¨íŠ¸ í†µí•©ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ë‹¤ìŒ ì„¹ì…˜ì—ì„œëŠ” ì‚¬ìš©ì ê°€ì´ë“œë¥¼ ì œê³µí•©ë‹ˆë‹¤.

---

# 7ë¶€: ì‚¬ìš©ì ê°€ì´ë“œ

## 7.1 ê³µì •ê³„íš ìˆ˜ë¦½ í”„ë¡œì„¸ìŠ¤

### 7.1.1 ì „ì²´ í”„ë¡œì„¸ìŠ¤

```mermaid
graph TD
    Start[ì‹œì‘] --> Step1[1. í”„ë¡œì íŠ¸ ìƒì„±]
    Step1 --> Step2[2. ë™ ì¶”ê°€]
    Step2 --> Step3[3. ë™ ê¸°ë³¸ì •ë³´ ì…ë ¥]
    Step3 --> Step4[4. ì¸µ ì„¤ì •]
    Step4 --> Step5[5. ë¬¼ëŸ‰ ì…ë ¥]
    Step5 --> Step6[6. ê³µì •ê³„íš ìˆ˜ë¦½]
    Step6 --> Step7[7. ê°„íŠ¸ì°¨íŠ¸ í™•ì¸]
    Step7 --> Decision{ìˆ˜ì • í•„ìš”?}
    Decision -->|Yes| Step6
    Decision -->|No| End[ì™„ë£Œ]
    
    style Step6 fill:#fff3e0
    style Step7 fill:#e3f2fd
```

### 7.1.2 ë‹¨ê³„ë³„ ìƒì„¸ ê°€ì´ë“œ

#### 1ë‹¨ê³„: í”„ë¡œì íŠ¸ ìƒì„±

1. ë©”ì¸ ë©”ë‰´ì—ì„œ **"í”„ë¡œì íŠ¸"** í´ë¦­
2. **"+ ìƒˆ í”„ë¡œì íŠ¸"** ë²„íŠ¼ í´ë¦­
3. í”„ë¡œì íŠ¸ ì •ë³´ ì…ë ¥:
   - í”„ë¡œì íŠ¸ëª… (ì˜ˆ: "â—‹â—‹ì•„íŒŒíŠ¸ ì‹ ì¶•ê³µì‚¬")
   - ìœ„ì¹˜ (ì˜ˆ: "ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬")
   - ë°œì£¼ì²˜ (ì˜ˆ: "â—‹â—‹ê±´ì„¤")
   - ì‹œì‘ì¼ / ì¢…ë£Œì¼
   - ê³„ì•½ê¸ˆì•¡
4. **"ìƒì„±"** ë²„íŠ¼ í´ë¦­

#### 2ë‹¨ê³„: ë™ ì¶”ê°€

1. í”„ë¡œì íŠ¸ ìƒì„¸ í˜ì´ì§€ ì§„ì…
2. **"ë™ ê´€ë¦¬"** íƒ­ í´ë¦­
3. **"+ ë™ ì¶”ê°€"** ë²„íŠ¼ í´ë¦­
4. ë™ ê¸°ë³¸ ì •ë³´ ì…ë ¥:
   - ë™ ì´ë¦„ (ì˜ˆ: "101ë™")
   - ë™ ë²ˆí˜¸ (ì˜ˆ: 1)
5. **"ì¶”ê°€"** ë²„íŠ¼ í´ë¦­
6. í•„ìš”í•œ ë§Œí¼ ë™ ì¶”ê°€ ë°˜ë³µ

#### 3ë‹¨ê³„: ë™ ê¸°ë³¸ì •ë³´ ì…ë ¥

1. **"ë™ ê¸°ë³¸ì •ë³´"** íƒ­ í´ë¦­
2. ìƒë‹¨ì—ì„œ ë™ ì„ íƒ (ì˜ˆ: 101ë™)
3. ì •ë³´ ì…ë ¥:
   - **ì´ ì„¸ëŒ€ìˆ˜**: 150ì„¸ëŒ€
   - **ì½”ì–´ ê°œìˆ˜**: 1ê°œ (ë˜ëŠ” 2~4ê°œ)
   - **ì½”ì–´ íƒ€ì…**: ì¤‘ë³µë„(íŒìƒí˜•)
   - **ìŠ¬ë¼ë¸Œ íƒ€ì…**: ë²½ì‹êµ¬ì¡°
   - **ì¸µìˆ˜**:
     - ì§€í•˜ì¸µ: 2ê°œ (B2, B1)
     - ì§€ìƒì¸µ: 20ê°œ (1F~20F)
     - ì˜¥íƒ‘ì¸µ: 1ê°œ (PH1)
   - **ì¸µê³ ** (mm):
     - ì§€í•˜2ì¸µ: 3500
     - ì§€í•˜1ì¸µ: 3500
     - 1ì¸µ: 3200
     - ê¸°ì¤€ì¸µ: 2950
     - ìµœìƒì¸µ: 2950
     - ì˜¥íƒ‘ì¸µ: 2650
   - **ê¸°ì¤€ì¸µ ì‚¬ì´í´**: 6ì¼
   - **íŒí”„ì¹´ ìµœëŒ€ ëŒ€ìˆ˜**: 2ëŒ€
4. **"ì €ì¥"** ë²„íŠ¼ í´ë¦­

#### 4ë‹¨ê³„: ì¸µ ì„¤ì •

1. **"ì¸µ ì„¤ì •"** ì„¹ì…˜ì—ì„œ ìë™ ìƒì„±ëœ ì¸µ ëª©ë¡ í™•ì¸
2. í•„ìš” ì‹œ ì¸µ ë¶„ë¥˜ ë³€ê²½:
   - 1ì¸µ: ì…‹íŒ…ì¸µ
   - 2~5ì¸µ: ì¼ë°˜ì¸µ
   - 6~19ì¸µ: ê¸°ì¤€ì¸µ
   - 20ì¸µ: ìµœìƒì¸µ
   - PH1: ì˜¥íƒ‘ì¸µ
3. ì¸µê³  ì¡°ì • (í•„ìš” ì‹œ):
   - íŠ¹ì • ì¸µ í´ë¦­ â†’ ì¸µê³  ìˆ˜ì •
   - ì˜ˆ: 1ì¸µ ì¸µê³ ë¥¼ 3500ìœ¼ë¡œ ë³€ê²½
4. **"ì €ì¥"** ë²„íŠ¼ í´ë¦­

#### 5ë‹¨ê³„: ë¬¼ëŸ‰ ì…ë ¥

1. **"ë¬¼ëŸ‰ì…ë ¥"** íƒ­ í´ë¦­
2. ì¸µë³„ë¡œ ë¬¼ëŸ‰ ì…ë ¥:

**ë²„ë¦¼** (B3 ë ˆë²¨):
- í˜•í‹€: 200 ã¡
- ì½˜í¬ë¦¬íŠ¸: 80 ã¥

**ê¸°ì´ˆ**:
- í˜•í‹€: 500 ã¡
- ì² ê·¼: 50 ton
- ì½˜í¬ë¦¬íŠ¸: 300 ã¥

**B2ì¸µ**:
- ê°±í¼: 850 ã¡
- ì•Œí¼: 1200 ã¡
- í˜•í‹€: 2050 ã¡
- ì² ê·¼: 120 ton
- ì½˜í¬ë¦¬íŠ¸: 600 ã¥

**ê¸°ì¤€ì¸µ (4ì¸µ ê¸°ì¤€)**:
- ê°±í¼: 120 ã¡
- ì•Œí¼: 1731 ã¡
- ì² ê·¼: 18.83 ton
- ì½˜í¬ë¦¬íŠ¸: 245 ã¥

3. **"ì €ì¥"** ë²„íŠ¼ í´ë¦­

#### 6ë‹¨ê³„: ê³µì •ê³„íš ìˆ˜ë¦½

1. **"ë™ë³„ê³µì •ê³„íš"** íƒ­ í´ë¦­
2. ìƒë‹¨ì—ì„œ ë™ ì„ íƒ (ì˜ˆ: 101ë™)
3. ê° ê³µì • êµ¬ë¶„ë³„ë¡œ ê³µì • íƒ€ì… ì„ íƒ:

**ë²„ë¦¼**: í‘œì¤€ê³µì • (ìë™ ê³„ì‚° â†’ ì•½ 3ì¼)

**ê¸°ì´ˆ**: í‘œì¤€ê³µì • (ìë™ ê³„ì‚° â†’ ì•½ 10ì¼)

**ì§€í•˜ì¸µ**: í‘œì¤€ê³µì • (ìë™ ê³„ì‚° â†’ ì•½ 45ì¼)

**ì…‹íŒ…ì¸µ**: í‘œì¤€ê³µì • (ìë™ ê³„ì‚° â†’ ì•½ 12ì¼)

**ê¸°ì¤€ì¸µ**: 
   - ê³µì • íƒ€ì…: **6ì¼ ì‚¬ì´í´** ì„ íƒ
   - ê¸°ì¤€ì¸µ ìˆ˜: 14ê°œ (6F~19F)
   - ìë™ ê³„ì‚°: 14ì¸µ Ã— 6ì¼ = 84ì¼

**ì˜¥íƒ‘ì¸µ**: í‘œì¤€ê³µì • (ìë™ ê³„ì‚° â†’ ì•½ 15ì¼)

4. ì„¸ë¶€ê³µì • í•­ëª© í™•ì¸:
   - **"ê¸°ì¤€ì¸µ"** ì„¹ì…˜ í¼ì¹˜ê¸°
   - 6ê°œ í•­ëª© í™•ì¸:
     1. ë¨¹ë§¤ê¹€ (1ì¼)
     2. ê°±í¼ì„¤ì¹˜ (1ì¼)
     3. ì˜¹ë²½ì² ê·¼ ì¡°ë¦½ (1ì¼)
     4. ì•Œí¼ì¡°ë¦½ (1ì¼)
     5. ìŠ¬ë¼ë¸Œì² ê·¼ ì¡°ë¦½ (1ì¼)
     6. íƒ€ì„¤ (1ì¼) + ì–‘ìƒ (2ì¼)
   - ì´ 6ì¼ ì‚¬ì´í´ í™•ì¸

5. í•„ìš” ì‹œ ìˆœì‘ì—…ì¼ ìˆ˜ë™ ì¡°ì •:
   - íŠ¹ì • í•­ëª©ì˜ **"ìˆ˜ì •"** ë²„íŠ¼ í´ë¦­
   - ìƒˆë¡œìš´ ì¼ìˆ˜ ì…ë ¥
   - í™•ì¸

6. ì „ì²´ ê³µì •ì¼ìˆ˜ í™•ì¸:
   - í™”ë©´ í•˜ë‹¨ **"ê³µì •ì¼ìˆ˜ ìš”ì•½"** ì„¹ì…˜
   - ë²„ë¦¼(3) + ê¸°ì´ˆ(10) + ì§€í•˜ì¸µ(45) + ì…‹íŒ…ì¸µ(12) + ê¸°ì¤€ì¸µ(84) + ì˜¥íƒ‘ì¸µ(15) = **169ì¼**

7. **"ì €ì¥"** ë²„íŠ¼ í´ë¦­

#### 7ë‹¨ê³„: ê°„íŠ¸ì°¨íŠ¸ í™•ì¸

1. **"ê°„íŠ¸ì°¨íŠ¸"** íƒ­ í´ë¦­
2. ì „ì²´ í”„ë¡œì íŠ¸ ì¼ì •ì„ íƒ€ì„ë¼ì¸ìœ¼ë¡œ í™•ì¸:
   - 101ë™: 169ì¼
   - 102ë™: 169ì¼
   - 103ë™: 169ì¼
3. Detail Viewë¡œ ì „í™˜:
   - íŠ¹ì • ë™(ì˜ˆ: 101ë™) í´ë¦­
   - ì„¸ë¶€ ê³µì •ë³„ ì¼ì • í™•ì¸
4. í•„ìš” ì‹œ ë“œë˜ê·¸ë¡œ ì¼ì • ì¡°ì •:
   - "ê¸°ì¤€ì¸µ" ì‘ì—… ì„ íƒ
   - ë“œë˜ê·¸í•˜ì—¬ ì¼ì • ë³€ê²½
   - ìë™ ì €ì¥ í™•ì¸

---

## 7.2 ì£¼ìš” ê¸°ëŠ¥ ì„¤ëª…

### 7.2.1 ê³µì • íƒ€ì… ë³€ê²½ ì‹œ ì¬ê³„ì‚°

**ê¸°ëŠ¥**: ê³µì • íƒ€ì…ì„ ë³€ê²½í•˜ë©´ ì„¸ë¶€ê³µì • í•­ëª©ê³¼ ì¼ìˆ˜ê°€ ìë™ìœ¼ë¡œ ì¬ê³„ì‚°ë©ë‹ˆë‹¤.

**ì‚¬ìš© ë°©ë²•**:
1. ê³µì • êµ¬ë¶„ ì„¹ì…˜ì˜ **ë“œë¡­ë‹¤ìš´** í´ë¦­
2. ìƒˆë¡œìš´ ê³µì • íƒ€ì… ì„ íƒ (ì˜ˆ: 6ì¼ ì‚¬ì´í´ â†’ 7ì¼ ì‚¬ì´í´)
3. ìë™ ì¬ê³„ì‚° í™•ì¸:
   - ì„¸ë¶€ê³µì • í•­ëª©ì´ ìƒˆë¡œìš´ ëª¨ë“ˆ ë°ì´í„°ë¡œ êµì²´
   - ê° í•­ëª©ì˜ ì¼ìˆ˜ê°€ ì¬ê³„ì‚°
   - ì „ì²´ ê³µì •ì¼ìˆ˜ ì—…ë°ì´íŠ¸

**ì˜ˆì‹œ**:
```
ë³€ê²½ ì „: ê¸°ì¤€ì¸µ 6ì¼ ì‚¬ì´í´ â†’ 14ì¸µ Ã— 6ì¼ = 84ì¼
ë³€ê²½ í›„: ê¸°ì¤€ì¸µ 7ì¼ ì‚¬ì´í´ â†’ 14ì¸µ Ã— 7ì¼ = 98ì¼
ì°¨ì´: +14ì¼
```

### 7.2.2 ìˆœì‘ì—…ì¼ ìˆ˜ë™ ì˜¤ë²„ë¼ì´ë“œ

**ê¸°ëŠ¥**: ìë™ ê³„ì‚°ëœ ìˆœì‘ì—…ì¼ì„ ì‚¬ìš©ìê°€ ì§ì ‘ ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**ì‚¬ìš© ë°©ë²•**:
1. ì„¸ë¶€ê³µì • í…Œì´ë¸”ì—ì„œ ìˆ˜ì •í•  í•­ëª©ì˜ **"ìˆ˜ì •"** ë²„íŠ¼ í´ë¦­
2. í”„ë¡¬í”„íŠ¸ ì°½ì— ìƒˆë¡œìš´ ì¼ìˆ˜ ì…ë ¥ (ì˜ˆ: 1 â†’ 2)
3. í™•ì¸
4. í•´ë‹¹ í•­ëª©ì˜ ìˆœì‘ì—…ì¼ê³¼ ì´ì¼ìˆ˜ê°€ ì¦‰ì‹œ ì—…ë°ì´íŠ¸

**ì£¼ì˜ ì‚¬í•­**:
- ì˜¤ë²„ë¼ì´ë“œëœ ê°’ì€ **ê³µì • íƒ€ì…ì„ ë³€ê²½í•´ë„ ìœ ì§€**ë©ë‹ˆë‹¤.
- ì˜¤ë²„ë¼ì´ë“œë¥¼ í•´ì œí•˜ë ¤ë©´ **ë‹¤ì‹œ ìë™ ê³„ì‚°ê°’ìœ¼ë¡œ ì…ë ¥**í•˜ë©´ ë©ë‹ˆë‹¤.

**ì˜¤ë²„ë¼ì´ë“œ ì €ì¥ ìœ„ì¹˜**:
```typescript
BuildingProcessPlan.itemDirectWorkDaysOverrides
// ì˜ˆ: { "standard-gangform-6day": 2 }
```

### 7.2.3 ì¸µë³„ ê³µì • íƒ€ì… ê°œë³„ ì„¤ì •

**ê¸°ëŠ¥**: ê¸°ì¤€ì¸µ ì¤‘ íŠ¹ì • ì¸µë§Œ ë‹¤ë¥¸ ê³µì • íƒ€ì…ì„ ì ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**ì‚¬ìš© ì‚¬ë¡€**:
- 4ì¸µì— í•„ë¡œí‹°ê°€ ìˆì–´ ì‘ì—…ì´ ë³µì¡í•¨ â†’ 7ì¼ ì‚¬ì´í´ ì ìš©
- 10ì¸µì— íŠ¹ìˆ˜ êµ¬ì¡°ë¬¼ì´ ìˆìŒ â†’ 8ì¼ ì‚¬ì´í´ ì ìš©

**ì‚¬ìš© ë°©ë²•** (í˜„ì¬ UI ë¯¸êµ¬í˜„, ë°ì´í„° ëª¨ë¸ë§Œ ì¤€ë¹„ë¨):
```typescript
// í”„ë¡œê·¸ë˜ë° ë°©ì‹ìœ¼ë¡œ ì„¤ì •
const processPlan: BuildingProcessPlan = {
  processes: {
    'ê¸°ì¤€ì¸µ': {
      days: 90,
      processType: '6ì¼ ì‚¬ì´í´',  // ê¸°ë³¸ê°’
      floors: {
        '4F': { processType: '7ì¼ ì‚¬ì´í´' },  // 4ì¸µë§Œ 7ì¼
        '10F': { processType: '8ì¼ ì‚¬ì´í´' }, // 10ì¸µë§Œ 8ì¼
      }
    }
  }
};
```

**í–¥í›„ UI êµ¬í˜„ ì˜ˆì •**:
- ì¸µë³„ ê³µì • íƒ€ì… ì„ íƒ ë“œë¡­ë‹¤ìš´
- ê¸°ì¤€ì¸µ ì„¹ì…˜ì—ì„œ ì¸µ ëª©ë¡ í¼ì¹˜ê¸°
- ê° ì¸µë§ˆë‹¤ ê°œë³„ ê³µì • íƒ€ì… ì„ íƒ ê°€ëŠ¥

### 7.2.4 ë°ì´í„° ë‚´ë³´ë‚´ê¸°/ê°€ì ¸ì˜¤ê¸°

**ê¸°ëŠ¥**: ê³µì •ê³„íš ë°ì´í„°ë¥¼ JSON íŒŒì¼ë¡œ ë‚´ë³´ë‚´ê±°ë‚˜ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

**ë‚´ë³´ë‚´ê¸°**:
```typescript
// ë²„íŠ¼ í´ë¦­ ì‹œ ì‹¤í–‰ë˜ëŠ” í•¨ìˆ˜
function exportProcessPlan(buildingId: string) {
  const key = `contech_process_plan_${buildingId}`;
  const data = localStorage.getItem(key);
  
  if (!data) {
    toast.error('ì €ì¥ëœ ê³µì •ê³„íšì´ ì—†ìŠµë‹ˆë‹¤.');
    return;
  }
  
  const blob = new Blob([data], { type: 'application/json' });
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url;
  a.download = `process_plan_${buildingId}_${Date.now()}.json`;
  a.click();
  URL.revokeObjectURL(url);
}
```

**ê°€ì ¸ì˜¤ê¸°**:
```typescript
// íŒŒì¼ ì„ íƒ ì‹œ ì‹¤í–‰ë˜ëŠ” í•¨ìˆ˜
function importProcessPlan(file: File, buildingId: string) {
  const reader = new FileReader();
  
  reader.onload = (e) => {
    try {
      const data = e.target?.result as string;
      const plan = JSON.parse(data) as BuildingProcessPlan;
      
      // ìœ íš¨ì„± ê²€ì¦
      if (!plan.buildingId || !plan.processes) {
        throw new Error('ìœ íš¨í•˜ì§€ ì•Šì€ ê³µì •ê³„íš íŒŒì¼ì…ë‹ˆë‹¤.');
      }
      
      // LocalStorageì— ì €ì¥
      const key = `contech_process_plan_${buildingId}`;
      localStorage.setItem(key, data);
      
      toast.success('ê³µì •ê³„íšì„ ê°€ì ¸ì™”ìŠµë‹ˆë‹¤.');
      
      // í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨
      window.location.reload();
      
    } catch (error) {
      console.error('Failed to import:', error);
      toast.error('ê°€ì ¸ì˜¤ê¸° ì‹¤íŒ¨: íŒŒì¼ í˜•ì‹ì´ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.');
    }
  };
  
  reader.readAsText(file);
}
```

---

## 7.3 ë¬¸ì œ í•´ê²° ê°€ì´ë“œ

### 7.3.1 ê³„ì‚° ê²°ê³¼ê°€ ì´ìƒí•  ë•Œ

#### ë¬¸ì œ 1: ê³µì •ì¼ìˆ˜ê°€ 0ì¼ë¡œ í‘œì‹œë¨

**ì›ì¸**:
- ë¬¼ëŸ‰ì´ ì…ë ¥ë˜ì§€ ì•ŠìŒ
- ê³µì • íƒ€ì…ì´ ì„ íƒë˜ì§€ ì•ŠìŒ

**í•´ê²° ë°©ë²•**:
1. **"ë¬¼ëŸ‰ì…ë ¥"** íƒ­ì—ì„œ í•´ë‹¹ ì¸µì˜ ë¬¼ëŸ‰ í™•ì¸
2. ê°±í¼, ì•Œí¼, í˜•í‹€, ì² ê·¼, ì½˜í¬ë¦¬íŠ¸ ê°’ì´ ëª¨ë‘ 0ì´ ì•„ë‹Œì§€ í™•ì¸
3. ë¬¼ëŸ‰ ì…ë ¥ í›„ **"ì €ì¥"** ë²„íŠ¼ í´ë¦­
4. **"ë™ë³„ê³µì •ê³„íš"** íƒ­ìœ¼ë¡œ ëŒì•„ì™€ì„œ ìë™ ì¬ê³„ì‚° í™•ì¸

#### ë¬¸ì œ 2: ê¸°ì¤€ì¸µ ì¼ìˆ˜ê°€ ì˜ˆìƒë³´ë‹¤ ë„ˆë¬´ ì§§ê±°ë‚˜ ê¸¸ìŒ

**ì›ì¸**:
- ê¸°ì¤€ì¸µ ë²”ìœ„ê°€ ì˜ëª» ì„¤ì •ë¨
- ì¸µê³ ê°€ ì˜ëª» ì…ë ¥ë¨

**í•´ê²° ë°©ë²•**:
1. **"ë™ ê¸°ë³¸ì •ë³´"** íƒ­ì—ì„œ **"ì¸µ ì„¤ì •"** ì„¹ì…˜ í™•ì¸
2. ê¸°ì¤€ì¸µìœ¼ë¡œ ë¶„ë¥˜ëœ ì¸µ ê°œìˆ˜ í™•ì¸ (ì˜ˆ: 6~19F = 14ê°œì¸µ)
3. ê³„ì‚° ê²€ì¦:
   - 6ì¼ ì‚¬ì´í´ Ã— 14ê°œì¸µ = 84ì¼
   - ì‹¤ì œ í‘œì‹œëœ ì¼ìˆ˜ì™€ ë¹„êµ
4. ì¸µ ë¶„ë¥˜ê°€ ì˜ëª»ëœ ê²½ìš°:
   - í•´ë‹¹ ì¸µ í´ë¦­
   - ì¸µ ë¶„ë¥˜ ë³€ê²½ (ê¸°ì¤€ì¸µ / ì¼ë°˜ì¸µ / ìµœìƒì¸µ ë“±)
   - **"ì €ì¥"** í›„ ê³µì •ê³„íš ì¬í™•ì¸

#### ë¬¸ì œ 3: ì¥ë¹„ ëŒ€ìˆ˜ ê³„ì‚°ì´ ì´ìƒí•¨

**ì›ì¸**:
- `equipmentCalculationBase` ê°’ì´ ì˜ëª»ë¨
- ë¬¼ëŸ‰ì´ ë¹„ì •ìƒì ìœ¼ë¡œ í¼

**í•´ê²° ë°©ë²•**:
1. ì„¸ë¶€ê³µì • í…Œì´ë¸”ì—ì„œ í•´ë‹¹ í•­ëª©ì˜ ë¬¼ëŸ‰ í™•ì¸
2. ì˜ˆìƒ ì¥ë¹„ ëŒ€ìˆ˜ ê³„ì‚°:
   ```
   ì½˜í¬ë¦¬íŠ¸ 300ã¥ / íŒí”„ì¹´ ëŒ€ë‹¹ 650ã¥ = 0.46
   â†’ CEILING(MIN(2, 0.46), 1) = 1ëŒ€ (ì •ìƒ)
   
   ì½˜í¬ë¦¬íŠ¸ 1500ã¥ / íŒí”„ì¹´ ëŒ€ë‹¹ 650ã¥ = 2.31
   â†’ CEILING(MIN(2, 2.31), 1) = 2ëŒ€ (ì •ìƒ)
   ```
3. ê³„ì‚°ì´ ë§ì§€ ì•Šìœ¼ë©´ ë¬¼ëŸ‰í‘œ ì¬í™•ì¸

### 7.3.2 ë°ì´í„°ê°€ ì €ì¥ë˜ì§€ ì•Šì„ ë•Œ

#### ë¬¸ì œ 1: ì €ì¥ ë²„íŠ¼ì„ ëˆŒëŸ¬ë„ ë³€ê²½ì‚¬í•­ì´ ë°˜ì˜ ì•ˆ ë¨

**ì›ì¸**:
- LocalStorage ìš©ëŸ‰ ì´ˆê³¼
- ë¸Œë¼ìš°ì € ì‹œí¬ë¦¿ ëª¨ë“œ ì‚¬ìš© ì¤‘
- LocalStorage ë¹„í™œì„±í™”

**í•´ê²° ë°©ë²•**:
1. ë¸Œë¼ìš°ì € ì½˜ì†”(F12) ì—´ê¸°
2. Console íƒ­ì—ì„œ ì—ëŸ¬ ë©”ì‹œì§€ í™•ì¸
3. LocalStorage ìš©ëŸ‰ í™•ì¸:
   ```javascript
   // ì½˜ì†”ì— ì…ë ¥
   let total = 0;
   for (let key in localStorage) {
     if (localStorage.hasOwnProperty(key)) {
       total += localStorage[key].length;
     }
   }
   console.log(`LocalStorage ì‚¬ìš©ëŸ‰: ${(total / 1024).toFixed(2)} KB`);
   ```
4. ìš©ëŸ‰ ì´ˆê³¼ ì‹œ:
   - ë¶ˆí•„ìš”í•œ í”„ë¡œì íŠ¸ ë°ì´í„° ì‚­ì œ
   - ë˜ëŠ” ì¤‘ìš” ë°ì´í„°ë¥¼ JSONìœ¼ë¡œ ë‚´ë³´ë‚´ê¸° í›„ LocalStorage ì´ˆê¸°í™”

#### ë¬¸ì œ 2: ë‹¤ë¥¸ ë¸Œë¼ìš°ì €ì—ì„œ ë°ì´í„°ê°€ ì•ˆ ë³´ì„

**ì›ì¸**:
- LocalStorageëŠ” **ë¸Œë¼ìš°ì €ë³„ë¡œ ë…ë¦½ì **ìœ¼ë¡œ ì €ì¥ë¨

**í•´ê²° ë°©ë²•**:
1. ë°ì´í„°ë¥¼ ë‚´ë³´ë‚´ê¸° (JSON íŒŒì¼ë¡œ ì €ì¥)
2. ë‹¤ë¥¸ ë¸Œë¼ìš°ì €ì—ì„œ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
3. ë˜ëŠ” í•­ìƒ **ê°™ì€ ë¸Œë¼ìš°ì €** ì‚¬ìš©

**í–¥í›„ í•´ê²°ì±…**:
- Supabase DB ì—°ë™ í›„ì—ëŠ” ê³„ì • ê¸°ë°˜ìœ¼ë¡œ ëª¨ë“  ë¸Œë¼ìš°ì €ì—ì„œ ì ‘ê·¼ ê°€ëŠ¥

#### ë¬¸ì œ 3: ìƒˆë¡œê³ ì¹¨ í›„ ë°ì´í„°ê°€ ì‚¬ë¼ì§

**ì›ì¸**:
- ë¸Œë¼ìš°ì € ì‹œí¬ë¦¿ ëª¨ë“œ ì‚¬ìš© ì¤‘
- ë¸Œë¼ìš°ì € ìºì‹œ ìë™ ì‚­ì œ ì„¤ì •

**í•´ê²° ë°©ë²•**:
1. **ì‹œí¬ë¦¿ ëª¨ë“œë¥¼ ì‚¬ìš©í•˜ì§€ ë§ˆì„¸ìš”**
2. ë¸Œë¼ìš°ì € ì„¤ì •ì—ì„œ "ì¢…ë£Œ ì‹œ ì¿ í‚¤ ë° ì‚¬ì´íŠ¸ ë°ì´í„° ì‚­ì œ" ì˜µì…˜ ë„ê¸°
3. ì¤‘ìš” ë°ì´í„°ëŠ” **ì •ê¸°ì ìœ¼ë¡œ ë‚´ë³´ë‚´ê¸°** ë°±ì—…

### 7.3.3 ë¸Œë¼ìš°ì € í˜¸í™˜ì„± ì´ìŠˆ

#### ì§€ì› ë¸Œë¼ìš°ì €

| ë¸Œë¼ìš°ì € | ìµœì†Œ ë²„ì „ | ê¶Œì¥ ë²„ì „ | ì§€ì› ìƒíƒœ |
|---------|----------|----------|----------|
| **Chrome** | 90+ | ìµœì‹  | âœ… ì™„ì „ ì§€ì› |
| **Edge** | 90+ | ìµœì‹  | âœ… ì™„ì „ ì§€ì› |
| **Firefox** | 88+ | ìµœì‹  | âœ… ì™„ì „ ì§€ì› |
| **Safari** | 14+ | ìµœì‹  | âš ï¸ ë¶€ë¶„ ì§€ì› |
| **IE 11** | - | - | âŒ ë¯¸ì§€ì› |

#### Safari ì•Œë ¤ì§„ ì´ìŠˆ

**ë¬¸ì œ**: date-fns ì¼ë¶€ ê¸°ëŠ¥ ì˜¤ë¥˜

**í•´ê²° ë°©ë²•**:
- Safari 15 ì´ìƒìœ¼ë¡œ ì—…ë°ì´íŠ¸
- ë˜ëŠ” Chrome/Edge ì‚¬ìš© ê¶Œì¥

#### ëª¨ë°”ì¼ ë¸Œë¼ìš°ì €

| í”Œë«í¼ | ë¸Œë¼ìš°ì € | ì§€ì› ìƒíƒœ |
|--------|---------|----------|
| iOS | Safari | âœ… ì§€ì› |
| iOS | Chrome | âœ… ì§€ì› |
| Android | Chrome | âœ… ì§€ì› |
| Android | Samsung Internet | âœ… ì§€ì› |

**ì£¼ì˜**: ëª¨ë°”ì¼ì—ì„œëŠ” **ê°€ë¡œ ëª¨ë“œ ê¶Œì¥** (ê°„íŠ¸ì°¨íŠ¸ ê°€ì‹œì„±)

---

## ë§ˆì¹˜ë©°

ì´ ë¬¸ì„œëŠ” ConTech-DX ê³µì •ê´€ë¦¬ ì‹œìŠ¤í…œì˜ ì „ì²´ êµ¬ì¡°ì™€ ì‚¬ìš© ë°©ë²•ì„ ìƒì„¸íˆ ë‹¤ë£¨ì—ˆìŠµë‹ˆë‹¤.

### ì¶”ê°€ ë¬¸ì„œ

- **ê°„íŠ¸ì°¨íŠ¸ í†µí•© ê³„íš**: [`GANTT_INTEGRATION_PLAN.md`](./GANTT_INTEGRATION_PLAN.md)
- **Supabase ë§ˆì´ê·¸ë ˆì´ì…˜ ê³„íš**: [`SUPABASE_MIGRATION.md`](./SUPABASE_MIGRATION.md)
- **ì—‘ì…€ ìƒì„¸ë¶„ì„ ë³´ê³ ì„œ**: [`ì—‘ì…€_ìƒì„¸ë¶„ì„ë³´ê³ ì„œ_ì—…ë°ì´íŠ¸.md`](./ì—‘ì…€_ìƒì„¸ë¶„ì„ë³´ê³ ì„œ_ì—…ë°ì´íŠ¸.md)

### ë¬¸ì˜ ë° ì§€ì›

- **GitHub Issues**: ë²„ê·¸ ë¦¬í¬íŠ¸ ë° ê¸°ëŠ¥ ì œì•ˆ
- **ê¸°ìˆ  ë¬¸ì„œ**: `docs/` í´ë” ì°¸ì¡°
- **ê°œë°œ ê°€ì´ë“œ**: `README.md` ì°¸ì¡°

---

**ë¬¸ì„œ ë²„ì „**: 1.0.0  
**ìµœì¢… ìˆ˜ì •ì¼**: 2025ë…„ 1ì›”  
**ì‘ì„±ì**: ConTech-DX Development Team


